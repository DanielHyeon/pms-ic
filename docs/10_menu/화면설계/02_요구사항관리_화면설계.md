# 02. ìš”êµ¬ì‚¬í•­ê´€ë¦¬ í™”ë©´ì„¤ê³„

> ì‘ì„±ì¼: 2026-02-08
> ë²„ì „: v2.0
> ë¼ìš°íŠ¸: `/requirements`, `/requirements/:reqId`
> í•„ìš” Capability: `view_requirements` (ì¡°íšŒ), `decide_requirement_acceptance` (ìˆ˜ìš© ê²°ì •), `link_requirement_trace` (Trace ì—°ê²°)
> ê¸°ë³¸ Preset: ì—­í• ì— ë”°ë¼ ìë™ ê²°ì •
> ë…¸ë“œ ì—­í• : **Detail** (ìƒì„¸ ë…¸ë“œ â€” í•„í„°Â·ì¡°íšŒÂ·ì¶”ì  ì „ìš©)

---

## 1. í™”ë©´ ê°œìš”

### 1.1 ëª©ì 

ìš”êµ¬ì‚¬í•­ê´€ë¦¬ëŠ” **"ê³ ê° RFPì—ì„œ ë‚˜ì˜¨ ìš”êµ¬ê°€ ì§€ê¸ˆ ì–´ë–¤ ìƒíƒœì¸ê°€?"**ì— ëŒ€í•œ ë‹µì„ ì œê³µí•œë‹¤.
ê¸°ì¡´ ì—‘ì…€ ê¸°ë°˜ ìš”êµ¬ì‚¬í•­ ëª©ë¡ì„ **"ì‚´ì•„ìˆëŠ” ê°ì²´"**ë¡œ ì „í™˜í•˜ì—¬, ìš”êµ¬ì‚¬í•­ â†’ Epic â†’ Story â†’ Test Case â†’ ì‚°ì¶œë¬¼ê¹Œì§€ì˜ **ì¶”ì  ì²´ì¸(Trace Chain)**ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œê°í™”í•œë‹¤.

> **v2.0 ë³€ê²½**: Capability ì„¸ë¶„í™” (`manage_requirements` â†’ `decide_requirement_acceptance` + `link_requirement_trace`),
> FilterSpec ì˜¨í†¨ë¡œì§€ ë‚´ì¥, Trace API ì‹ ë¢°ë„ ê³„ì•½, Right Panel panelMode ì •ì˜,
> RequirementChangeRequest ë³„ë„ ì›Œí¬í”Œë¡œìš° ì—”í‹°í‹°, AI ë”¥ë§í¬ FilterSpec ê¸°ë°˜ ì „í™˜.

### 1.2 ì„¤ê³„ ì›ì¹™

| ì›ì¹™ | ì„¤ëª… |
|------|------|
| **ìš”êµ¬ì‚¬í•­ = ì‚´ì•„ìˆëŠ” ê°ì²´** | ì£½ì–´ìˆëŠ” ë¬¸ì„œê°€ ì•„ë‹ˆë¼ ID ê¸°ë°˜ ì¶”ì  ê°€ëŠ¥í•œ ì—”í‹°í‹° |
| **Trace íŒ¨ë„ í•„ìˆ˜** | ìš”êµ¬ì‚¬í•­ ìƒì„¸ í™”ë©´ ìš°ì¸¡ì— í•­ìƒ Trace Chain í‘œì‹œ |
| **RFP ê¸°ì¤€ + ìˆ˜í–‰ì‚¬ ì¬ë¶„ë¥˜ ë³‘í–‰** | ê³ ê°ì‚¬ RFP ì›ë³¸ ë¶„ë¥˜ì™€ ìˆ˜í–‰ì‚¬ ì¬ë¶„ë¥˜ë¥¼ ë™ì‹œì— ê´€ë¦¬ |
| **ë‹¨ê³„ë³„ ì¶”ì ** | Step1~Step7 ê° ë‹¨ê³„ì—ì„œì˜ ìˆ˜ì •/ì‹ ê·œ ê±´ìˆ˜ ì¶”ì  |
| **ìˆ˜ìš© ì—¬ë¶€ ê´€ë¦¬** | ìš°ì„ í˜‘ìƒê¸°ì¤€ + ë³€ê²½ê¸°ì¤€ ì´ì¤‘ ìˆ˜ìš©ì—¬ë¶€ ê´€ë¦¬ |
| **FilterSpec = ì˜¨í†¨ë¡œì§€** | í•„í„° í‚¤ê°€ AI/URL/ë°±ì—”ë“œ ê³µí†µ ìŠ¤í‚¤ë§ˆë¡œ í†µí•© |
| **ë³€ê²½ ìš”ì²­ = ë³„ë„ ì›Œí¬í”Œë¡œìš°** | ê³ ê° PM ë³€ê²½ ìš”ì²­ì€ RequirementChangeRequest ì—”í‹°í‹°ë¡œ ë…ë¦½ ê´€ë¦¬ |

### 1.3 í•µì‹¬ ì§ˆë¬¸ â†’ ìœ„ì ¯ ë§¤í•‘

| ì‚¬ìš©ì ì§ˆë¬¸ | í™”ë©´ ì˜ì—­ | ì„¤ëª… |
|-----------|---------|------|
| "RFP ìš”êµ¬ì‚¬í•­ì´ ì´ ëª‡ ê±´ì´ì•¼?" | ìƒë‹¨ KPI | ëŒ€ë¶„ë¥˜/ì¤‘ë¶„ë¥˜ ê±´ìˆ˜ í†µê³„ |
| "ìˆ˜ìš© ì•ˆ ëœ ê±´ì´ ìˆì–´?" | í•„í„° + ë°°ì§€ | ìˆ˜ìš©ì—¬ë¶€ X/ë¯¸ì • í•„í„° |
| "ì´ ìš”êµ¬ì‚¬í•­ì€ ì–´ë””ê¹Œì§€ êµ¬í˜„ëì–´?" | Trace Panel | ìš”êµ¬ì‚¬í•­â†’Epicâ†’Storyâ†’TCâ†’ì‚°ì¶œë¬¼ |
| "ê¸°ëŠ¥/ë¹„ê¸°ëŠ¥ ë¹„ìœ¨ì€?" | ìƒë‹¨ KPI | ê¸°ëŠ¥/ë¹„ê¸°ëŠ¥ ë¶„í¬ ì°¨íŠ¸ |
| "ì´ë²ˆ ë‹¨ê³„ì— ë°˜ì˜í•´ì•¼ í•  ìš”êµ¬ì‚¬í•­ì€?" | ë‹¨ê³„ë³„ í•„í„° | Step ê¸°ì¤€ ìˆ˜ì •/ì‹ ê·œ í•„í„° |
| "ëŠì–´ì§„ ì¶”ì  ê²½ë¡œëŠ”?" | Trace Panel | traceStatus=breakpoint í•„í„° |
| "ê³ ê° ë³€ê²½ìš”ì²­ ëª‡ ê±´ì´ì•¼?" | KPI + í•„í„° | ë³€ê²½ìš”ì²­ pending ê±´ìˆ˜ |

---

## 2. MenuOntology ë…¸ë“œ

### 2.1 íƒ€ì… í™•ì • (v2.0 ë³€ê²½ì‚¬í•­)

v1.0 ëŒ€ë¹„ ë³€ê²½ëœ í•„ë“œ ê·œê²©:

| í•­ëª© | v1.0 | v2.0 (í™•ì •) | ë³€ê²½ ì‚¬ìœ  |
|------|------|------------|----------|
| `entities` | ì†Œë¬¸ì `"requirement"` | PascalCase `"Requirement"` | EntityType enum ì •ê·œí™” (01_ëŒ€ì‹œë³´ë“œ Â§2.1ê³¼ ë™ì¼) |
| `intents` | 3ê°œ | 13ê°œë¡œ í™•ì¥ | í•„í„°/ì•¡ì…˜ ì§ˆë¬¸ ì»¤ë²„ë¦¬ì§€ í™•ë³´ |
| `manage_requirements` | ë‹¨ì¼ Capability | `decide_requirement_acceptance` + `link_requirement_trace` ë¶„ë¦¬ | ê¶Œí•œ ì„¸ë¶„í™” â€” ìˆ˜ìš© ê²°ì •ê³¼ Trace ì—°ê²°ì€ ë³„ê°œ í–‰ìœ„ |
| `suggestedActions.capability` | ë‹¨ì¼ | `requiredCaps?: Capability[]` + `targetNodeId?: string` | ë³µìˆ˜ ê¶Œí•œ + nodeId ê¸°ë°˜ ì´ë™ |
| `deepLinks.pattern` | `{category}` í˜•íƒœ | `:category` í˜•íƒœ | ë¼ìš°íŠ¸ í…œí”Œë¦¿ í‘œì¤€ í†µì¼ |
| `scopeHints` | ì¶”ìƒ ë‹¨ì¼ | `scope: { keys, params }` 2ê³„ì¸µ ë¶„ë¦¬ | ìŠ¤ì½”í”„ í•´ì„ ì•ˆì •ì„± |
| `ui.highlightMetrics` | ë‹¨ì¼ ë°°ì—´ | `ui.highlight.metricKeys` + `ui.highlight.widgetKeys` | ë°ì´í„° í‚¤ vs UI ìœ„ì ¯ í‚¤ ë¶„ë¦¬ |
| `nodeRole` | ì—†ìŒ | `"detail"` ì‹ ê·œ | AI ìŠ¤ì½”ì–´ë§ ê¸°ì¤€ (í–‰ë™ ì§ˆë¬¸ì— +10 ê°€ì‚°) |
| `filterSpec` | ì—†ìŒ | ì˜¨í†¨ë¡œì§€ ë‚´ì¥ FilterSpec | AI/URL/ë°±ì—”ë“œ í†µí•© í•„í„° í‚¤ |

### 2.2 FilterSpec ì •ì˜

FilterSpecì€ **ì´ í™”ë©´ì´ ì§€ì›í•˜ëŠ” í•„í„° ìŠ¤í‚¤ë§ˆ**ë¥¼ ì˜¨í†¨ë¡œì§€ ë‚´ë¶€ì— ì„ ì–¸í•œë‹¤.
AIê°€ ë”¥ë§í¬ë¥¼ ìƒì„±í•  ë•Œ, URL íŒŒë¼ë¯¸í„° ë¬¸ìì—´ì´ ì•„ë‹ˆë¼ **FilterSpec í‚¤ ê¸°ë°˜ í•„í„° ê°ì²´**ë¥¼ ë°˜í™˜í•œë‹¤.

```typescript
/** ìš”êµ¬ì‚¬í•­ í•„í„° ìŠ¤í‚¤ë§ˆ â€” ì˜¨í†¨ë¡œì§€ ë‚´ì¥ */
export interface RequirementFilterSpec {
  /** ê¸°ëŠ¥/ë¹„ê¸°ëŠ¥ */
  category?: "functional" | "non_functional";
  /** AI/SI/ë¹„ê¸°ëŠ¥ */
  aiSi?: "AI" | "SI" | "non_functional";
  /** ìˆ˜ìš©ì—¬ë¶€ */
  acceptance?: "Y" | "X" | "pending";
  /** ë°˜ì˜ ë‹¨ê³„ */
  step?: number;                          // 1~7
  /** Trace ìƒíƒœ â€” 3ê°’ (linked, unlinked, breakpoint) */
  traceStatus?: "linked" | "unlinked" | "breakpoint";
  /** ë³€ê²½ìœ í˜• */
  changeType?: "new" | "modified" | "maintained";
  /** ììœ  ê²€ìƒ‰ì–´ */
  q?: string;
}
```

> **breakpoint**: Trace Chain ì¤‘ê°„ì— ì—°ê²°ì´ ëŠì–´ì§„ ìƒíƒœ.
> ì˜ˆ: Epicì€ ìˆì§€ë§Œ Storyê°€ ì—†ê±°ë‚˜, StoryëŠ” ìˆì§€ë§Œ TCê°€ ì—†ëŠ” ê²½ìš°.
> ë‹¨ìˆœíˆ linked/unlinked 2ê°’ìœ¼ë¡œëŠ” "ë¶€ë¶„ ì—°ê²° + ì¤‘ë‹¨" ìƒíƒœë¥¼ í‘œí˜„í•  ìˆ˜ ì—†ë‹¤.

### 2.3 Requirements ë…¸ë“œ (í™•ì •ë³¸)

```typescript
const requirementsNode: MenuOntologyNodeV2 = {
  nodeId: "requirements",
  label: "ìš”êµ¬ì‚¬í•­",
  route: "/requirements",
  icon: "DescriptionRounded",
  domain: "plan",
  nodeRole: "detail",              // â˜… ìƒì„¸ ë…¸ë“œ â€” í–‰ë™/í•„í„° ì§ˆë¬¸ì— +10 ê°€ì‚°

  requiredCaps: ["view_requirements"],

  // â”€â”€â”€ ì¸í…íŠ¸: 13ê°œ (v1.0 3ê°œ â†’ v2.0 13ê°œ) â”€â”€â”€
  intents: [
    // Ask ê³„ì—´ â€” ì¡°íšŒ/ì§ˆë¬¸
    "ask_requirement_status",       // "ìš”êµ¬ì‚¬í•­ í˜„í™© ì•Œë ¤ì¤˜"
    "ask_trace_impact",             // "REQ-034 ì¶”ì  ìƒíƒœ ì•Œë ¤ì¤˜"
    "ask_overall_status",           // "ì „ì²´ ìš”êµ¬ì‚¬í•­ ìƒíƒœëŠ”?"
    "ask_requirement_acceptance",   // "ìˆ˜ìš© ì•ˆ ëœ ìš”êµ¬ì‚¬í•­ ìˆì–´?"
    "ask_trace_coverage",           // "Trace Coverage ì–¼ë§ˆì•¼?"
    "ask_requirement_by_step",      // "3ë‹¨ê³„ ë°˜ì˜ ìš”êµ¬ì‚¬í•­ì€?"
    "ask_requirement_change",       // "ë³€ê²½ëœ ìš”êµ¬ì‚¬í•­ ë³´ì—¬ì¤˜"
    "ask_requirement_breakpoint",   // "ëŠì–´ì§„ ì¶”ì  ê²½ë¡œ ìˆì–´?"
    "ask_requirement_by_category",  // "ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ëª©ë¡ì€?"
    // Do ê³„ì—´ â€” ì‹¤í–‰/ë³€ê²½
    "do_decide_acceptance",         // "ì´ ìš”êµ¬ì‚¬í•­ ìˆ˜ìš© ì²˜ë¦¬í•´ì¤˜"
    "do_link_trace",                // "Epic ì—°ê²°í•´ì¤˜"
    "do_request_change",            // "ë³€ê²½ ìš”ì²­ ë“±ë¡í•´ì¤˜"
    "do_export_requirements",       // "ìš”êµ¬ì‚¬í•­ Export í•´ì¤˜"
  ],
  canonicalQuestions: [
    "RFP ìš”êµ¬ì‚¬í•­ í˜„í™© ë³´ì—¬ì¤˜",
    "ìˆ˜ìš© ì•ˆ ëœ ìš”êµ¬ì‚¬í•­ì´ ìˆì–´?",
    "ì´ ìš”êµ¬ì‚¬í•­ì´ ì–´ë””ê¹Œì§€ êµ¬í˜„ëëŠ”ì§€ ì•Œë ¤ì¤˜",
    "ê¸°ëŠ¥/ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë¹„ìœ¨ì€?",
    "ìš”êµ¬ì‚¬í•­ ë³€ê²½ ì´ë ¥ ë³´ì—¬ì¤˜",
    "ë¯¸ë°˜ì˜ ìš”êµ¬ì‚¬í•­ ëª©ë¡ì€?",
    "ëŠì–´ì§„ ì¶”ì  ê²½ë¡œê°€ ìˆì–´?",
    "3ë‹¨ê³„ ë°˜ì˜ ìš”êµ¬ì‚¬í•­ì€ ëª‡ ê±´ì´ì•¼?",
    "Trace Coverage í˜„ì¬ ì–¼ë§ˆì•¼?",
    "ê³ ê° ë³€ê²½ìš”ì²­ ì²˜ë¦¬ ìƒíƒœ ì•Œë ¤ì¤˜",
  ],
  entities: ["Requirement", "Epic", "Story", "TestCase", "Deliverable"],
  keywords: [
    "ìš”êµ¬ì‚¬í•­", "RFP", "ìš”ê±´", "ê¸°ëŠ¥", "ë¹„ê¸°ëŠ¥", "ìˆ˜ìš©", "ì¶”ì ",
    "requirement", "trace", "rfp", "acceptance", "traceability",
    "ë³€ê²½ìš”ì²­", "breakpoint", "ëŠì–´ì§„",
  ],
  metrics: [
    "total_requirements",
    "acceptance_rate",
    "trace_coverage",
    "change_count",
    "unlinked_count",
    "breakpoint_count",
    "change_request_pending",
  ],

  // â”€â”€â”€ FilterSpec ì˜¨í†¨ë¡œì§€ ë‚´ì¥ â”€â”€â”€
  filterSpec: {
    keys: ["category", "aiSi", "acceptance", "step", "traceStatus", "changeType", "q"],
    defaults: {},  // Presetë³„ë¡œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥
  },

  defaultPreset: "PM_WORK",
  presetPolicies: [
    {
      preset: "EXEC_SUMMARY",
      ui: {
        density: "compact",
        defaultRightPanel: "closed",
        highlight: {
          metricKeys: ["total_requirements", "acceptance_rate"],
          widgetKeys: ["KPI_TOTAL", "KPI_ACCEPTANCE"],
        },
        hiddenColumns: ["rfpPage", "proposalPage", "changeAcceptance"],
      },
    },
    {
      preset: "PMO_CONTROL",
      ui: {
        density: "standard",
        defaultRightPanel: "open",
        highlight: {
          metricKeys: ["acceptance_rate", "trace_coverage", "change_count"],
          widgetKeys: ["KPI_ACCEPTANCE", "KPI_TRACE", "TRACE_QUICK_PREVIEW"],
        },
      },
      suggestedActions: [
        {
          key: "export",
          label: "ìš”êµ¬ì‚¬í•­ Export",
          requiredCaps: ["export_reports"],
          targetNodeId: "reports",
        },
      ],
    },
    {
      preset: "PM_WORK",
      ui: {
        density: "detailed",
        defaultRightPanel: "open",
        highlight: {
          metricKeys: ["unlinked_count", "trace_coverage", "breakpoint_count"],
          widgetKeys: ["KPI_UNLINKED", "KPI_TRACE", "TRACE_QUICK_PREVIEW"],
        },
      },
      suggestedActions: [
        {
          key: "link_epic",
          label: "Epic ì—°ê²°",
          requiredCaps: ["link_requirement_trace"],
          targetNodeId: "requirements",
        },
        {
          key: "change_req",
          label: "ë³€ê²½ ìš”ì²­",
          requiredCaps: ["decide_requirement_acceptance"],
          targetNodeId: "requirements",
        },
      ],
    },
    {
      preset: "DEV_EXECUTION",
      ui: {
        density: "standard",
        defaultRightPanel: "open",
        defaultFilters: { traceStatus: "linked" },
        highlight: {
          metricKeys: ["total_requirements"],
          widgetKeys: ["TRACE_QUICK_PREVIEW"],
        },
      },
    },
    {
      preset: "CUSTOMER_APPROVAL",
      ui: {
        density: "compact",
        defaultRightPanel: "open",
        highlight: {
          metricKeys: ["total_requirements", "acceptance_rate", "change_request_pending"],
          widgetKeys: ["KPI_TOTAL", "KPI_ACCEPTANCE", "CHANGE_REQUEST_PANEL"],
        },
      },
      suggestedActions: [
        {
          key: "request_change",
          label: "ë³€ê²½ ìš”ì²­",
          requiredCaps: ["request_requirement_change"],
          targetNodeId: "requirements",
        },
        {
          key: "review",
          label: "ê²€í†  ì™„ë£Œ",
          requiredCaps: ["request_requirement_change"],
          targetNodeId: "requirements",
        },
      ],
    },
  ],

  // â”€â”€â”€ DeepLink: routeTemplate í‘œì¤€ (:param í˜•íƒœ) â”€â”€â”€
  deepLinks: [
    {
      pattern: "/requirements?category=:category",
      description: "ë¶„ë¥˜ë³„ ìš”êµ¬ì‚¬í•­ í•„í„°",
      requiredParams: ["category"],
    },
    {
      pattern: "/requirements?acceptance=:acceptance",
      description: "ìˆ˜ìš©ì—¬ë¶€ë³„ í•„í„°",
      requiredParams: ["acceptance"],
    },
    {
      pattern: "/requirements?traceStatus=:traceStatus",
      description: "Trace ìƒíƒœë³„ í•„í„° (linked/unlinked/breakpoint)",
      requiredParams: ["traceStatus"],
    },
    {
      pattern: "/requirements?step=:step",
      description: "ë‹¨ê³„ë³„ ë°˜ì˜ ìš”êµ¬ì‚¬í•­",
      requiredParams: ["step"],
    },
    {
      pattern: "/requirements/:reqId",
      description: "ìš”êµ¬ì‚¬í•­ ìƒì„¸ + Trace",
      requiredParams: ["reqId"],
    },
  ],

  // â”€â”€â”€ ê°€ìƒ ë…¸ë“œ: ë”¥ë§í¬ë¥¼ ì˜¨í†¨ë¡œì§€ 2ê³„ì¸µìœ¼ë¡œ ìŠ¹ê²© â”€â”€â”€
  virtualNodes: [
    {
      virtualId: "requirements.unlinked",
      label: "ë¯¸ì—°ê²° ìš”êµ¬ì‚¬í•­",
      routeTemplate: "/requirements?traceStatus=unlinked",
      requiredParams: [],
      intents: ["ask_requirement_status", "ask_trace_coverage"],
      description: "Trace ë¯¸ì—°ê²° ìš”êµ¬ì‚¬í•­ ëª©ë¡ ì§ì ‘ ì§„ì…",
    },
    {
      virtualId: "requirements.breakpoint",
      label: "ëŠì–´ì§„ ì¶”ì  ê²½ë¡œ",
      routeTemplate: "/requirements?traceStatus=breakpoint",
      requiredParams: [],
      intents: ["ask_requirement_breakpoint", "ask_trace_impact"],
      description: "Trace Chain ì¤‘ê°„ ë‹¨ì ˆ(breakpoint) ìš”êµ¬ì‚¬í•­ ëª©ë¡",
    },
    {
      virtualId: "requirements.pending",
      label: "ìˆ˜ìš© ë¯¸ì • ìš”êµ¬ì‚¬í•­",
      routeTemplate: "/requirements?acceptance=pending",
      requiredParams: [],
      intents: ["ask_requirement_acceptance"],
      description: "ìˆ˜ìš©ì—¬ë¶€ ë¯¸ì • ìš”êµ¬ì‚¬í•­ í•„í„° ì§ì ‘ ì§„ì…",
    },
    {
      virtualId: "requirements.change-requests",
      label: "ë³€ê²½ìš”ì²­ ëª©ë¡",
      routeTemplate: "/requirements?view=change-requests",
      requiredParams: [],
      intents: ["ask_requirement_change", "do_request_change"],
      description: "ê³ ê° PM ë³€ê²½ìš”ì²­ ëª©ë¡ ì§ì ‘ ì§„ì…",
    },
  ],

  // â”€â”€â”€ ìŠ¤ì½”í”„ 2ê³„ì¸µ ë¶„ë¦¬ â”€â”€â”€
  scope: {
    keys: ["project"],
    params: ["projectId"],
  },

  priority: 2,
};
```

---

## 3. í™”ë©´ êµ¬ì¡°

### 3.1 Right Panel panelMode ì •ì˜

Right Panelì€ í•­ìƒ ë™ì¼í•œ ì˜ì—­ì´ì§€ë§Œ, **panelMode**ì— ë”°ë¼ í‘œì‹œ ë‚´ìš©ì´ ë‹¬ë¼ì§„ë‹¤.
ì¡°ê±´ ë¶„ê¸° ëŒ€ì‹  ëª…ì‹œì  ëª¨ë“œ enumìœ¼ë¡œ ê´€ë¦¬í•œë‹¤.

```typescript
/** Right Panel ëª¨ë“œ â€” ëª…ì‹œì  enum */
export type RequirementPanelMode =
  | "none"       // Right Panel ìˆ¨ê¹€ (EXEC_SUMMARY)
  | "preview"    // Trace Quick Preview (ëª©ë¡ì—ì„œ í–‰ ì„ íƒ)
  | "trace"      // Full Trace Panel (ìƒì„¸ í˜ì´ì§€)
  | "approval"   // ë³€ê²½ìš”ì²­ ìŠ¹ì¸/ê²€í†  (CUSTOMER_APPROVAL)
  | "detail";    // ìš”êµ¬ì‚¬í•­ ìƒì„¸ ì •ë³´ (ìƒì„¸ í˜ì´ì§€ ë‚´ ì „í™˜)
```

**panelMode ê²°ì • ê·œì¹™**:

| ì»¨í…ìŠ¤íŠ¸ | Preset | ê¸°ë³¸ panelMode |
|---------|--------|---------------|
| ëª©ë¡ + í–‰ ë¯¸ì„ íƒ | ALL | `"none"` |
| ëª©ë¡ + í–‰ ì„ íƒ | EXEC_SUMMARY | `"none"` (Right Panel ìì²´ ìˆ¨ê¹€) |
| ëª©ë¡ + í–‰ ì„ íƒ | PM_WORK / PMO_CONTROL / DEV_EXECUTION | `"preview"` |
| ëª©ë¡ + í–‰ ì„ íƒ | CUSTOMER_APPROVAL | `"approval"` |
| ìƒì„¸ í˜ì´ì§€ | ALL | `"trace"` |
| ìƒì„¸ í˜ì´ì§€ + ê¸°ë³¸ì •ë³´ íƒ­ | ALL | `"detail"` â†’ `"trace"` í† ê¸€ ê°€ëŠ¥ |

### 3.2 ìš”êµ¬ì‚¬í•­ ëª©ë¡ (`/requirements`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Page Header                                                  â”‚
â”‚  ìš”êµ¬ì‚¬í•­  [ AI ë³´í—˜ê¸ˆì§€ê¸‰ì‹¬ì‚¬ êµ¬ì¶• ]                           â”‚
â”‚  [ í•„í„° â–¼ ]  [ ê²€ìƒ‰ ğŸ” ]                     [ + ìš”êµ¬ì‚¬í•­ ë“±ë¡ ]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ì „ì²´    â”‚  â”‚ ê¸°ëŠ¥/   â”‚  â”‚ ìˆ˜ìš©ë¥   â”‚  â”‚ Trace   â”‚        â”‚
â”‚  â”‚ 103ê±´   â”‚  â”‚ ë¹„ê¸°ëŠ¥  â”‚  â”‚  88%    â”‚  â”‚ Coverageâ”‚        â”‚
â”‚  â”‚ ëŒ€51 ì¤‘103â”‚ â”‚ 86/17  â”‚  â”‚ Y:91 X:1â”‚  â”‚  72%    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚ ë¯¸ì—°ê²°  â”‚  â”‚ ë³€ê²½ìš”ì²­â”‚                                   â”‚
â”‚  â”‚   8ê±´   â”‚  â”‚   3ê±´   â”‚                                   â”‚
â”‚  â”‚ âš        â”‚  â”‚ pending â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€ í•„í„° ë°” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ë¶„ë¥˜: [ì „ì²´â–¼] ìœ í˜•: [ì „ì²´â–¼] ìˆ˜ìš©: [ì „ì²´â–¼]          â”‚      â”‚
â”‚  â”‚ AI/SI: [ì „ì²´â–¼] ë‹¨ê³„: [ì „ì²´â–¼] Trace: [ì „ì²´â–¼]       â”‚      â”‚
â”‚  â”‚                          â† FilterSpec í‚¤ì™€ 1:1 ë§¤í•‘ â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€ ìš”êµ¬ì‚¬í•­ í…Œì´ë¸” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                        â”‚ panelMode:       â”‚â”‚
â”‚  â”‚ ID     | ìš”ê±´ì œëª©  | ë¶„ë¥˜  | AI/ | ìˆ˜ìš©â”‚ "preview"        â”‚â”‚
â”‚  â”‚        | (ëŒ€/ì¤‘/ì†Œ)| ê¸°ëŠ¥/ | SI  | Y/X â”‚                  â”‚â”‚
â”‚  â”‚        |          | ë¹„ê¸°ëŠ¥|     |     â”‚ Trace Quick      â”‚â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ Preview          â”‚â”‚
â”‚  â”‚ REQ-001| SSOì—°ë™  | ì»¤ìŠ¤í…€| SI  |  Y  â”‚                  â”‚â”‚
â”‚  â”‚        |          | ê¸°ëŠ¥  |     |     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ REQ-004| ë°˜/ì¶œì…  | ë°˜ì¶œì…| SI  |  ?  â”‚ â”‚Epic: 1       â”‚ â”‚â”‚
â”‚  â”‚        | ì‹ ì²­     | ê¸°ëŠ¥  |     |     â”‚ â”‚Story: 3      â”‚ â”‚â”‚
â”‚  â”‚ REQ-008| ë°˜ë¶ˆê°€   | ë°˜ì¶œì…| SI  |  Y  â”‚ â”‚TC: 2(1ì‹¤íŒ¨)  â”‚ â”‚â”‚
â”‚  â”‚        | ì‚¬ìœ í‘œì‹œ | ê¸°ëŠ¥  |     |     â”‚ â”‚ì‚°ì¶œë¬¼: 1     â”‚ â”‚â”‚
â”‚  â”‚ REQ-010| ë°˜ì¶œì…   | ë°˜ì¶œì…| SI  |  Y  â”‚ â”‚              â”‚ â”‚â”‚
â”‚  â”‚        | í†µì œ     | ê¸°ëŠ¥  |     |     â”‚ â”‚TraceStatus:  â”‚ â”‚â”‚
â”‚  â”‚ ...                                    â”‚ â”‚ breakpoint âš  â”‚ â”‚â”‚
â”‚  â”‚                                        â”‚ â”‚(Storyâ†’TC ëŠê¹€)â”‚ â”‚â”‚
â”‚  â”‚                                        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â”‚                                        â”‚ [ìƒì„¸ ë³´ê¸° â†’]    â”‚â”‚
â”‚  â”‚ â—€ 1 2 3 4 5 â–¶  (20ê±´/í˜ì´ì§€)          â”‚                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ìš”êµ¬ì‚¬í•­ ìƒì„¸ (`/requirements/:reqId`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Page Header                                                  â”‚
â”‚  â† ìš”êµ¬ì‚¬í•­  REQ-034  ë°˜/ì¶œì… ì‹ ì²­                             â”‚
â”‚                                          [ í¸ì§‘ ] [ ë³€ê²½ì´ë ¥ ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€ ê¸°ë³¸ ì •ë³´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ panelMode: "trace" â”€â”â”‚
â”‚  â”‚                                    â”‚                      â”‚â”‚
â”‚  â”‚  ìš”êµ¬ì‚¬í•­ ID: REQ-034              â”‚  [ Trace Panel ]     â”‚â”‚
â”‚  â”‚  RFP ìš”ê±´ì œëª©                      â”‚                      â”‚â”‚
â”‚  â”‚    ëŒ€ë¶„ë¥˜: ì˜¤í”ˆì†ŒìŠ¤ ë°˜Â·ì¶œì…         â”‚  RFP-REQ-034         â”‚â”‚
â”‚  â”‚    ì¤‘ë¶„ë¥˜: ë°˜/ì¶œì… ì‹ ì²­            â”‚  â”‚                    â”‚â”‚
â”‚  â”‚    ì†Œë¶„ë¥˜: ì‹ ì²­ ì‚¬ìœ , ì‹œìŠ¤í…œ ë“±ë¡   â”‚  â”œâ”€ Epic              â”‚â”‚
â”‚  â”‚                                    â”‚  â”‚  E-12 ë°˜ì¶œì…ê´€ë¦¬   â”‚â”‚
â”‚  â”‚  ë¶„ë¥˜: ê¸°ëŠ¥                        â”‚  â”‚                    â”‚â”‚
â”‚  â”‚  AI/SI: SI                         â”‚  â”œâ”€ Story             â”‚â”‚
â”‚  â”‚  RFP Page: 14                      â”‚  â”‚  S-88 ë°˜ì…ì‹ ì²­     â”‚â”‚
â”‚  â”‚  ì œì•ˆì„œ Page: 70                   â”‚  â”‚  S-91 ë°˜ì¶œì‹ ì²­     â”‚â”‚
â”‚  â”‚                                    â”‚  â”‚                    â”‚â”‚
â”‚  â”‚  ìˆ˜ìš©ê°€ëŠ¥ì—¬ë¶€                       â”‚  â”œâ”€ Test Case         â”‚â”‚
â”‚  â”‚    ìš°ì„ í˜‘ìƒê¸°ì¤€: Y                  â”‚  â”‚  TC-21 (ì‹¤íŒ¨) ğŸ”´   â”‚â”‚
â”‚  â”‚    ë³€ê²½ê¸°ì¤€: Y                     â”‚  â”‚  TC-35 (í†µê³¼) ğŸŸ¢   â”‚â”‚
â”‚  â”‚                                    â”‚  â”‚                    â”‚â”‚
â”‚  â”‚  ìˆ˜í–‰ì‚¬ ì¬ë¶„ë¥˜: ì†”ë£¨ì…˜             â”‚  â”œâ”€ ì‚°ì¶œë¬¼             â”‚â”‚
â”‚  â”‚  êµ¬ë¶„: ìˆ˜ì •                        â”‚  â”‚  ì„¤ê³„ì„œ_v3.pdf     â”‚â”‚
â”‚  â”‚                                    â”‚  â”‚  (ë¯¸ìŠ¹ì¸) ğŸŸ¡       â”‚â”‚
â”‚  â”œâ”€ RFP ìš”êµ¬ì‚¬í•­ ìƒì„¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚                    â”‚â”‚
â”‚  â”‚                                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚  "ì‚¬ìš©ìì˜ ì…ë ¥ê°’ì„ ìµœì†Œí™” í•       â”‚                      â”‚â”‚
â”‚  â”‚   ìˆ˜ ìˆëŠ” ë°˜/ì¶œì… ì‹ ì²­í™”ë©´ ë°      â”‚  â”€â”€ TraceStatus â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚   í”„ë¡œì„¸ìŠ¤ êµ¬í˜„.                   â”‚  ìƒíƒœ: breakpoint âš   â”‚â”‚
â”‚  â”‚   - ì‹ ì²­ ì‚¬ìœ , ì‚¬ìš© ì‹œìŠ¤í…œ/ì—…ë¬´    â”‚  Epicâ†’Story: âœ…      â”‚â”‚
â”‚  â”‚     ë“±ë¡"                          â”‚  Storyâ†’TC: âŒ (S-91) â”‚â”‚
â”‚  â”‚                                    â”‚  TCâ†’ì‚°ì¶œë¬¼: âœ…       â”‚â”‚
â”‚  â”œâ”€ ë‹¨ê³„ë³„ ë°˜ì˜ í˜„í™© â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚â”‚
â”‚  â”‚                                    â”‚  â”€â”€ Trace ìš”ì•½ â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚  S1  S2  S3  S4  S5  S6  S7       â”‚  ì—°ê²° Epic: 1        â”‚â”‚
â”‚  â”‚  ìˆ˜ì • ì‹ ê·œ                         â”‚  ì—°ê²° Story: 2       â”‚â”‚
â”‚  â”‚  40   8  40   8  40   8  ...       â”‚  TC í†µê³¼: 1/2 (50%)  â”‚â”‚
â”‚  â”‚                                    â”‚  ì‚°ì¶œë¬¼ ìŠ¹ì¸: 0/1    â”‚â”‚
â”‚  â”œâ”€ ë³€ê²½ ì´ë ¥ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚â”‚
â”‚  â”‚                                    â”‚  â”€â”€ ì¶”ì²œ ì•¡ì…˜ â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚  2026-02-01  ë³€ê²½ìš”ì²­ (ê³ ê°PM)     â”‚  âš  TC-21 ì‹¤íŒ¨ í™•ì¸  â”‚â”‚
â”‚  â”‚    â†’ CR-005: ìƒíƒœ=pending          â”‚  â†’ [í…ŒìŠ¤íŠ¸ ê´€ë¦¬]     â”‚â”‚
â”‚  â”‚  2026-01-28  ìˆ˜ìš©í™•ì • (PM)         â”‚  âš  S-91 TC ë¯¸ì—°ê²°   â”‚â”‚
â”‚  â”‚  2026-01-15  ìµœì´ˆë“±ë¡ (PM)         â”‚  â†’ [ë°±ë¡œê·¸ì—ì„œ í™•ì¸] â”‚â”‚
â”‚  â”‚                                    â”‚  âš  ì‚°ì¶œë¬¼ ë¯¸ìŠ¹ì¸     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Presetë³„ ì°¨ì´

### 4.1 EXEC_SUMMARY (Sponsor)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | ì „ì²´ ê±´ìˆ˜, ìˆ˜ìš©ë¥ ë§Œ í‘œì‹œ |
| í…Œì´ë¸” | ëŒ€ë¶„ë¥˜/ì¤‘ë¶„ë¥˜, ìˆ˜ìš©ì—¬ë¶€ë§Œ í‘œì‹œ (ì¶•ì•½) |
| Right Panel | panelMode: `"none"` (ìˆ¨ê¹€) |
| CTA | ì—†ìŒ (ì½ê¸° ì „ìš©) |

### 4.2 PMO_CONTROL (PMO)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | ì „ì²´ ê±´ìˆ˜, ìˆ˜ìš©ë¥ , Trace Coverage, ë³€ê²½ ê±´ìˆ˜ |
| í…Œì´ë¸” | ì „ì²´ ì»¬ëŸ¼ (ìˆ˜ìš©ì—¬ë¶€ + ë‹¨ê³„ë³„ í˜„í™©) |
| Right Panel | panelMode: `"preview"` (í–‰ ì„ íƒ ì‹œ Trace Quick Preview) |
| CTA | `ìš”êµ¬ì‚¬í•­ Export` â†’ targetNodeId: `reports` |

### 4.3 PM_WORK (PM)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | ì „ì²´ ê±´ìˆ˜, ë¯¸ì—°ê²° ê±´ìˆ˜, Trace Coverage, breakpoint ê±´ìˆ˜, ë³€ê²½ ê±´ìˆ˜ |
| í…Œì´ë¸” | ì „ì²´ ì»¬ëŸ¼ + ì—°ê²° Epic/Story ìˆ˜ |
| Right Panel | panelMode: `"preview"` + ì¶”ì²œ ì•¡ì…˜ |
| CTA | `Epic ì—°ê²°` (cap: `link_requirement_trace`), `ë³€ê²½ ìš”ì²­` (cap: `decide_requirement_acceptance`) |

### 4.4 DEV_EXECUTION (DEV / DevReader)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | ì „ì²´ ê±´ìˆ˜, ë‚´ ê´€ë ¨ ìš”êµ¬ì‚¬í•­ ìˆ˜ |
| í…Œì´ë¸” | ê¸°ë³¸ ì»¬ëŸ¼ + ì—°ê²°ëœ Story/Task |
| Right Panel | panelMode: `"preview"` (ì½ê¸° ì „ìš©) |
| CTA | ì—†ìŒ (ì½ê¸° ì „ìš©) |

### 4.5 CUSTOMER_APPROVAL (Customer PM)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | ì „ì²´ ê±´ìˆ˜, ìˆ˜ìš©ë¥ , ë³€ê²½ ìš”ì²­ ê±´ìˆ˜ (pending) |
| í…Œì´ë¸” | RFP ê¸°ì¤€ ì»¬ëŸ¼ ì¤‘ì‹¬ (ìˆ˜ìš©ì—¬ë¶€ ê°•ì¡°) |
| Right Panel | panelMode: `"approval"` (ë³€ê²½ìš”ì²­ ìŠ¹ì¸/ê²€í†  íŒ¨ë„) |
| CTA | `ë³€ê²½ ìš”ì²­` (cap: `request_requirement_change`), `ê²€í†  ì™„ë£Œ` (cap: `request_requirement_change`) |

**CUSTOMER_APPROVAL panelMode: "approval" ìƒì„¸**:

```
â”Œâ”€ Right Panel (panelMode: "approval") â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                               â”‚
â”‚  â”€â”€ ë³€ê²½ ìš”ì²­ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
â”‚  CR-005  ë°˜/ì¶œì… ì‹ ì²­ ê¸°ëŠ¥ ì¶”ê°€ ìš”ì²­          â”‚
â”‚  ìƒíƒœ: pending                               â”‚
â”‚  ìš”ì²­ì: ê³ ê°PM (ê¹€â—‹â—‹)                       â”‚
â”‚  ìš”ì²­ì¼: 2026-02-01                          â”‚
â”‚                                               â”‚
â”‚  ë‚´ìš©:                                        â”‚
â”‚  "ë°˜/ì¶œì… ì‹ ì²­ ì‹œ ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥        â”‚
â”‚   ì¶”ê°€ ìš”ì²­. ê¸°ì¡´ í…ìŠ¤íŠ¸ ì‚¬ìœ  ì™¸ì—            â”‚
â”‚   ì¦ë¹™ ë¬¸ì„œ ì²¨ë¶€ í•„ìš”."                       â”‚
â”‚                                               â”‚
â”‚  â”€â”€ PM ì‘ë‹µ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚  (ì•„ì§ ì‘ë‹µ ì—†ìŒ)                             â”‚
â”‚                                               â”‚
â”‚  [ ê²€í†  ì™„ë£Œ ]  [ ë³€ê²½ ìš”ì²­ ]                â”‚
â”‚                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Trace Panel ìƒì„¸

### 5.1 ê°œë…

Trace Panelì€ **ìš”êµ¬ì‚¬í•­ì´ ì£½ì–´ìˆëŠ” ë¬¸ì„œê°€ ì•„ë‹ˆë¼ ì‚´ì•„ìˆëŠ” ê°ì²´**ì„ì„ ë³´ì—¬ì£¼ëŠ” í•µì‹¬ UIì´ë‹¤.
ìš”êµ¬ì‚¬í•­ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë©´, ê·¸ ìš”êµ¬ì‚¬í•­ì—ì„œ íŒŒìƒëœ ëª¨ë“  ì‹¤í–‰ ê°ì²´(Epic â†’ Story â†’ Test Case â†’ ì‚°ì¶œë¬¼)ì˜ í˜„ì¬ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œí•œë‹¤.

### 5.2 Trace Chain êµ¬ì¡°

```
ìš”êµ¬ì‚¬í•­ (REQ-034)
  â”‚
  â”œâ”€â–º Epic (E-12: ë°˜ì¶œì…ê´€ë¦¬)
  â”‚     â”‚
  â”‚     â”œâ”€â–º Story (S-88: ë°˜ì…ì‹ ì²­) â”€â”€â–º TC (TC-21) âœ…
  â”‚     â”‚     â”œâ”€â–º Task (TSK-155: ë°˜ì… UI êµ¬í˜„)
  â”‚     â”‚     â””â”€â–º Task (TSK-156: ë°˜ì… API ì—°ë™)
  â”‚     â”‚
  â”‚     â””â”€â–º Story (S-91: ë°˜ì¶œì‹ ì²­) â”€â”€â–º TC (ì—†ìŒ) âŒ â† breakpoint
  â”‚           â””â”€â–º Task (TSK-170: ë°˜ì¶œ í”„ë¡œì„¸ìŠ¤ êµ¬í˜„)
  â”‚
  â”œâ”€â–º Test Case (TC-21: ë°˜ì… ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸) â†’ ì‹¤íŒ¨ ğŸ”´
  â”œâ”€â–º Test Case (TC-35: ë°˜ì¶œ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸) â†’ í†µê³¼ ğŸŸ¢
  â”‚
  â””â”€â–º Deliverable (ì„¤ê³„ì„œ_v3.pdf) â†’ ë¯¸ìŠ¹ì¸ ğŸŸ¡
```

### 5.3 Trace ìƒíƒœ í‘œì‹œ ê·œì¹™ â€” 3ê°’ TraceStatus

| ìƒíƒœ | ìƒ‰ìƒ | ì•„ì´ì½˜ | ì˜ë¯¸ |
|------|------|--------|------|
| `linked` (ì™„ë£Œ) | ğŸŸ¢ Green | âœ… | ì •ìƒ ì¶”ì  ì™„ë£Œ |
| `linked` (ì§„í–‰ì¤‘) | ğŸ”µ Blue | ğŸ”„ | ì¶”ì  ì¤‘ (ì§„í–‰ ì¤‘) |
| `linked` (ì‹¤íŒ¨) | ğŸ”´ Red | âŒ | ì¶”ì  ê²½ë¡œì— ë¬¸ì œ ìˆìŒ (TC ì‹¤íŒ¨ ë“±) |
| `linked` (ëŒ€ê¸°) | ğŸŸ¡ Amber | â³ | ìŠ¹ì¸/ê²€í†  ëŒ€ê¸° |
| `unlinked` | âšª Gray | â– | ì•„ì§ ì—°ê²° ì—†ìŒ (Epic ë¯¸ìƒì„± ë“±) |
| **`breakpoint`** | ğŸŸ  Orange | âš  | **Trace Chain ì¤‘ê°„ ë‹¨ì ˆ** |

> **breakpoint ìƒì„¸**: Trace Chain 6ê³„ì¸µ (Reqâ†’Epicâ†’Storyâ†’Taskâ†’TCâ†’ì‚°ì¶œë¬¼) ì¤‘
> ì¤‘ê°„ ë…¸ë“œì—ì„œ ì—°ê²°ì´ ëŠì–´ì§„ ìƒíƒœ. ë‹¨ìˆœ ë¯¸ì—°ê²°(unlinked)ê³¼ ë‹¬ë¦¬
> **"ì‹œì‘ì€ í–ˆì§€ë§Œ ëŠì–´ì§„"** ìƒíƒœë¥¼ êµ¬ë¶„í•˜ì—¬, PMì´ ìš°ì„  ì¡°ì¹˜í•  ëŒ€ìƒì„ ì‹ë³„í•œë‹¤.

**breakpoint íŒì • ì•Œê³ ë¦¬ì¦˜**:

```typescript
function determineTraceStatus(trace: RequirementTrace): TraceStatusValue {
  const hasEpic = trace.epics.length > 0;
  const hasStory = trace.epics.some(e => e.stories.length > 0);
  const hasTask = trace.epics.some(e => e.stories.some(s => s.tasks.length > 0));
  const hasTC = trace.testCases.length > 0;
  const hasDeliverable = trace.deliverables.length > 0;

  // ì•„ë¬´ê²ƒë„ ì—°ê²° ì•ˆ ë¨
  if (!hasEpic) return "unlinked";

  // ì—°ê²° ì²´ì¸ì— ë¹ˆ êµ¬ê°„ì´ ìˆìœ¼ë©´ breakpoint
  const chain = [hasEpic, hasStory, hasTask, hasTC, hasDeliverable];
  let lastTrue = chain.lastIndexOf(true);
  let firstFalse = chain.indexOf(false);

  // ì²« ë²ˆì§¸ falseê°€ ë§ˆì§€ë§‰ trueë³´ë‹¤ ì•ì— ìˆìœ¼ë©´ ì¤‘ê°„ ë‹¨ì ˆ
  if (firstFalse !== -1 && firstFalse < lastTrue) return "breakpoint";

  // ëë¶€ë¶„ì´ ë¯¸ì—°ê²°ì´ë©´ ë‹¨ìˆœ breakpoint (ì§„í–‰ ì¤‘)
  if (firstFalse !== -1) return "breakpoint";

  return "linked";
}
```

### 5.4 Trace Coverage ê³„ì‚°

#### 5.4.1 Factorë³„ ì •ì˜

| Factor | ë¶„ì | ë¶„ëª¨ | ê°€ì¤‘ì¹˜ | ì„¤ëª… |
|--------|------|------|--------|------|
| Epic ì—°ê²°ë¥  | Epic ì—°ê²°ëœ ìš”êµ¬ì‚¬í•­ ìˆ˜ | ì „ì²´ ìš”êµ¬ì‚¬í•­ ìˆ˜ | 0.40 | ìµœìƒìœ„ ì—°ê²° |
| Story ì—°ê²°ë¥  | Story ì—°ê²°ëœ ìš”êµ¬ì‚¬í•­ ìˆ˜ | Epic ì—°ê²°ëœ ìš”êµ¬ì‚¬í•­ ìˆ˜ | 0.30 | Epicâ†’Story ì „í™˜ìœ¨ |
| TC ì—°ê²°ë¥  | TC ì—°ê²°ëœ ìš”êµ¬ì‚¬í•­ ìˆ˜ | Story ì—°ê²°ëœ ìš”êµ¬ì‚¬í•­ ìˆ˜ | 0.20 | í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ |
| ì‚°ì¶œë¬¼ ì—°ê²°ë¥  | ì‚°ì¶œë¬¼ ì—°ê²°ëœ ìš”êµ¬ì‚¬í•­ ìˆ˜ | ì „ì²´ ìš”êµ¬ì‚¬í•­ ìˆ˜ | 0.10 | ìµœì¢… ì‚°ì¶œ í™•ì¸ |

```
Trace Coverage =
  (Epicì—°ê²° / ì „ì²´) Ã— 0.40
+ (Storyì—°ê²° / Epicì—°ê²°) Ã— 0.30
+ (TCì—°ê²° / Storyì—°ê²°) Ã— 0.20
+ (ì‚°ì¶œë¬¼ì—°ê²° / ì „ì²´) Ã— 0.10
```

#### 5.4.2 ê²°ì¸¡ ì²˜ë¦¬ ê·œì¹™

Factorì˜ ë¶„ëª¨ê°€ 0ì¸ ê²½ìš° í•´ë‹¹ Factorë¥¼ ì œì™¸í•˜ê³  **ë‚˜ë¨¸ì§€ ê°€ì¤‘ì¹˜ë¥¼ ì¬ì •ê·œí™”(renormalize)**í•œë‹¤.

```typescript
interface TraceCoverageResult {
  /** ìµœì¢… ê³„ì‚°ëœ Coverage (0~100) */
  value: number;
  /** ê° Factorë³„ ì‹¤ì œ ê³„ì‚° ê°’ */
  factors: {
    key: "epic" | "story" | "tc" | "deliverable";
    numerator: number;
    denominator: number;
    ratio: number;          // denominator=0 ì´ë©´ null
    weight: number;         // ì ìš©ëœ ê°€ì¤‘ì¹˜ (ì¬ì •ê·œí™” í›„)
    available: boolean;     // ê³„ì‚° ê°€ëŠ¥ ì—¬ë¶€
  }[];
  /** ê³„ì‚°ì— ì‚¬ìš©ëœ Factor ìˆ˜ */
  availableFactorCount: number;
  /** ê²½ê³  ë©”ì‹œì§€ */
  warnings: string[];
}

function calculateTraceCoverage(data: TraceData): TraceCoverageResult {
  const factors = [
    { key: "epic",        num: data.epicLinked,        den: data.total,       baseWeight: 0.40 },
    { key: "story",       num: data.storyLinked,       den: data.epicLinked,  baseWeight: 0.30 },
    { key: "tc",          num: data.tcLinked,          den: data.storyLinked, baseWeight: 0.20 },
    { key: "deliverable", num: data.deliverableLinked, den: data.total,       baseWeight: 0.10 },
  ];

  const available = factors.filter(f => f.den > 0);
  const totalWeight = available.reduce((s, f) => s + f.baseWeight, 0);

  const result = available.map(f => ({
    ...f,
    ratio: f.num / f.den,
    weight: f.baseWeight / totalWeight,   // ì¬ì •ê·œí™”
    available: true,
  }));

  const value = result.reduce((s, f) => s + f.ratio * f.weight, 0) * 100;

  const warnings: string[] = [];
  if (available.length < factors.length) {
    const missing = factors.filter(f => f.den === 0).map(f => f.key);
    warnings.push(`ë‹¤ìŒ Factor ë¶„ëª¨=0ìœ¼ë¡œ ì œì™¸ë¨: ${missing.join(", ")}`);
  }

  return {
    value: Math.round(value * 10) / 10,
    factors: factors.map(f => {
      const r = result.find(r => r.key === f.key);
      return r || { ...f, ratio: null, weight: 0, available: false };
    }),
    availableFactorCount: available.length,
    warnings,
  };
}
```

---

## 6. Trace API ì‹ ë¢°ë„ ê³„ì•½

### 6.1 ê°œë…

Trace ë°ì´í„°ëŠ” ì—¬ëŸ¬ ì„œë¹„ìŠ¤(ìš”êµ¬ì‚¬í•­, ë°±ë¡œê·¸, í…ŒìŠ¤íŠ¸, ì‚°ì¶œë¬¼)ì˜ ë¹„ë™ê¸° ì§‘ê³„ì´ë¯€ë¡œ,
**"ì´ ë°ì´í„°ê°€ ì–¼ë§ˆë‚˜ ì‹ ì„ í•˜ê³  ì™„ì „í•œê°€?"**ë¥¼ ë°˜ë“œì‹œ ì‘ë‹µì— í¬í•¨í•´ì•¼ í•œë‹¤.
ëŒ€ì‹œë³´ë“œ (Â§5) íŒ¨í„´ê³¼ ë™ì¼í•œ 3-tuple ì‹ ë¢°ë„ ê³„ì•½ì„ ì ìš©í•œë‹¤.

### 6.2 RequirementTrace ì‘ë‹µ í™•ì¥

```typescript
interface RequirementTraceV2 {
  requirementId: string;

  // â”€â”€â”€ Trace Chain â”€â”€â”€
  epics: {
    id: string;
    title: string;
    status: string;
    stories: {
      id: string;
      title: string;
      status: string;
      tasks: { id: string; title: string; status: string }[];
      /** ì´ Storyì— ì—°ê²°ëœ TC ìœ ë¬´ â€” breakpoint íŒì •ì— ì‚¬ìš© */
      hasLinkedTC: boolean;
    }[];
  }[];
  testCases: {
    id: string;
    name: string;
    type: "unit" | "integration" | "acceptance";
    result: "pass" | "fail" | "pending" | "not_run";
  }[];
  deliverables: {
    id: string;
    name: string;
    status: "draft" | "review" | "approved" | "locked";
    approvalDate?: string;
  }[];

  // â”€â”€â”€ Trace ì ìˆ˜ + ìƒíƒœ â”€â”€â”€
  traceScore: {
    epicLinked: boolean;
    storyLinked: boolean;
    testLinked: boolean;
    deliverableLinked: boolean;
    overallCoverage: number;       // 0~100 (ì¬ì •ê·œí™” ì ìš©)
    /** v2.0: 3ê°’ Trace ìƒíƒœ */
    traceStatus: "linked" | "unlinked" | "breakpoint";
    /** breakpointì¸ ê²½ìš°, ëŠì–´ì§„ êµ¬ê°„ ëª©ë¡ */
    breakpoints?: {
      from: string;                // e.g., "Story S-91"
      expectedNext: string;        // e.g., "TestCase"
      description: string;         // e.g., "S-91ì— TCê°€ ì—°ê²°ë˜ì§€ ì•ŠìŒ"
    }[];
  };

  // â”€â”€â”€ ì‹ ë¢°ë„ 3-tuple (v2.0 ì¶”ê°€) â”€â”€â”€
  /** ë°ì´í„° ê¸°ì¤€ ì‹œì  (ISO 8601) */
  asOf: string;
  /** ì™„ì „ì„± ë¹„ìœ¨ (0~1) â€” ì§‘ê³„ ì™„ë£Œëœ ì†ŒìŠ¤ / ì „ì²´ ì†ŒìŠ¤ */
  completeness: number;
  /** ê²½ê³  ë©”ì‹œì§€ ë°°ì—´ */
  warnings: string[];
}
```

### 6.3 ì‹ ë¢°ë„ í‘œì‹œ ê·œì¹™

| completeness | UI í‘œì‹œ | ì„¤ëª… |
|-------------|---------|------|
| 1.0 | ì—†ìŒ | ì™„ì „í•œ ë°ì´í„° |
| 0.8 ~ 1.0 | `â“˜ ì¼ë¶€ ë°ì´í„° ì§€ì—°` (info) | ë¹„ë™ê¸° ì†ŒìŠ¤ ì¼ë¶€ ë¯¸ë„ì°© |
| < 0.8 | `âš  ë°ì´í„° ë¶ˆì™„ì „` (warning) + ìë™ ì¬ì‹œë„ | ì‹¬ê°í•œ ë°ì´í„° ëˆ„ë½ |

```
asOf í‘œì‹œ ê·œì¹™:
- í˜„ì¬ ì‹œê°ê³¼ asOf ì°¨ì´ê°€ 5ë¶„ ì´ë‚´: í‘œì‹œ ì•ˆ í•¨
- 5ë¶„ ~ 1ì‹œê°„: "5ë¶„ ì „ ê¸°ì¤€" í‘œì‹œ
- 1ì‹œê°„ ì´ìƒ: "2026-02-08 09:00 ê¸°ì¤€" ì „ì²´ í‘œì‹œ + ê²½ê³  ë°°ì§€
```

---

## 7. RequirementChangeRequest ì›Œí¬í”Œë¡œìš°

### 7.1 ê°œë…

ê³ ê° PMì˜ ë³€ê²½ ìš”ì²­ì€ **Requirement ì—”í‹°í‹°ì˜ ìˆ˜ìš©ì—¬ë¶€ ì§ì ‘ ë³€ê²½**ì´ ì•„ë‹ˆë¼,
ë³„ë„ **RequirementChangeRequest** ì—”í‹°í‹°ë¡œ ê´€ë¦¬í•œë‹¤.
ì´ë¥¼ í†µí•´ ë³€ê²½ ìš”ì²­ì˜ ìƒëª…ì£¼ê¸°(ë“±ë¡â†’ê²€í† â†’ìŠ¹ì¸/ë°˜ë ¤â†’ë°˜ì˜)ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì¶”ì í•  ìˆ˜ ìˆë‹¤.

### 7.2 RequirementChangeRequest ì—”í‹°í‹°

```typescript
interface RequirementChangeRequest {
  id: string;                            // CR-001
  requirementId: string;                 // ëŒ€ìƒ ìš”êµ¬ì‚¬í•­ ID (REQ-034)
  projectId: string;

  // ìš”ì²­ ë‚´ìš©
  type: "modify" | "add" | "delete";     // ìˆ˜ì •/ì¶”ê°€/ì‚­ì œ
  title: string;                         // ë³€ê²½ ìš”ì²­ ì œëª©
  description: string;                   // ë³€ê²½ ìƒì„¸ ë‚´ìš©
  reason: string;                        // ë³€ê²½ ì‚¬ìœ 
  attachments?: string[];                // ì²¨ë¶€ íŒŒì¼ ID ëª©ë¡

  // ìƒíƒœ ê´€ë¦¬
  status: "draft" | "pending" | "reviewing" | "approved" | "rejected" | "applied";
  requestedBy: string;                   // ìš”ì²­ì (ê³ ê° PM)
  requestedAt: string;
  reviewedBy?: string;                   // ê²€í† ì (PM)
  reviewedAt?: string;
  reviewComment?: string;                // ê²€í†  ì˜ê²¬

  // ì˜í–¥ë„ ë¶„ì„
  impactAnalysis?: {
    affectedEpics: string[];
    affectedStories: string[];
    estimatedEffort: string;             // "3d", "1w" ë“±
    riskLevel: "low" | "medium" | "high";
  };

  createdAt: string;
  updatedAt: string;
}
```

### 7.3 ë³€ê²½ ìš”ì²­ ìƒíƒœ íë¦„

```
[draft] â”€â”€â†’ [pending] â”€â”€â†’ [reviewing] â”€â”€â†’ [approved] â”€â”€â†’ [applied]
                                      â””â”€â”€â†’ [rejected]

ê³ ê°PM: draft â†’ pending (ë³€ê²½ ìš”ì²­ ì œì¶œ)
PM:     pending â†’ reviewing (ê²€í†  ì‹œì‘)
PM:     reviewing â†’ approved | rejected (ê²€í†  ì™„ë£Œ)
PM:     approved â†’ applied (ìš”êµ¬ì‚¬í•­ì— ë°˜ì˜ ì™„ë£Œ)
```

### 7.4 Capability ë§¤í•‘

| í–‰ìœ„ | Capability | ì—­í•  |
|------|-----------|------|
| ë³€ê²½ ìš”ì²­ ë“±ë¡ | `request_requirement_change` | Customer PM |
| ë³€ê²½ ìš”ì²­ ê²€í†  | `decide_requirement_acceptance` | PM, PMO |
| Trace ì—°ê²°/ë³€ê²½ | `link_requirement_trace` | PM |
| ìš”êµ¬ì‚¬í•­ Export | `export_reports` | PMO |

---

## 8. RFP ê¸°ì¤€ ìš”êµ¬ì‚¬í•­ ë¶„ë¥˜ ì²´ê³„

### 8.1 ê³ ê°ì‚¬ RFP ê¸°ì¤€ ë¶„ë¥˜

```
ìš”êµ¬ì‚¬í•­ (RFP)
  â”œâ”€ ê¸°ëŠ¥ (93ê±´)
  â”‚   â”œâ”€ AI (43ê±´)
  â”‚   â”‚   â”œâ”€ ì†”ë£¨ì…˜ ê¸°ëŠ¥ (69ê±´)
  â”‚   â”‚   â””â”€ ì†”ë£¨ì…˜ I/F (18ê±´)
  â”‚   â””â”€ SI (86ê±´)
  â”‚       â”œâ”€ ì†”ë£¨ì…˜ ê¸°ë°˜ (69ê±´)
  â”‚       â””â”€ ì‹ ê·œ êµ¬ì¶• (17ê±´)
  â”‚
  â””â”€ ë¹„ê¸°ëŠ¥ (10ê±´)
      â”œâ”€ ì»¨ì„¤íŒ… (6ê±´) â†’ ì»¨ì„¤íŒ… (6ê±´)
      â”œâ”€ ì¸í”„ë¼ (4ê±´) â†’ ì¸í”„ë¼ (10ê±´) â†’ ë¹„ê¸°ëŠ¥ (17ê±´)
      â”œâ”€ ë³´ì•ˆ (3ê±´)
      â””â”€ ì„±ëŠ¥ + ê¸°íƒ€
```

### 8.2 ìˆ˜í–‰ì‚¬ ì¬ë¶„ë¥˜ ê¸°ì¤€

| êµ¬ë¶„ | í•´ë‹¹ê±´ìˆ˜ | ì„¤ëª… |
|------|---------|------|
| ê¸°ê²½í—˜ ì†”ë£¨ì…˜ ê¸°ë°˜ êµ¬ì¶• | - | ê¸°ì¡´ ê²½í—˜ ê¸°ë°˜ ì†”ë£¨ì…˜ í™œìš© |
| ì‹ ê·œ ì†”ë£¨ì…˜ êµ¬ì¶• | - | ìƒˆë¡œìš´ ì†”ë£¨ì…˜ ê°œë°œ |
| ê¸°ê²½í—˜ SI ê¸°ë°˜ êµ¬ì¶• | - | ê¸°ì¡´ ê²½í—˜ ê¸°ë°˜ SI |
| ì‹ ê·œ SI êµ¬ì¶• | - | ìƒˆë¡œìš´ SI ê°œë°œ |
| ê¸°ê²½í—˜ ê¸°ë°˜ ë°˜ì˜ | - | ì •ì±…/ì¸í”„ë¼/ë³´ì•ˆ/ì„±ëŠ¥ |
| ì‹ ê·œ ë°˜ì˜ | - | ì •ì±…/ì¸í”„ë¼/ë³´ì•ˆ/ì„±ëŠ¥ ì‹ ê·œ |

### 8.3 ë‹¨ê³„ë³„ ì¶”ì  ë§¤íŠ¸ë¦­ìŠ¤

| êµ¬ë¶„ | Step1 | Step2 | Step3 | Step4 | Step5 | Step6 | Step7 | ì†Œê³„ |
|------|-------|-------|-------|-------|-------|-------|-------|------|
| AI ê¸°ëŠ¥ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ |
| SI ê¸°ëŠ¥ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ |
| ë¹„ê¸°ëŠ¥ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ |
| **í•©ê³„** | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ | ìˆ˜ì •/ì‹ ê·œ |

---

## 9. ë°ì´í„° êµ¬ì¡° / API

### 9.1 Requirement ì—”í‹°í‹°

```typescript
interface Requirement {
  id: string;                          // REQ-001
  rfpRequirementId: string;            // RFP_ê¸°ëŠ¥_01 (ì›ë³¸ RFP ID)
  internalId: string;                  // REQOSM-001 (ìˆ˜í–‰ì‚¬ ë‚´ë¶€ ID)

  // ë¶„ë¥˜
  category: "functional" | "non_functional";
  aiSi: "AI" | "SI" | "non_functional";
  rfpTitle: {
    major: string;                     // ëŒ€ë¶„ë¥˜ (ì˜¤í”ˆì†ŒìŠ¤ ë°˜Â·ì¶œì…)
    medium: string;                    // ì¤‘ë¶„ë¥˜ (ë°˜/ì¶œì… ì‹ ì²­)
    minor?: string;                    // ì†Œë¶„ë¥˜ (ì‹ ì²­ ì‚¬ìœ  ë“±ë¡)
  };
  executorClassification: string;      // ìˆ˜í–‰ì‚¬ ì¬ë¶„ë¥˜ (ì†”ë£¨ì…˜ ë“±)
  changeType: "new" | "modified" | "maintained";  // ìˆ˜ì •/ì‹ ê·œ/ìœ ì§€

  // RFP ì°¸ì¡°
  rfpPage: number;
  proposalPage?: number;
  description: string;                 // RFP ì›ë¬¸ ìš”êµ¬ì‚¬í•­ ìƒì„¸

  // ìˆ˜ìš© ì—¬ë¶€
  acceptance: {
    primary: "Y" | "X" | "pending";   // ìš°ì„ í˜‘ìƒê¸°ì¤€
    change: "Y" | "X" | "pending";    // ë³€ê²½ê¸°ì¤€
    notes?: string;                    // ê´€ë ¨ ë‚´ìš© ë° ê·¼ê±°
  };

  // ë‹¨ê³„ë³„ ë°˜ì˜
  stepMapping: {
    step: number;                      // 1~7
    modifiedCount: number;
    newCount: number;
  }[];

  // â”€â”€â”€ Trace ì—°ê²° (v2.0: relation í…Œì´ë¸” ê¸°ë°˜) â”€â”€â”€
  // ì‹¤ì œ DBì—ì„œëŠ” requirement_trace_links ê´€ê³„ í…Œì´ë¸”ë¡œ ê´€ë¦¬
  // API ì‘ë‹µì—ì„œëŠ” ID ë°°ì—´ë¡œ í‰íƒ„í™”í•˜ì—¬ ì œê³µ
  linkedEpicIds: string[];
  linkedStoryIds: string[];
  linkedTestCaseIds: string[];
  linkedDeliverableIds: string[];

  // â”€â”€â”€ v2.0: Trace ìƒíƒœ ìš”ì•½ (ëª©ë¡ APIì—ì„œ ì¡°ì¸ ì œê³µ) â”€â”€â”€
  traceStatus: "linked" | "unlinked" | "breakpoint";
  traceCoverage: number;               // 0~100

  // ë©”íƒ€
  projectId: string;
  createdAt: string;
  updatedAt: string;
  createdBy: string;
}
```

### 9.2 ë°ì´í„° ëª¨ë¸ ê¶Œì¥ì‚¬í•­

#### 9.2.1 Trace ì—°ê²° â€” ê´€ê³„ í…Œì´ë¸”

Requirement ì—”í‹°í‹°ì˜ `linkedEpicIds`/`linkedStoryIds` ë“±ì€ **ë°°ì—´ í•„ë“œê°€ ì•„ë‹ˆë¼ ê´€ê³„ í…Œì´ë¸”**ë¡œ ê´€ë¦¬í•œë‹¤.

```sql
-- requirement_trace_links ê´€ê³„ í…Œì´ë¸”
CREATE TABLE requirement_trace_links (
  id              BIGSERIAL PRIMARY KEY,
  requirement_id  VARCHAR(20) NOT NULL REFERENCES requirements(id),
  target_type     VARCHAR(20) NOT NULL,    -- 'epic', 'story', 'test_case', 'deliverable'
  target_id       VARCHAR(20) NOT NULL,    -- E-12, S-88, TC-21, etc.
  linked_by       VARCHAR(36) NOT NULL,    -- ì—°ê²°í•œ ì‚¬ìš©ì ID
  linked_at       TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  unlinked_at     TIMESTAMPTZ,             -- NULLì´ë©´ í™œì„±, ê°’ì´ ìˆìœ¼ë©´ í•´ì œë¨
  project_id      VARCHAR(36) NOT NULL
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_rtl_req ON requirement_trace_links(requirement_id) WHERE unlinked_at IS NULL;
CREATE INDEX idx_rtl_target ON requirement_trace_links(target_type, target_id) WHERE unlinked_at IS NULL;
```

> **ì´ìœ **: ë°°ì—´ í•„ë“œëŠ” ì—°ê²° ì´ë ¥(ëˆ„ê°€/ì–¸ì œ ì—°ê²°, í•´ì œ)ì„ ì¶”ì í•  ìˆ˜ ì—†ê³ ,
> ì—­ë°©í–¥ ì¡°íšŒ(Epic E-12ì— ì—°ê²°ëœ ìš”êµ¬ì‚¬í•­ì€?)ì— ë¹„íš¨ìœ¨ì ì´ë‹¤.

#### 9.2.2 ë‹¨ê³„ë³„ ë°˜ì˜ â€” ì´ë²¤íŠ¸ ê¸°ë¡

`stepMapping`ì€ ë‹¨ìˆœ ì§‘ê³„ê°€ ì•„ë‹ˆë¼ **Step ì´ë²¤íŠ¸ í…Œì´ë¸”**ë¡œ ê´€ë¦¬í•œë‹¤.

```sql
-- requirement_step_events ì´ë²¤íŠ¸ í…Œì´ë¸”
CREATE TABLE requirement_step_events (
  id              BIGSERIAL PRIMARY KEY,
  requirement_id  VARCHAR(20) NOT NULL REFERENCES requirements(id),
  step            SMALLINT NOT NULL CHECK (step BETWEEN 1 AND 7),
  event_type      VARCHAR(10) NOT NULL,    -- 'modified', 'new'
  occurred_at     TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  recorded_by     VARCHAR(36) NOT NULL,
  project_id      VARCHAR(36) NOT NULL
);

-- Stepë³„ ì§‘ê³„ ë·°
CREATE VIEW requirement_step_summary AS
SELECT
  requirement_id,
  step,
  COUNT(*) FILTER (WHERE event_type = 'modified') AS modified_count,
  COUNT(*) FILTER (WHERE event_type = 'new') AS new_count
FROM requirement_step_events
GROUP BY requirement_id, step;
```

### 9.3 Requirements List API

```
GET /api/requirements?projectId={projectId}
    &category={functional|non_functional}
    &aiSi={AI|SI|non_functional}
    &acceptance={Y|X|pending}
    &step={1-7}
    &traceStatus={linked|unlinked|breakpoint}
    &changeType={new|modified|maintained}
    &q={searchText}
    &page={page}&size={size}
```

> **ì°¸ê³ **: ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ëŠ” Â§2.2 FilterSpec í‚¤ì™€ **1:1 ë§¤í•‘**ëœë‹¤.

```typescript
interface RequirementsListResponse {
  items: Requirement[];
  pagination: { page: number; size: number; total: number };
  stats: {
    total: number;
    majorCount: number;            // ëŒ€ë¶„ë¥˜ ê±´ìˆ˜
    mediumCount: number;           // ì¤‘ë¶„ë¥˜ ê±´ìˆ˜
    functional: number;
    nonFunctional: number;
    acceptanceY: number;
    acceptanceX: number;
    acceptancePending: number;
    traceCoverage: number;         // 0~100 (ì¬ì •ê·œí™” ì ìš©)
    unlinkedCount: number;
    breakpointCount: number;       // v2.0: breakpoint ê±´ìˆ˜ ì¶”ê°€
    changeCount: number;
    changeRequestPending: number;  // v2.0: ëŒ€ê¸° ì¤‘ ë³€ê²½ìš”ì²­ ê±´ìˆ˜
  };

  // â”€â”€â”€ ì‹ ë¢°ë„ 3-tuple (v2.0) â”€â”€â”€
  asOf: string;
  completeness: number;
  warnings: string[];
}
```

### 9.4 Requirement Detail API

```
GET /api/requirements/:reqId
```

### 9.5 Requirement Trace API

```
GET /api/requirements/:reqId/trace
```

ì‘ë‹µ: `RequirementTraceV2` (Â§6.2 ì°¸ì¡°)

### 9.6 RFP Classification Stats API

```
GET /api/requirements/stats/classification?projectId={projectId}
```

```typescript
interface ClassificationStats {
  byRfp: {
    category: string;              // ê¸°ëŠ¥/ë¹„ê¸°ëŠ¥
    aiSi: string;                  // AI/SI
    majorTitle: string;            // ëŒ€ë¶„ë¥˜
    count: number;
  }[];
  byExecutor: {
    classification: string;        // ìˆ˜í–‰ì‚¬ ì¬ë¶„ë¥˜
    count: number;
  }[];
  byStep: {
    step: number;
    aiModified: number;
    aiNew: number;
    siModified: number;
    siNew: number;
    nfModified: number;
    nfNew: number;
  }[];

  // ì‹ ë¢°ë„
  asOf: string;
  completeness: number;
  warnings: string[];
}
```

### 9.7 ChangeRequest API

```
POST   /api/requirements/:reqId/change-requests      // ë³€ê²½ ìš”ì²­ ë“±ë¡
GET    /api/requirements/:reqId/change-requests      // ëª©ë¡ ì¡°íšŒ
GET    /api/change-requests/:crId                     // ìƒì„¸ ì¡°íšŒ
PATCH  /api/change-requests/:crId/review              // ê²€í†  ì²˜ë¦¬
PATCH  /api/change-requests/:crId/apply               // ë°˜ì˜ ì²˜ë¦¬
```

```typescript
interface ChangeRequestListResponse {
  items: RequirementChangeRequest[];
  pagination: { page: number; size: number; total: number };
  stats: {
    total: number;
    pending: number;
    reviewing: number;
    approved: number;
    rejected: number;
    applied: number;
  };
}
```

---

## 10. ì»´í¬ë„ŒíŠ¸ ë¶„í•´

### 10.1 í´ë” êµ¬ì¡°

```
features/
  requirements/
    pages/
      RequirementsPage.tsx           â† ëª©ë¡ (ViewMode ë¶„ê¸°)
      RequirementDetailPage.tsx      â† ìƒì„¸ + Trace Panel
    components/
      // ëª©ë¡
      RequirementTable.tsx           â† ë©”ì¸ í…Œì´ë¸”
      RequirementFilters.tsx         â† í•„í„° ë°” (FilterSpec ê¸°ë°˜)
      RequirementKpiRow.tsx          â† ìƒë‹¨ KPI ì¹´ë“œ Row
      RequirementStatsChart.tsx      â† ê¸°ëŠ¥/ë¹„ê¸°ëŠ¥ ë¶„í¬ ì°¨íŠ¸ (ë¯¸ë‹ˆ)

      // ìƒì„¸
      RequirementBasicInfo.tsx       â† ê¸°ë³¸ ì •ë³´ ì¹´ë“œ
      RequirementRfpDetail.tsx       â† RFP ì›ë¬¸ ìš”êµ¬ì‚¬í•­ ìƒì„¸
      RequirementStepMatrix.tsx      â† ë‹¨ê³„ë³„ ë°˜ì˜ í˜„í™© í…Œì´ë¸”
      RequirementChangeHistory.tsx   â† ë³€ê²½ ì´ë ¥ íƒ€ì„ë¼ì¸

      // Trace
      TracePanel.tsx                 â† ìš°ì¸¡ Trace íŒ¨ë„ (í•µì‹¬)
      TraceChainTree.tsx             â† Trace Chain íŠ¸ë¦¬ ì‹œê°í™”
      TraceQuickPreview.tsx          â† ëª©ë¡ì—ì„œì˜ Quick Preview (panelMode: preview)
      TraceStatusBadge.tsx           â† Trace ìƒíƒœ ë°°ì§€ (3ê°’: linked/unlinked/breakpoint)
      TraceCoverageBar.tsx           â† Trace Coverage í”„ë¡œê·¸ë ˆìŠ¤ ë°”
      TraceActionRecommend.tsx       â† ì¶”ì²œ ì•¡ì…˜ (ì‹¤íŒ¨ TC, breakpoint ë“±)
      TraceReliabilityBanner.tsx     â† ì‹ ë¢°ë„ ë°°ë„ˆ (asOf/completeness/warnings)

      // ë¶„ë¥˜ í†µê³„
      ClassificationSummary.tsx      â† RFP ë¶„ë¥˜ í†µê³„ í˜„í™© (ì¶•ì•½)
      ClassificationDetailModal.tsx  â† ë¶„ë¥˜ ìƒì„¸ ëª¨ë‹¬

      // ë³€ê²½ ìš”ì²­ (v2.0 ì‹ ê·œ)
      ChangeRequestPanel.tsx         â† Right Panel panelMode: "approval"
      ChangeRequestForm.tsx          â† ë³€ê²½ ìš”ì²­ ë“±ë¡ í¼
      ChangeRequestReviewForm.tsx    â† PM ê²€í†  í¼
      ChangeRequestTimeline.tsx      â† ë³€ê²½ ìš”ì²­ ìƒíƒœ íƒ€ì„ë¼ì¸

      // ì•¡ì…˜
      RequirementEditModal.tsx       â† ìš”êµ¬ì‚¬í•­ í¸ì§‘ ëª¨ë‹¬
      EpicLinkDialog.tsx             â† Epic ì—°ê²° ë‹¤ì´ì–¼ë¡œê·¸

    // Right Panel ëª¨ë“œ ê´€ë¦¬
    components/
      RequirementRightPanel.tsx      â† panelModeì— ë”°ë¥¸ ë¶„ê¸° ë Œë”ë§

    api/
      requirementsApi.ts
      changeRequestsApi.ts           â† v2.0 ì‹ ê·œ
    hooks/
      useRequirements.ts             â† ëª©ë¡ TanStack Query
      useRequirementDetail.ts        â† ìƒì„¸ TanStack Query
      useRequirementTrace.ts         â† Trace TanStack Query (ì‹ ë¢°ë„ í¬í•¨)
      useClassificationStats.ts      â† ë¶„ë¥˜ í†µê³„ Query
      useChangeRequests.ts           â† ë³€ê²½ ìš”ì²­ Query (v2.0 ì‹ ê·œ)
      usePanelMode.ts                â† Right Panel ëª¨ë“œ ìƒíƒœ ê´€ë¦¬
```

### 10.2 RequirementsPage.tsx ViewMode ë¶„ê¸°

```typescript
function RequirementsPage() {
  const { viewMode } = useAccessContext();
  const { panelMode, setPanelMode } = usePanelMode(viewMode);

  // panelModeì— ë”°ë¥¸ Right Panel ì»´í¬ë„ŒíŠ¸ ê²°ì •
  const rightPanelContent = useMemo(() => {
    switch (panelMode) {
      case "none":       return undefined;
      case "preview":    return <TraceQuickPreview />;
      case "approval":   return <ChangeRequestPanel />;
      default:           return <TraceQuickPreview />;
    }
  }, [panelMode]);

  return (
    <PageLayout
      header={<RequirementPageHeader viewMode={viewMode} />}
      rightPanel={rightPanelContent}
      rightPanelDefault={PRESET_POLICIES[viewMode].ui.defaultRightPanel}
    >
      <RequirementKpiRow viewMode={viewMode} />
      <RequirementFilters
        viewMode={viewMode}
        filterSpec={requirementsNode.filterSpec}  // FilterSpec ê¸°ë°˜ í•„í„° ìƒì„±
      />
      <RequirementTable
        viewMode={viewMode}
        columns={getColumnsForPreset(viewMode)}
        onRowSelect={(req) => {
          if (viewMode === "CUSTOMER_APPROVAL") setPanelMode("approval");
          else if (viewMode !== "EXEC_SUMMARY") setPanelMode("preview");
        }}
      />
    </PageLayout>
  );
}
```

### 10.3 RequirementRightPanel.tsx â€” panelMode ë¶„ê¸°

```typescript
interface RequirementRightPanelProps {
  panelMode: RequirementPanelMode;
  selectedRequirement?: Requirement;
}

function RequirementRightPanel({ panelMode, selectedRequirement }: RequirementRightPanelProps) {
  switch (panelMode) {
    case "none":
      return null;
    case "preview":
      return (
        <>
          <TraceQuickPreview requirementId={selectedRequirement?.id} />
          <TraceReliabilityBanner />
        </>
      );
    case "trace":
      return (
        <>
          <TracePanel requirementId={selectedRequirement?.id} />
          <TraceReliabilityBanner />
        </>
      );
    case "approval":
      return <ChangeRequestPanel requirementId={selectedRequirement?.id} />;
    case "detail":
      return <RequirementBasicInfo requirement={selectedRequirement} />;
  }
}
```

---

## 11. í…Œì´ë¸” ì»¬ëŸ¼ ì •ì˜

### 11.1 ì „ì²´ ì»¬ëŸ¼ (PM_WORK ê¸°ì¤€)

| # | ì»¬ëŸ¼ëª… | í•„ë“œ | ë„ˆë¹„ | ì •ë ¬ | í•„í„° |
|---|--------|------|------|------|------|
| 1 | êµ¬ë¶„ | changeType | 60px | - | âœ… |
| 2 | ìš”êµ¬ì‚¬í•­ ID | internalId | 120px | âœ… | - |
| 3 | RFP ìš”ê±´ì œëª© (ëŒ€) | rfpTitle.major | 150px | âœ… | âœ… |
| 4 | RFP ìš”ê±´ì œëª© (ì¤‘) | rfpTitle.medium | 150px | âœ… | âœ… |
| 5 | RFP ìš”ê±´ì œëª© (ì†Œ) | rfpTitle.minor | 150px | - | - |
| 6 | ê¸°ëŠ¥/ë¹„ê¸°ëŠ¥ | category | 80px | - | âœ… |
| 7 | AI/SI | aiSi | 60px | - | âœ… |
| 8 | ìˆ˜ìš©(ìš°ì„ ) | acceptance.primary | 70px | - | âœ… |
| 9 | ìˆ˜ìš©(ë³€ê²½) | acceptance.change | 70px | - | âœ… |
| 10 | RFP Page | rfpPage | 70px | âœ… | - |
| 11 | ì œì•ˆì„œ Page | proposalPage | 80px | âœ… | - |
| 12 | Trace | traceStatus | 80px | âœ… | âœ… |
| 13 | Epic ìˆ˜ | linkedEpicIds.length | 60px | âœ… | - |

### 11.2 Presetë³„ ìˆ¨ê¹€ ì»¬ëŸ¼

| Preset | ìˆ¨ê¹€ ì»¬ëŸ¼ |
|--------|---------|
| EXEC_SUMMARY | #5, #7, #9, #10, #11, #12, #13 |
| PMO_CONTROL | #5, #11 |
| PM_WORK | (ì „ì²´ í‘œì‹œ) |
| DEV_EXECUTION | #9, #10, #11 |
| CUSTOMER_APPROVAL | #7, #10, #11, #12, #13 |

---

## 12. AI Navigation ì—°ë™

### 12.1 ìš”êµ¬ì‚¬í•­ ê´€ë ¨ AI ì§ˆë¬¸ â†’ í™”ë©´ ì´ë™ (FilterSpec ê¸°ë°˜)

AIëŠ” URL ë¬¸ìì—´ì´ ì•„ë‹ˆë¼ **FilterSpec í‚¤ ê¸°ë°˜ í•„í„° ê°ì²´**ë¥¼ ë°˜í™˜í•œë‹¤.
UIëŠ” `requirementsNode.filterSpec`ì„ ì°¸ì¡°í•˜ì—¬ FilterSpec ê°ì²´ë¥¼ URL íŒŒë¼ë¯¸í„°ë¡œ ë³€í™˜í•œë‹¤.

```typescript
/** AIê°€ ë°˜í™˜í•˜ëŠ” ë„¤ë¹„ê²Œì´ì…˜ ì¶”ì²œ */
interface AiRequirementNavigation {
  targetNodeId: "requirements";
  /** FilterSpec ê¸°ë°˜ í•„í„° ê°ì²´ â€” URLì´ ì•„ë‹ˆë¼ êµ¬ì¡°í™”ëœ ê°ì²´ */
  filter: RequirementFilterSpec;
  /** íŠ¹ì • ìš”êµ¬ì‚¬í•­ ì§ì ‘ ì´ë™ ì‹œ */
  entityId?: string;                   // "REQ-034"
  reason: string;                      // "ë¯¸ì • ìˆ˜ìš©ì—¬ë¶€ 3ê±´ í™•ì¸ í•„ìš”"
}
```

| ì§ˆë¬¸ | AI ë°˜í™˜ filter | ì„¤ëª… |
|------|---------------|------|
| "ìˆ˜ìš© ì•ˆ ëœ ìš”êµ¬ì‚¬í•­ ìˆì–´?" | `{ acceptance: "pending" }` | FilterSpec.acceptance |
| "REQ-034 ì¶”ì  ìƒíƒœ ì•Œë ¤ì¤˜" | `entityId: "REQ-034"` | ìƒì„¸ ì§ì ‘ ì´ë™ |
| "í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨í•œ ìš”êµ¬ì‚¬í•­ì€?" | `{ traceStatus: "breakpoint" }` | breakpoint í•„í„° |
| "ì—°ê²° ì•ˆ ëœ ìš”êµ¬ì‚¬í•­ ëª©ë¡" | `{ traceStatus: "unlinked" }` | ë¯¸ì—°ê²° í•„í„° |
| "ìš”êµ¬ì‚¬í•­ ë³€ê²½ ê±´ ë³´ì—¬ì¤˜" | `{ changeType: "modified" }` | ìˆ˜ì • ê±´ í•„í„° |
| "3ë‹¨ê³„ ë°˜ì˜ ìš”êµ¬ì‚¬í•­ì€?" | `{ step: 3 }` | ë‹¨ê³„ í•„í„° |
| "ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë³´ì—¬ì¤˜" | `{ category: "non_functional" }` | ë¶„ë¥˜ í•„í„° |
| "ëŠì–´ì§„ ì¶”ì  ê²½ë¡œ ìˆì–´?" | `{ traceStatus: "breakpoint" }` | breakpoint ì „ìš© |

**FilterSpec â†’ URL ë³€í™˜ ìœ í‹¸**:

```typescript
function filterSpecToUrl(
  nodeId: string,
  filter: RequirementFilterSpec,
  entityId?: string
): string {
  if (entityId) return `/requirements/${entityId}`;

  const node = getMenuNode(nodeId);
  const params = new URLSearchParams();
  for (const [key, value] of Object.entries(filter)) {
    if (value !== undefined && node.filterSpec.keys.includes(key)) {
      params.set(key, String(value));
    }
  }
  return `${node.route}?${params.toString()}`;
}
```

### 12.2 Trace Panelì—ì„œì˜ AI ì¶”ì²œ

Trace Panel í•˜ë‹¨ì— **ì¶”ì²œ ì•¡ì…˜** ì˜ì—­ì´ í‘œì‹œëœë‹¤.
CTA ëŒ€ìƒì€ routeê°€ ì•„ë‹ˆë¼ **targetNodeId**ë¡œ ì§€ì •í•œë‹¤.

```
â”€â”€ ì¶”ì²œ ì•¡ì…˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš  TC-21 ë°˜ì… ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
  â†’ [í…ŒìŠ¤íŠ¸ ê´€ë¦¬ì—ì„œ í™•ì¸]     â† targetNodeId: "tests", entityId: "TC-21"

âš  S-91 ë°˜ì¶œì‹ ì²­ â†’ TC ë¯¸ì—°ê²° (breakpoint)
  â†’ [ë°±ë¡œê·¸ì—ì„œ í™•ì¸]          â† targetNodeId: "backlog", entityId: "S-91"

âš  ì„¤ê³„ì„œ_v3.pdf ë¯¸ìŠ¹ì¸
  â†’ [ì‚°ì¶œë¬¼ ê´€ë¦¬ì—ì„œ í™•ì¸]     â† targetNodeId: "deliverables", entityId: "ì„¤ê³„ì„œ_v3"

â„¹ Epic E-12ì— ì—°ê²°ëœ Story 2ê±´ ì¤‘ 1ê±´ ë¯¸ì‹œì‘
  â†’ [ë°±ë¡œê·¸ì—ì„œ í™•ì¸]          â† targetNodeId: "backlog", filter: { epicId: "E-12" }
```

---

## 13. ì¸í„°ë™ì…˜ ìƒì„¸

### 13.1 í…Œì´ë¸” í–‰ í´ë¦­

```
í–‰ í´ë¦­ â†’ panelModeì— ë”°ë¼ Right Panel ë‚´ìš© ë³€ê²½
  EXEC_SUMMARY: panelMode="none" â†’ ë³€í™” ì—†ìŒ
  PM_WORK/PMO_CONTROL/DEV_EXECUTION: panelMode="preview" â†’ Trace Quick Preview í‘œì‹œ
  CUSTOMER_APPROVAL: panelMode="approval" â†’ ë³€ê²½ìš”ì²­ íŒ¨ë„ í‘œì‹œ
í–‰ ë”ë¸”í´ë¦­ â†’ /requirements/:reqId ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
```

### 13.2 Trace Chain ë…¸ë“œ í´ë¦­

ëª¨ë“  ì´ë™ì€ **targetNodeId** ê¸°ë°˜ì´ë‹¤.

```
Epic ë…¸ë“œ í´ë¦­ â†’ targetNodeId: "backlog", entityId: epicId
Story ë…¸ë“œ í´ë¦­ â†’ targetNodeId: "backlog", entityId: storyId
TC ë…¸ë“œ í´ë¦­ â†’ targetNodeId: "tests", entityId: tcId
ì‚°ì¶œë¬¼ ë…¸ë“œ í´ë¦­ â†’ targetNodeId: "deliverables", entityId: deliverableId
```

### 13.3 ìˆ˜ìš©ì—¬ë¶€ ì¸ë¼ì¸ í¸ì§‘

```
PM Presetì—ì„œ (cap: decide_requirement_acceptance):
  ìˆ˜ìš©ì—¬ë¶€ ì…€ í´ë¦­ â†’ ë“œë¡­ë‹¤ìš´ (Y / X / ë¯¸ì •)
  ë³€ê²½ ì‹œ â†’ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ â†’ ë³€ê²½ ì´ë ¥ ìë™ ê¸°ë¡
  â€» Customer PMì€ "ë³€ê²½ ìš”ì²­" CTAë¡œë§Œ ë³€ê²½ ê°€ëŠ¥ (ì§ì ‘ í¸ì§‘ ë¶ˆê°€)
  â€» ìˆ˜ìš© ê²°ì •ì€ decide_requirement_acceptance Capability í•„ìš”
```

### 13.4 Epic ì—°ê²°

```
PM Presetì—ì„œ (cap: link_requirement_trace):
  [Epic ì—°ê²°] CTA í´ë¦­
  â†’ EpicLinkDialog ì—´ë¦¼
  â†’ ê¸°ì¡´ Epic ê²€ìƒ‰ ë˜ëŠ” ìƒˆ Epic ìƒì„±
  â†’ ì—°ê²° í™•ì • â†’ Trace ìë™ ê°±ì‹ 
  â†’ requirement_trace_links í…Œì´ë¸”ì— ì´ë²¤íŠ¸ ê¸°ë¡
```

### 13.5 ë³€ê²½ ìš”ì²­ (ê³ ê° PM)

```
CUSTOMER_APPROVAL Presetì—ì„œ (cap: request_requirement_change):
  [ë³€ê²½ ìš”ì²­] CTA í´ë¦­
  â†’ ChangeRequestForm ëª¨ë‹¬ ì—´ë¦¼
  â†’ ì œëª©, ìƒì„¸, ì‚¬ìœ , ì²¨ë¶€ íŒŒì¼ ì…ë ¥
  â†’ ì œì¶œ â†’ RequirementChangeRequest status="pending"
  â†’ PMì—ê²Œ ì•Œë¦¼ ë°œì†¡
```

### 13.6 ë°ì´í„° ìƒˆë¡œê³ ì¹¨

| í•­ëª© | ì£¼ê¸° |
|------|------|
| ëª©ë¡ | í˜ì´ì§€ ì§„ì… ì‹œ + í•„í„° ë³€ê²½ ì‹œ |
| Trace | í–‰ ì„ íƒ ì‹œ (ì‹¤ì‹œê°„, asOf í¬í•¨) |
| í†µê³„ | í˜ì´ì§€ ì§„ì… ì‹œ (ìºì‹œ 5ë¶„) |
| ìƒì„¸ | í˜ì´ì§€ ì§„ì… ì‹œ |
| ë³€ê²½ìš”ì²­ | panelMode="approval" ì§„ì… ì‹œ |

---

## 14. ë°˜ì‘í˜• ëŒ€ì‘

| ë„ˆë¹„ | í…Œì´ë¸” | Right Panel | í•„í„° |
|------|--------|------------|------|
| â‰¥1440px | ì „ì²´ ì»¬ëŸ¼ | Right Panel (30%) | ì¸ë¼ì¸ |
| 1280px | ì¶•ì•½ ì»¬ëŸ¼ (-3ê°œ) | Drawer (toggle) | ì¸ë¼ì¸ |
| â‰¤1024px | ì¹´ë“œ ë·° ì „í™˜ | Drawer (overlay) | ì ‘ì´ì‹ |
| â‰¤768px | ì¹´ë“œ ë·° (1ì—´) | Full Modal | ì ‘ì´ì‹ |

---

## 15. ê¸°ì¡´ í™”ë©´ vs ê°œì„  í™”ë©´ ë¹„êµ

| í•­ëª© | ê¸°ì¡´ (ì—‘ì…€) | ê°œì„  (ë³¸ ì„¤ê³„) |
|------|-----------|-------------|
| **ì €ì¥ í˜•ì‹** | ì—‘ì…€ ì‹œíŠ¸ | DB ì—”í‹°í‹° (ID ê¸°ë°˜) + ê´€ê³„ í…Œì´ë¸” |
| **ì¶”ì ì„±** | ìˆ˜ë™ (ì‹œíŠ¸ ê°„ ë§í¬ ì—†ìŒ) | **Trace Chain** (ìë™ ì—°ê²°, breakpoint ê°ì§€) |
| **ìƒíƒœ íŒŒì•…** | ì…€ ìƒ‰ìƒìœ¼ë¡œ íŒë‹¨ | Trace Coverage + 3ê°’ ìƒíƒœ ë°°ì§€ |
| **ë³€ê²½ ê´€ë¦¬** | ì‹œíŠ¸ ë²„ì „ ê´€ë¦¬ | **RequirementChangeRequest** ì›Œí¬í”Œë¡œìš° + ì´ë ¥ |
| **RFP ë§¤í•‘** | ìˆ˜ë™ ê¸°ì… | RFP ID â†” ë‚´ë¶€ ID ìë™ ë§¤í•‘ |
| **ê²€ìƒ‰/í•„í„°** | Ctrl+F | **FilterSpec ê¸°ë°˜** ë‹¤ì°¨ì› í•„í„° (AI/URL/ë°±ì—”ë“œ í†µí•©) |
| **AI ì—°ë™** | ì—†ìŒ | FilterSpec ê¸°ë°˜ ë”¥ë§í¬ + breakpoint ìë™ ì•Œë¦¼ |
| **í”„ë¡œì íŠ¸ ì˜ë¯¸** | "ì£½ì–´ìˆëŠ” ë¬¸ì„œ" | **"ì‚´ì•„ìˆëŠ” ê°ì²´"** |

---

## 16. DoD (ë³¸ í™”ë©´ ì™„ë£Œ ê¸°ì¤€)

- [ ] `/requirements` ëª©ë¡ì—ì„œ Presetë³„ ì»¬ëŸ¼ ë¶„ê¸° ë™ì‘
- [ ] FilterSpec ê¸°ë°˜ ë‹¤ì°¨ì› í•„í„° (category/aiSi/acceptance/step/traceStatus/changeType/q) ë™ì‘
- [ ] KPI Row: ì „ì²´ ê±´ìˆ˜, ê¸°ëŠ¥/ë¹„ê¸°ëŠ¥, ìˆ˜ìš©ë¥ , Trace Coverage, breakpoint ê±´ìˆ˜, ë³€ê²½ìš”ì²­ ê±´ìˆ˜ í‘œì‹œ
- [ ] panelMode ê¸°ë°˜ Right Panel ë¶„ê¸° (none/preview/trace/approval/detail)
- [ ] í–‰ í´ë¦­ â†’ panelModeì— ë”°ë¼ Right Panel ë‚´ìš© ë³€ê²½
- [ ] `/requirements/:reqId` ìƒì„¸ í˜ì´ì§€ì— Trace Panel (panelMode: trace) ìƒì‹œ í‘œì‹œ
- [ ] Trace Chain íŠ¸ë¦¬: Epic â†’ Story â†’ Task â†’ TC â†’ ì‚°ì¶œë¬¼ ì‹œê°í™”
- [ ] TraceStatus 3ê°’ í‘œì‹œ (linked/unlinked/breakpoint) + breakpoint êµ¬ê°„ í‘œì‹œ
- [ ] Trace ë…¸ë“œ í´ë¦­ â†’ targetNodeId ê¸°ë°˜ ë”¥ë§í¬ ì´ë™
- [ ] Trace Coverage ìë™ ê³„ì‚° (4-factor weighted + ê²°ì¸¡ ì¬ì •ê·œí™”)
- [ ] Trace API ì‹ ë¢°ë„ 3-tuple (asOf/completeness/warnings) í‘œì‹œ
- [ ] RFP ë¶„ë¥˜ í†µê³„ í˜„í™© (ëŒ€ë¶„ë¥˜/ì¤‘ë¶„ë¥˜) í‘œì‹œ
- [ ] ë‹¨ê³„ë³„ ë°˜ì˜ ë§¤íŠ¸ë¦­ìŠ¤ (Step1~7, ìˆ˜ì •/ì‹ ê·œ) í‘œì‹œ
- [ ] PM: ìˆ˜ìš©ì—¬ë¶€ ì¸ë¼ì¸ í¸ì§‘ (cap: decide_requirement_acceptance)
- [ ] PM: Epic ì—°ê²° (cap: link_requirement_trace)
- [ ] Customer PM: ë³€ê²½ ìš”ì²­ ë“±ë¡ â†’ RequirementChangeRequest ìƒì„±
- [ ] Customer PM: ê²€í†  ì™„ë£Œ CTA
- [ ] PM: ë³€ê²½ ìš”ì²­ ê²€í†  (approve/reject) + ë°˜ì˜ (apply)
- [ ] ë³€ê²½ ì´ë ¥ íƒ€ì„ë¼ì¸ í‘œì‹œ (RequirementChangeRequest í¬í•¨)
- [ ] AI ì¶”ì²œ ì•¡ì…˜: FilterSpec ê¸°ë°˜ ë”¥ë§í¬ + breakpoint/ì‹¤íŒ¨TC/ë¯¸ìŠ¹ì¸ì‚°ì¶œë¬¼ ì•Œë¦¼
- [ ] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (â‰¥1440 / 1280 / â‰¤1024 / â‰¤768)

---

## ë¶€ë¡ A. ë³€ê²½ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|------|------|---------|
| v1.0 | 2026-02-08 | ì´ˆì•ˆ ì‘ì„± |
| v2.0 | 2026-02-08 | 9ê°œ ì˜ì—­ í”¼ë“œë°± ë°˜ì˜: (1) entities PascalCase + intents 13ê°œ í™•ì¥, (2) FilterSpec ì˜¨í†¨ë¡œì§€ ë‚´ì¥, (3) Trace API ì‹ ë¢°ë„ 3-tuple, (4) Trace Coverage ê²°ì¸¡ ì¬ì •ê·œí™”, (5) TraceStatus 3ê°’ breakpoint ì¶”ê°€, (6) Capability ì„¸ë¶„í™” (decide_acceptance + link_trace + request_change), (7) RequirementChangeRequest ì›Œí¬í”Œë¡œìš° ì—”í‹°í‹°, (8) Right Panel panelMode ì •ì˜, (9) AI ë”¥ë§í¬ FilterSpec ê¸°ë°˜ ì „í™˜ |
