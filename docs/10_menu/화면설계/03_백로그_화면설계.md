# 03. ë°±ë¡œê·¸(EPIC) í™”ë©´ì„¤ê³„

> ì‘ì„±ì¼: 2026-02-08
> ë²„ì „: v2.1
> ë¼ìš°íŠ¸: `/backlog`, `/backlog/epics/:epicId`
> í•„ìš” Capability: `view_backlog` (ì¡°íšŒ), `manage_backlog_epic` (Epic/Feature ìƒì„±/í¸ì§‘), `manage_backlog_story` (Story ìƒì„±/í¸ì§‘), `manage_backlog_task` (Task ìƒì„±/í¸ì§‘), `assign_story_sprint` (Sprint í• ë‹¹), `reorder_backlog` (Drag & Drop ìˆœì„œ ë³€ê²½)
> ê¸°ë³¸ Preset: ì—­í• ì— ë”°ë¼ ìë™ ê²°ì •
> ë…¸ë“œ ì—­í• : **Detail** (ìƒì„¸ ë…¸ë“œ â€” í•„í„°Â·ì¡°íšŒÂ·í¸ì§‘ ì „ìš©)

> **v2.0 ë³€ê²½**: Capability ì„¸ë¶„í™” (`manage_backlog_story`ì—ì„œ `manage_backlog_task`Â·`reorder_backlog` ë¶„ë¦¬),
> queryMode(TREE/SEARCH) ë„ì…, Part scope ì„œë²„ ê°•ì œ, AI Routing Policy per Preset,
> Trace ì—­ì¶”ì  breakpoint ì›ì¸ ê¸°ë°˜ ì„¸ë¶„í™”, virtualNode AI ìš°ì„  ë°˜í™˜ ì •ì±…,
> ìƒíƒœ ìë™ ì „ì´ ì„œë²„ íŠ¸ëœì­ì…˜ í™•ì •, ìš´ì˜ KPI 3ì¢… ì¶”ê°€, completeness ì„¸ë¶„í™”.
>
> **v2.1 ë³€ê²½**: FilterSpec URL ì§ë ¬í™” ê·œì¹™ í™•ì •, Feature ìë™ ì „ì´ ê·œì¹™ ì¶”ê°€,
> Sprint í• ë‹¹ API ì—ëŸ¬ ê³„ì•½ ëª…ì„¸, KPI ì¹´ë“œ í´ë¦­ ì¸í„°ë™ì…˜ í™•ì •,
> ê¹¨ì§€ê¸° ì‰¬ìš´ ê³³ 5ê³³ìœ¼ë¡œ í™•ì¥ (ë™ì‹œ í¸ì§‘Â·SEARCH ì„±ëŠ¥ ì¶”ê°€).

---

## 1. í™”ë©´ ê°œìš”

### 1.1 ëª©ì 

ë°±ë¡œê·¸ëŠ” **"ì•ìœ¼ë¡œ í•´ì•¼ í•  ì¼ì´ ë­ê°€ ìˆê³ , ì§€ê¸ˆ ì–´ë””ê¹Œì§€ ì§„í–‰ëëŠ”ê°€?"**ì— ëŒ€í•œ ë‹µì„ ì œê³µí•œë‹¤.
ê¸°ì¡´ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ê¸°ë°˜ Epic/Story ëª©ë¡ì„ **4ê³„ì¸µ íŠ¸ë¦¬ êµ¬ì¡°(Epic â†’ Feature â†’ User Story â†’ Task)**ë¡œ ì „í™˜í•˜ì—¬, ìš”êµ¬ì‚¬í•­(Requirement)ì—ì„œ íŒŒìƒëœ ì‹¤í–‰ ë‹¨ìœ„(backlog item)ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê´€ë¦¬í•œë‹¤.

> **í•µì‹¬ ë¶„ë¦¬ ì›ì¹™**: ìš”êµ¬ì‚¬í•­(Requirement)ì€ **"ê³ ê°ì´ ë­˜ ì›í•˜ëŠ”ê°€"**(ê³„ì•½/RFP ê¸°ë°˜),
> ë°±ë¡œê·¸(Epic/Story)ëŠ” **"ìš°ë¦¬ê°€ ë­˜ ë§Œë“¤ ê²ƒì¸ê°€"**(ì‹¤í–‰ ë‹¨ìœ„).
> ë‘ ê°ì²´ëŠ” ID ê¸°ë°˜ Trace ì—°ê²°ë¡œ ì—°ê²°ë˜ë©°, ë°±ë¡œê·¸ í™”ë©´ì—ì„œëŠ” ì‹¤í–‰ ê´€ì ì— ì§‘ì¤‘í•œë‹¤.

### 1.2 ì„¤ê³„ ì›ì¹™

| ì›ì¹™ | ì„¤ëª… |
|------|------|
| **4ê³„ì¸µ íŠ¸ë¦¬** | Epic â†’ Feature â†’ User Story â†’ Task ê³„ì¸µ êµ¬ì¡°ë¡œ ì „ì²´ ì‘ì—… ë²”ìœ„ë¥¼ ì‹œê°í™” |
| **Tree = ë Œë”ë§, Filter = ìƒë‹¨** | íŠ¸ë¦¬ëŠ” ìˆœìˆ˜ ë Œë”ë§, í•„í„°ë§ì€ ìƒìœ„ ë ˆë²¨ì—ì„œ 1íšŒ ì²˜ë¦¬ |
| **ID ê¸°ë°˜ ì¡°ì¸ë§Œ** | Name-based ì¡°ì¸ ê¸ˆì§€, ëª¨ë“  ì—°ê²°ì€ ID ê¸°ë°˜ FK |
| **Story = Sprint í• ë‹¹ ë‹¨ìœ„** | Sprint Backlogì— ì˜¬ë¦¬ëŠ” ìµœì†Œ ë‹¨ìœ„ëŠ” User Story |
| **Task = Kanban ì¹´ë“œ** | TaskëŠ” ì¹¸ë°˜ ë³´ë“œì˜ ì¹´ë“œ ë‹¨ìœ„ë¡œ, ê°œë°œì ì‹¤í–‰ ë ˆë²¨ |
| **FilterSpec = ì˜¨í†¨ë¡œì§€** | í•„í„° í‚¤ê°€ AI/URL/ë°±ì—”ë“œ ê³µí†µ ìŠ¤í‚¤ë§ˆë¡œ í†µí•© |
| **Part ê¸°ë°˜ ìŠ¤ì½”í”„** | DevReaderëŠ” ìì‹ ì˜ Part(íŒŒíŠ¸)ì— ì†í•œ í•­ëª©ë§Œ í‘œì‹œ, **ì„œë²„ì—ì„œ ê°•ì œ** |
| **queryMode ë¶„ë¦¬** | íŠ¸ë¦¬ í•„í„°(Epic/Phase/Part)ì™€ ê²€ìƒ‰ í•„í„°(Story/Task/ë‹´ë‹¹)ë¥¼ TREE/SEARCH 2ëª¨ë“œë¡œ ëª…ì‹œ ë¶„ë¦¬ |
| **ìƒíƒœ ì „ì´ = ì„œë²„ íŠ¸ëœì­ì…˜** | Epic/Story ìë™ ì „ì´ëŠ” í”„ë¡ íŠ¸ ì„ì˜ ë³€ê²½ ë¶ˆê°€, ì„œë²„ íŠ¸ëœì­ì…˜ì—ì„œë§Œ ì²˜ë¦¬ |
| **Capability ì„¸ë¶„í™”** | Task ê´€ë¦¬Â·ìˆœì„œ ë³€ê²½ì€ Story ê´€ë¦¬ì™€ ë¶„ë¦¬í•˜ì—¬ íŒŒíŠ¸ì¥/ê°œë°œìì—ê²Œ ë…ë¦½ ë¶€ì—¬ ê°€ëŠ¥ |

### 1.3 í–‰ë™ ë¬´ê²Œì¤‘ì‹¬ â€” 3ê°œ í™”ë©´ì˜ ì—­í•  ë¶„ë‹´

> **v2.0 ì‹ ê·œ**: backlog/kanban/sprints 3ê°œ í™”ë©´ ê°„ "do" í–‰ë™ì˜ í™ˆ í™”ë©´ì„ í™•ì •í•œë‹¤.
> AIê°€ ì¡°ì¹˜ ì§ˆë¬¸ì„ ë°›ì•˜ì„ ë•Œ ì–´ë””ë¡œ ë³´ë‚¼ì§€ì˜ ì •ì±…ì´ Presetë³„ë¡œ ë‹¬ë¼ì§„ë‹¤.

| í™”ë©´ | ì—­í•  | í•µì‹¬ í–‰ë™ |
|------|------|---------|
| **ë°±ë¡œê·¸** (ë³¸ í™”ë©´) | **ê³„íš/í¸ì„± í™ˆ** | EpicÂ·Story ìƒì„±, Story ì •ì œ, SP ì¶”ì •, Sprint í• ë‹¹ |
| **ì¹¸ë°˜** | **ì‹¤í–‰ í™ˆ** | Task ìƒíƒœ ë³€ê²½, ì½”ë“œë¦¬ë·°, ì™„ë£Œ ì²˜ë¦¬ |
| **ìŠ¤í”„ë¦°íŠ¸** | **ìš´ì˜ í™ˆ** | Sprint êµ¬ì„±, ì†ë„ ì¸¡ì •, Burndown, íšŒê³  |

**Presetë³„ AI ë¼ìš°íŒ… ì •ì±… (do_assign_sprint ì˜ˆì‹œ)**:

| Preset | "Sprint í• ë‹¹í•´ì¤˜" â†’ AI ë¼ìš°íŒ… | ì´ìœ  |
|--------|-------------------------------|------|
| PM_WORK | â†’ `targetNodeId: "backlog"` | PMì€ READY í’€ì—ì„œ ëŒì–´ì˜¤ê¸° |
| PMO_CONTROL | â†’ `targetNodeId: "sprints"` | PMOëŠ” í˜„ Sprint êµ¬ì„± í†µì œ |
| DEV_EXECUTION | â†’ `targetNodeId: "kanban"` | DEVëŠ” í• ë‹¹ ì´í›„ ì‹¤í–‰ ê´€ì  |

```typescript
/** Presetë³„ do intent ë¼ìš°íŒ… ì •ì±… */
export const DO_INTENT_ROUTING: Record<ViewModePreset, Record<string, string>> = {
  PM_WORK: {
    do_assign_sprint:  "backlog",     // READY í’€ì—ì„œ í• ë‹¹
    do_create_epic:    "backlog",
    do_create_story:   "backlog",
    do_change_priority: "backlog",
  },
  PMO_CONTROL: {
    do_assign_sprint:  "sprints",     // Sprint êµ¬ì„± í†µì œ
    do_create_epic:    "backlog",
    do_create_story:   "backlog",
    do_change_priority: "backlog",
  },
  DEV_EXECUTION: {
    do_assign_sprint:  "kanban",      // í• ë‹¹ ì´í›„ ì‹¤í–‰
    do_create_epic:    "backlog",
    do_create_story:   "backlog",
    do_change_priority: "backlog",
  },
  EXEC_SUMMARY: {
    do_assign_sprint:  "sprints",
    do_create_epic:    "backlog",
    do_create_story:   "backlog",
    do_change_priority: "backlog",
  },
  CUSTOMER_APPROVAL: {
    do_assign_sprint:  "sprints",
    do_create_epic:    "backlog",
    do_create_story:   "backlog",
    do_change_priority: "backlog",
  },
};
```

> **í•µì‹¬**: Presetì˜ ë™ì  ì „í™˜ì€ ë‹¨ìˆœ UI ë°€ë„ ë³€ê²½ì´ ì•„ë‹ˆë¼ **AI ë¼ìš°íŒ… ì •ì±…ê¹Œì§€ í•¨ê»˜ ë°”ë€ŒëŠ” ì§„ì§œ Preset**ì´ë‹¤.

### 1.4 í•µì‹¬ ì§ˆë¬¸ â†’ ìœ„ì ¯ ë§¤í•‘

| ì‚¬ìš©ì ì§ˆë¬¸ | í™”ë©´ ì˜ì—­ | ì„¤ëª… |
|-----------|---------|------|
| "Epicì´ ì´ ëª‡ ê°œì•¼?" | ìƒë‹¨ KPI | Epic/Feature/Story/Task ê±´ìˆ˜ |
| "ì´ë²ˆ ìŠ¤í”„ë¦°íŠ¸ì— ë“¤ì–´ê°„ StoryëŠ”?" | í•„í„° + íŠ¸ë¦¬ | sprintId í•„í„° â†’ IN_SPRINT Story í•˜ì´ë¼ì´íŠ¸ |
| "ì§„í–‰ë¥ ì´ ì œì¼ ë‚®ì€ Epicì€?" | íŠ¸ë¦¬ ì •ë ¬ | progress ê¸°ì¤€ ì˜¤ë¦„ì°¨ìˆœ |
| "READY ìƒíƒœ Story ëª©ë¡" | í•„í„° | storyStatus=READY í•„í„° |
| "ë‚´ íŒŒíŠ¸ ë°±ë¡œê·¸ ë³´ì—¬ì¤˜" | í•„í„° | partId=í˜„ì¬ì‚¬ìš©ìíŒŒíŠ¸ í•„í„° |
| "Story Point í•©ê³„ëŠ”?" | ìƒë‹¨ KPI | totalPoints / completedPoints |
| "BLOCKED ëœ ì‘ì—… ìˆì–´?" | í•„í„° + ë°°ì§€ | Task status=BLOCKED í•„í„° |
| "Epic E-12 ìƒì„¸ ë³´ì—¬ì¤˜" | ìƒì„¸ í˜ì´ì§€ | `/backlog/epics/:epicId` ì§ì ‘ ì´ë™ |
| "SP ë¯¸ì¶”ì • Story ìˆì–´?" | KPI + í•„í„° | unestimated í•„í„° (v2.0) |
| "ë‹´ë‹¹ ë¯¸í• ë‹¹ Story ìˆì–´?" | KPI + í•„í„° | unassigned í•„í„° (v2.0) |

---

## 2. MenuOntology ë…¸ë“œ

### 2.1 íƒ€ì… í™•ì • (v2.0 ë³€ê²½ì‚¬í•­)

01_ëŒ€ì‹œë³´ë“œ / 02_ìš”êµ¬ì‚¬í•­ v2.0 íŒ¨í„´ì„ ë™ì¼í•˜ê²Œ ì ìš©í•œë‹¤.

| í•­ëª© | v1.0 | v2.0 (í™•ì •) | ë³€ê²½ ì‚¬ìœ  |
|------|------|------------|----------|
| `entities` | PascalCase | ë™ì¼ | â€” |
| `intents` | 13ê°œ | 15ê°œ í™•ì¥ | ë¯¸ì¶”ì •/ë¯¸í• ë‹¹ ì§ˆë¬¸ ì¶”ê°€ |
| Capability | 3ê°œ | **5ê°œ** | `manage_backlog_task`Â·`reorder_backlog` ë¶„ë¦¬ |
| `filterSpec` | 9í‚¤ | **12í‚¤** | `unassigned`Â·`unestimated`Â·`sortBy` ì¶”ê°€ |
| `virtualNodes` | 4ê°œ | **5ê°œ** | `backlog.unassigned` ì¶”ê°€ |
| `metrics` | 11ê°œ | **14ê°œ** | ìš´ì˜ KPI 3ì¢… ì¶”ê°€ |
| AI ë¼ìš°íŒ… | ë‹¨ì¼ | Presetë³„ ë¶„ê¸° | Â§1.3 DO_INTENT_ROUTING ì ìš© |

### 2.2 FilterSpec ì •ì˜

FilterSpecì€ **ì´ í™”ë©´ì´ ì§€ì›í•˜ëŠ” í•„í„° ìŠ¤í‚¤ë§ˆ**ë¥¼ ì˜¨í†¨ë¡œì§€ ë‚´ë¶€ì— ì„ ì–¸í•œë‹¤.
AIê°€ ë”¥ë§í¬ë¥¼ ìƒì„±í•  ë•Œ, URL íŒŒë¼ë¯¸í„° ë¬¸ìì—´ì´ ì•„ë‹ˆë¼ **FilterSpec í‚¤ ê¸°ë°˜ í•„í„° ê°ì²´**ë¥¼ ë°˜í™˜í•œë‹¤.

```typescript
/** ë°±ë¡œê·¸ í•„í„° ìŠ¤í‚¤ë§ˆ â€” ì˜¨í†¨ë¡œì§€ ë‚´ì¥ (v2.0) */
export interface BacklogFilterSpec {
  /** Epic ìƒíƒœ */
  epicStatus?: "BACKLOG" | "IN_PROGRESS" | "COMPLETED" | "CANCELLED";
  /** ìš°ì„ ìˆœìœ„ */
  priority?: "CRITICAL" | "HIGH" | "MEDIUM" | "LOW";
  /** Phase ì—°ê²° */
  phaseId?: string;
  /** Part(íŒŒíŠ¸) ë²”ìœ„ */
  partId?: string;
  /** Sprint ì—°ê²° (Story ë ˆë²¨ í•„í„°) â†’ queryMode: SEARCH íŠ¸ë¦¬ê±° */
  sprintId?: string;
  /** Story ìƒíƒœ (Story ë ˆë²¨ í•„í„°) â†’ queryMode: SEARCH íŠ¸ë¦¬ê±° */
  storyStatus?: "IDEA" | "REFINED" | "READY" | "IN_SPRINT" | "IN_PROGRESS" | "REVIEW" | "DONE" | "CANCELLED";
  /** Task ìƒíƒœ (Task ë ˆë²¨ í•„í„°) â†’ queryMode: SEARCH íŠ¸ë¦¬ê±° */
  taskStatus?: "TODO" | "IN_PROGRESS" | "IN_REVIEW" | "DONE" | "BLOCKED";
  /** ë‹´ë‹¹ì í•„í„° â†’ queryMode: SEARCH íŠ¸ë¦¬ê±° */
  assigneeId?: string;
  /** v2.0: ë‹´ë‹¹ ë¯¸í• ë‹¹ Story í•„í„° â†’ queryMode: SEARCH íŠ¸ë¦¬ê±° */
  unassigned?: boolean;
  /** v2.0: SP ë¯¸ì¶”ì • Story í•„í„° â†’ queryMode: SEARCH íŠ¸ë¦¬ê±° */
  unestimated?: boolean;
  /** v2.0: ì •ë ¬ ê¸°ì¤€ â€” 2ì¢…ë§Œ í—ˆìš© (Â§5.5 ì°¸ì¡°) */
  sortBy?: "order" | "progress";
  /** ììœ  ê²€ìƒ‰ì–´ â†’ queryMode: SEARCH íŠ¸ë¦¬ê±° */
  q?: string;
}
```

> **queryMode íŒì • ê·œì¹™**: `epicStatus`/`priority`/`phaseId`/`partId`ë§Œ ìˆìœ¼ë©´ **TREE ëª¨ë“œ**.
> `storyStatus`/`taskStatus`/`assigneeId`/`sprintId`/`unassigned`/`unestimated`/`q` ì¤‘
> í•˜ë‚˜ë¼ë„ ìˆìœ¼ë©´ **SEARCH ëª¨ë“œ**ë¡œ ì „í™˜ëœë‹¤. (Â§7.2 ì°¸ì¡°)

### 2.3 Backlog ë…¸ë“œ (í™•ì •ë³¸ v2.0)

```typescript
const backlogNode: MenuOntologyNodeV2 = {
  nodeId: "backlog",
  label: "ë°±ë¡œê·¸(EPIC)",
  route: "/backlog",
  icon: "ViewListRounded",
  domain: "plan",
  nodeRole: "detail",              // â˜… ìƒì„¸ ë…¸ë“œ â€” í–‰ë™/í•„í„° ì§ˆë¬¸ì— +10 ê°€ì‚°

  requiredCaps: ["view_backlog"],

  // â”€â”€â”€ ì¸í…íŠ¸: 15ê°œ (v2.0: +2) â”€â”€â”€
  intents: [
    // Ask ê³„ì—´ â€” ì¡°íšŒ/ì§ˆë¬¸
    "ask_backlog_status",           // "ë°±ë¡œê·¸ í˜„í™© ì•Œë ¤ì¤˜"
    "ask_epic_detail",              // "Epic E-12 ìƒì„¸ ë³´ì—¬ì¤˜"
    "ask_epic_progress",            // "Epic ì§„í–‰ë¥  ì•Œë ¤ì¤˜"
    "ask_story_status",             // "Story ìƒíƒœ ì•Œë ¤ì¤˜"
    "ask_sprint_stories",           // "ì´ë²ˆ ìŠ¤í”„ë¦°íŠ¸ StoryëŠ”?"
    "ask_blocked_items",            // "BLOCKED ëœ ê±´ ìˆì–´?"
    "ask_story_points",             // "Story Point í•©ê³„ëŠ”?"
    "ask_part_backlog",             // "ë‚´ íŒŒíŠ¸ ë°±ë¡œê·¸ ë³´ì—¬ì¤˜"
    "ask_unestimated_stories",      // v2.0: "SP ë¯¸ì¶”ì • Story ìˆì–´?"
    "ask_unassigned_stories",       // v2.0: "ë‹´ë‹¹ ë¯¸í• ë‹¹ Story ìˆì–´?"
    // Do ê³„ì—´ â€” ì‹¤í–‰/ë³€ê²½
    "do_create_epic",               // "Epic ìƒì„±í•´ì¤˜"
    "do_create_story",              // "Story ìƒì„±í•´ì¤˜"
    "do_assign_sprint",             // "Storyë¥¼ Sprintì— ë„£ì–´ì¤˜"
    "do_change_priority",           // "ìš°ì„ ìˆœìœ„ ë³€ê²½í•´ì¤˜"
    "do_export_backlog",            // "ë°±ë¡œê·¸ Export í•´ì¤˜"
  ],
  canonicalQuestions: [
    "ë°±ë¡œê·¸ í˜„í™© ë³´ì—¬ì¤˜",
    "Epicì´ ì´ ëª‡ ê°œì•¼?",
    "ì§„í–‰ë¥ ì´ ê°€ì¥ ë‚®ì€ Epicì€?",
    "ì´ë²ˆ ìŠ¤í”„ë¦°íŠ¸ì— í• ë‹¹ëœ StoryëŠ”?",
    "READY ìƒíƒœ Story ëª©ë¡ ë³´ì—¬ì¤˜",
    "ë‚´ íŒŒíŠ¸ ë°±ë¡œê·¸ ì•Œë ¤ì¤˜",
    "BLOCKED ëœ Task ìˆì–´?",
    "Story Point í•©ê³„ ì•Œë ¤ì¤˜",
    "Epic E-12 ìƒì„¸ ë³´ì—¬ì¤˜",
    "ìƒˆ Epic ë§Œë“¤ì–´ì¤˜",
    "SP ë¯¸ì¶”ì • Story ìˆì–´?",         // v2.0
    "ë‹´ë‹¹ ë¯¸í• ë‹¹ Story ìˆì–´?",       // v2.0
  ],
  entities: ["Epic", "Feature", "Story", "Task", "Sprint"],
  keywords: [
    "ë°±ë¡œê·¸", "ì—í”½", "ìŠ¤í† ë¦¬", "íƒœìŠ¤í¬", "í”¼ì²˜", "í¬ì¸íŠ¸",
    "backlog", "epic", "feature", "story", "task", "sprint",
    "user story", "story point", "velocity", "ìš°ì„ ìˆœìœ„",
    "ë¯¸ì¶”ì •", "ë¯¸í• ë‹¹", "unestimated", "unassigned",
  ],
  metrics: [
    "total_epics",
    "total_features",
    "total_stories",
    "total_tasks",
    "stories_in_backlog",
    "stories_in_sprint",
    "stories_done",
    "total_points",
    "completed_points",
    "velocity",
    "blocked_count",
    // â”€â”€â”€ v2.0: ìš´ì˜ KPI 3ì¢… ì¶”ê°€ â”€â”€â”€
    "unestimated_stories_count",         // SP ë¯¸ì¶”ì • Story ìˆ˜
    "ready_without_sprint_count",        // READYì¸ë° Sprint ë¯¸í• ë‹¹
    "unassigned_ready_stories_count",    // READYì¸ë° ë‹´ë‹¹ ë¯¸í• ë‹¹
  ],

  // â”€â”€â”€ FilterSpec ì˜¨í†¨ë¡œì§€ ë‚´ì¥ (v2.0 í™•ì¥) â”€â”€â”€
  filterSpec: {
    keys: [
      "epicStatus", "priority", "phaseId", "partId",
      "sprintId", "storyStatus", "taskStatus", "assigneeId",
      "unassigned", "unestimated", "sortBy", "q",      // v2.0: +3í‚¤
    ],
    defaults: {},  // Presetë³„ë¡œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥
  },

  defaultPreset: "PM_WORK",
  presetPolicies: [
    {
      preset: "EXEC_SUMMARY",
      ui: {
        density: "compact",
        defaultRightPanel: "closed",
        highlight: {
          metricKeys: ["total_epics", "total_points", "completed_points"],
          widgetKeys: ["KPI_EPICS", "KPI_POINTS", "PROGRESS_SUMMARY"],
        },
        hiddenColumns: ["partId", "assigneeId", "taskStatus"],
      },
    },
    {
      preset: "PMO_CONTROL",
      ui: {
        density: "standard",
        defaultRightPanel: "open",
        highlight: {
          metricKeys: [
            "total_epics", "stories_in_sprint", "velocity", "blocked_count",
            "unestimated_stories_count",     // v2.0
          ],
          widgetKeys: ["KPI_EPICS", "KPI_VELOCITY", "KPI_UNESTIMATED", "EPIC_PROGRESS_TABLE"],
        },
      },
      suggestedActions: [
        {
          key: "export_backlog",
          label: "ë°±ë¡œê·¸ Export",
          requiredCaps: ["export_reports"],
          targetNodeId: "reports",
        },
        {
          key: "view_sprint",
          label: "ìŠ¤í”„ë¦°íŠ¸ í˜„í™©",
          requiredCaps: ["view_sprints"],
          targetNodeId: "sprints",
        },
      ],
    },
    {
      preset: "PM_WORK",
      ui: {
        density: "detailed",
        defaultRightPanel: "open",
        highlight: {
          metricKeys: [
            "stories_in_backlog", "stories_in_sprint", "blocked_count", "velocity",
            "unestimated_stories_count",           // v2.0
            "ready_without_sprint_count",          // v2.0
            "unassigned_ready_stories_count",      // v2.0
          ],
          widgetKeys: [
            "KPI_STORIES", "KPI_BLOCKED", "KPI_UNESTIMATED",
            "KPI_UNASSIGNED", "EPIC_TREE", "CONTEXT_PANEL",
          ],
        },
      },
      suggestedActions: [
        {
          key: "create_epic",
          label: "Epic ìƒì„±",
          requiredCaps: ["manage_backlog_epic"],
          targetNodeId: "backlog",
        },
        {
          key: "create_story",
          label: "Story ìƒì„±",
          requiredCaps: ["manage_backlog_story"],
          targetNodeId: "backlog",
        },
        {
          key: "assign_sprint",
          label: "Sprint í• ë‹¹",
          requiredCaps: ["assign_story_sprint"],
          targetNodeId: "backlog",
        },
        {
          key: "go_kanban",
          label: "ì¹¸ë°˜ ë³´ë“œ",
          requiredCaps: ["view_kanban"],
          targetNodeId: "kanban",
        },
      ],
    },
    {
      preset: "DEV_EXECUTION",
      ui: {
        density: "standard",
        defaultRightPanel: "closed",
        defaultFilters: { partId: "{{currentUserPartId}}" },
        highlight: {
          metricKeys: ["total_stories", "stories_in_sprint"],
          widgetKeys: ["EPIC_TREE", "KPI_STORIES"],
        },
      },
      suggestedActions: [
        {
          key: "go_my_work",
          label: "ë‚´ ì‘ì—…",
          requiredCaps: ["view_my_work"],
          targetNodeId: "my-work",
        },
        {
          key: "go_kanban",
          label: "ì¹¸ë°˜ ë³´ë“œ",
          requiredCaps: ["view_kanban"],
          targetNodeId: "kanban",
        },
      ],
    },
    {
      preset: "CUSTOMER_APPROVAL",
      ui: {
        density: "compact",
        defaultRightPanel: "closed",
        highlight: {
          metricKeys: ["total_epics", "total_points", "completed_points"],
          widgetKeys: ["KPI_EPICS", "PROGRESS_SUMMARY"],
        },
        hiddenColumns: ["partId", "assigneeId", "taskStatus", "storyPoints"],
      },
    },
    // â˜… AUDIT_EVIDENCE ì œê±° â€” ê°ì‚¬ëŠ” ë°±ë¡œê·¸ ì ‘ê·¼ ë¶ˆê°€
  ],

  // â”€â”€â”€ DeepLink: routeTemplate í‘œì¤€ (:param í˜•íƒœ) â”€â”€â”€
  deepLinks: [
    {
      pattern: "/backlog?epicStatus=:epicStatus",
      description: "Epic ìƒíƒœë³„ í•„í„°",
      requiredParams: ["epicStatus"],
    },
    {
      pattern: "/backlog?storyStatus=:storyStatus",
      description: "Story ìƒíƒœë³„ í•„í„°",
      requiredParams: ["storyStatus"],
    },
    {
      pattern: "/backlog?sprintId=:sprintId",
      description: "Sprintë³„ Story í•„í„°",
      requiredParams: ["sprintId"],
    },
    {
      pattern: "/backlog?partId=:partId",
      description: "Partë³„ ë°±ë¡œê·¸",
      requiredParams: ["partId"],
    },
    {
      pattern: "/backlog?priority=:priority",
      description: "ìš°ì„ ìˆœìœ„ë³„ í•„í„°",
      requiredParams: ["priority"],
    },
    {
      pattern: "/backlog?unassigned=true",
      description: "ë‹´ë‹¹ ë¯¸í• ë‹¹ Story (v2.0)",
      requiredParams: [],
    },
    {
      pattern: "/backlog?unestimated=true",
      description: "SP ë¯¸ì¶”ì • Story (v2.0)",
      requiredParams: [],
    },
    {
      pattern: "/backlog/epics/:epicId",
      description: "Epic ìƒì„¸ + Feature/Story/Task íŠ¸ë¦¬",
      requiredParams: ["epicId"],
    },
  ],

  // â”€â”€â”€ ê°€ìƒ ë…¸ë“œ: ë”¥ë§í¬ë¥¼ ì˜¨í†¨ë¡œì§€ 2ê³„ì¸µìœ¼ë¡œ ìŠ¹ê²© (v2.0: 5ê°œ) â”€â”€â”€
  virtualNodes: [
    {
      virtualId: "backlog.ready-stories",
      label: "READY í’€",
      routeTemplate: "/backlog?storyStatus=READY",
      requiredParams: [],
      intents: ["ask_story_status", "do_assign_sprint"],
      description: "Sprint í• ë‹¹ ì¤€ë¹„ ì™„ë£Œ(READY) Story ëª©ë¡ â€” Sprint Planning ì‹œì‘ì ",
    },
    {
      virtualId: "backlog.blocked",
      label: "BLOCKED í’€",
      routeTemplate: "/backlog?taskStatus=BLOCKED",
      requiredParams: [],
      intents: ["ask_blocked_items"],
      description: "BLOCKED ìƒíƒœ Taskê°€ í¬í•¨ëœ ë°±ë¡œê·¸ í•­ëª© â€” ë³‘ëª© ì œê±° ì§„ì…ì ",
    },
    {
      virtualId: "backlog.in-sprint",
      label: "í˜„ì¬ Sprint ë²”ìœ„",
      routeTemplate: "/backlog?storyStatus=IN_SPRINT",
      requiredParams: [],
      intents: ["ask_sprint_stories"],
      description: "í˜„ì¬ Sprintì— í• ë‹¹ëœ Story ëª©ë¡ â€” í˜„ì¬ Sprint ë²”ìœ„ í™•ì¸",
    },
    {
      virtualId: "backlog.my-part",
      label: "ë‚´ íŒŒíŠ¸ ë°±ë¡œê·¸",
      routeTemplate: "/backlog?partId={{currentUserPartId}}",
      requiredParams: [],
      intents: ["ask_part_backlog"],
      description: "í˜„ì¬ ì‚¬ìš©ìì˜ íŒŒíŠ¸ ë²”ìœ„ ë°±ë¡œê·¸ ì§ì ‘ ì§„ì…",
    },
    {
      // v2.0 ì‹ ê·œ
      virtualId: "backlog.unassigned",
      label: "ë¯¸í• ë‹¹ í’€",
      routeTemplate: "/backlog?unassigned=true&storyStatus=READY",
      requiredParams: [],
      intents: ["ask_unassigned_stories"],
      description: "ë‹´ë‹¹ ë¯¸í• ë‹¹ READY Story â€” ë‹´ë‹¹ì ë°°ì • ì§„ì…ì ",
    },
  ],

  // â”€â”€â”€ ìŠ¤ì½”í”„ 2ê³„ì¸µ ë¶„ë¦¬ â”€â”€â”€
  scope: {
    keys: ["project", "part"],
    params: ["projectId", "partId"],
  },

  priority: 2,
};
```

### 2.4 FilterSpec URL ì§ë ¬í™” ê·œì¹™

> **v2.1 ì‹ ê·œ**: AIÂ·í”„ë¡ íŠ¸Â·ë°±ì—”ë“œê°€ ë™ì¼í•œ ì§ë ¬í™” ê·œì¹™ì„ ê³µìœ í•´ì•¼
> ë”¥ë§í¬/ë¶ë§ˆí¬/íˆìŠ¤í† ë¦¬ê°€ ê¹¨ì§€ì§€ ì•ŠëŠ”ë‹¤.

**ì§ë ¬í™” ë°©í–¥**: `BacklogFilterSpec â†’ URL query string â†’ BacklogFilterSpec` (ì™•ë³µ ë³´ì¥)

```typescript
/** FilterSpec â†’ URL ì§ë ¬í™” */
function serializeBacklogFilter(filter: BacklogFilterSpec): URLSearchParams {
  const params = new URLSearchParams();
  for (const [key, value] of Object.entries(filter)) {
    if (value === undefined || value === null) continue;
    // boolean: "true" ë¬¸ìì—´ë§Œ ì „ì†¡ (false/undefinedëŠ” í‚¤ ìì²´ë¥¼ ìƒëµ)
    if (typeof value === "boolean") {
      if (value) params.set(key, "true");
      continue;
    }
    params.set(key, String(value));
  }
  return params;
}

/** URL â†’ FilterSpec ì—­ì§ë ¬í™” */
function deserializeBacklogFilter(params: URLSearchParams): BacklogFilterSpec {
  const filter: BacklogFilterSpec = {};
  const booleanKeys = ["unassigned", "unestimated"] as const;
  const enumKeys = {
    epicStatus: ["BACKLOG", "IN_PROGRESS", "COMPLETED", "CANCELLED"],
    priority: ["CRITICAL", "HIGH", "MEDIUM", "LOW"],
    storyStatus: ["IDEA", "REFINED", "READY", "IN_SPRINT", "IN_PROGRESS", "REVIEW", "DONE", "CANCELLED"],
    taskStatus: ["TODO", "IN_PROGRESS", "IN_REVIEW", "DONE", "BLOCKED"],
    sortBy: ["order", "progress"],
  } as const;

  for (const [key, value] of params.entries()) {
    // boolean
    if (booleanKeys.includes(key as any)) {
      (filter as any)[key] = value === "true";
      continue;
    }
    // enum validation â€” invalid value â†’ skip (silent drop)
    if (key in enumKeys) {
      if ((enumKeys as any)[key].includes(value)) {
        (filter as any)[key] = value;
      }
      continue;
    }
    // string keys (phaseId, partId, sprintId, assigneeId, q)
    if (["phaseId", "partId", "sprintId", "assigneeId", "q"].includes(key)) {
      (filter as any)[key] = value;
    }
    // unknown keys â†’ silent drop (forward compatibility)
  }
  return filter;
}
```

**ì§ë ¬í™” ê·œì¹™ ìš”ì•½**:

| ê·œì¹™ | ì˜ˆì‹œ | ì„¤ëª… |
|------|------|------|
| booleanì€ `true`ë§Œ ì „ì†¡ | `?unassigned=true` | `false`/`undefined`ëŠ” í‚¤ ìì²´ ìƒëµ |
| enumì€ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦ | `?epicStatus=IN_PROGRESS` | ìœ íš¨í•˜ì§€ ì•Šì€ ê°’ì€ silent drop |
| ë³µìˆ˜ í•„í„°ëŠ” `&`ë¡œ ì—°ê²° | `?storyStatus=READY&unassigned=true` | í‘œì¤€ query string |
| sortBy ê¸°ë³¸ê°’ ìƒëµ | `sortBy=order` â†’ í‚¤ ìƒëµ | ê¸°ë³¸ê°’ì€ URLì— í¬í•¨í•˜ì§€ ì•ŠìŒ |
| ë¯¸ì§€ í‚¤ëŠ” ë¬´ì‹œ | `?futureKey=x` â†’ ë¬´ì‹œ | í•˜ìœ„ í˜¸í™˜ì„± ë³´ì¥ |
| partIdëŠ” ì„œë²„ ì¬ê²€ì¦ | `?partId=abc` | Part scope ì„œë²„ ê°•ì œ(Â§6) ì ìš© |

**AI ë”¥ë§í¬ ìƒì„± ì‹œ**: AIëŠ” `BacklogFilterSpec` ê°ì²´ë¥¼ ë°˜í™˜í•˜ê³ , í”„ë¡ íŠ¸ê°€ `serializeBacklogFilter()`ë¡œ
URLì„ ìƒì„±í•œë‹¤. AIê°€ ì§ì ‘ URL ë¬¸ìì—´ì„ ì¡°ë¦½í•˜ì§€ ì•ŠëŠ”ë‹¤.

---

## 3. í™”ë©´ êµ¬ì¡°

### 3.1 Right Panel panelMode ì •ì˜

Right Panelì€ í•­ìƒ ë™ì¼í•œ ì˜ì—­ì´ì§€ë§Œ, **panelMode**ì— ë”°ë¼ í‘œì‹œ ë‚´ìš©ì´ ë‹¬ë¼ì§„ë‹¤.

```typescript
/** Right Panel ëª¨ë“œ â€” ëª…ì‹œì  enum */
export type BacklogPanelMode =
  | "none"           // Right Panel ìˆ¨ê¹€ (EXEC_SUMMARY, CUSTOMER_APPROVAL)
  | "context"        // Epic/Story ì»¨í…ìŠ¤íŠ¸ ì •ë³´ (ëª©ë¡ì—ì„œ í–‰ ì„ íƒ)
  | "detail"         // Epic ìƒì„¸ ì •ë³´ (ìƒì„¸ í˜ì´ì§€ ë‚´)
  | "story-detail"   // Story ìƒì„¸ ì •ë³´ (Story í–‰ ì„ íƒ)
  | "trace";         // ìš”êµ¬ì‚¬í•­ Trace ì—­ì¶”ì  (Epicâ†’Requirement)
```

**panelMode ê²°ì • ê·œì¹™**:

| ì»¨í…ìŠ¤íŠ¸ | Preset | ê¸°ë³¸ panelMode |
|---------|--------|---------------|
| ëª©ë¡ + í–‰ ë¯¸ì„ íƒ | ALL | `"none"` |
| ëª©ë¡ + Epic í–‰ ì„ íƒ | EXEC_SUMMARY / CUSTOMER_APPROVAL | `"none"` (Right Panel ìˆ¨ê¹€) |
| ëª©ë¡ + Epic í–‰ ì„ íƒ | PM_WORK / PMO_CONTROL | `"context"` |
| ëª©ë¡ + Epic í–‰ ì„ íƒ | DEV_EXECUTION | `"context"` (ì½ê¸° ì „ìš©) |
| ëª©ë¡ + Story í–‰ ì„ íƒ | PM_WORK | `"story-detail"` |
| ìƒì„¸ í˜ì´ì§€ | ALL | `"detail"` |
| ìƒì„¸ í˜ì´ì§€ + Trace íƒ­ | PM_WORK / PMO_CONTROL | `"trace"` â†’ `"detail"` í† ê¸€ ê°€ëŠ¥ |

### 3.2 ë°±ë¡œê·¸ ëª©ë¡ (`/backlog`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Page Header                                                  â”‚
â”‚  ë°±ë¡œê·¸(EPIC)  [ AI ë³´í—˜ê¸ˆì§€ê¸‰ì‹¬ì‚¬ êµ¬ì¶• ]                      â”‚
â”‚  [ í•„í„° â–¼ ]  [ ê²€ìƒ‰ ğŸ” ]                 [ + Epic ìƒì„± ]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Epic    â”‚  â”‚ Feature â”‚  â”‚ Story   â”‚  â”‚ Task    â”‚        â”‚
â”‚  â”‚ 12ê°œ    â”‚  â”‚ 34ê°œ    â”‚  â”‚ 89ê±´    â”‚  â”‚ 156ê±´   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Points  â”‚  â”‚ Sprint  â”‚  â”‚ Velocityâ”‚  â”‚ Blocked â”‚        â”‚
â”‚  â”‚ 340/    â”‚  â”‚ ä¸­ 23ê±´ â”‚  â”‚ 28pts   â”‚  â”‚  3ê±´    â”‚        â”‚
â”‚  â”‚  580pt  â”‚  â”‚         â”‚  â”‚ /sprint â”‚  â”‚  âš       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â† v2.0 ì¶”ê°€        â”‚
â”‚  â”‚ë¯¸ì¶”ì •   â”‚  â”‚READY    â”‚  â”‚ë¯¸í• ë‹¹   â”‚                      â”‚
â”‚  â”‚ Story   â”‚  â”‚ ë¯¸í• ë‹¹  â”‚  â”‚ READY   â”‚                      â”‚
â”‚  â”‚  7ê±´ âš   â”‚  â”‚  5ê±´ âš   â”‚  â”‚  4ê±´ âš   â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€ í•„í„° ë°” â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Epicìƒíƒœ: [ì „ì²´â–¼] ìš°ì„ ìˆœìœ„: [ì „ì²´â–¼] Phase: [ì „ì²´â–¼]  â”‚      â”‚
â”‚  â”‚ Part: [ì „ì²´â–¼] Sprint: [ì „ì²´â–¼] Storyìƒíƒœ: [ì „ì²´â–¼]   â”‚      â”‚
â”‚  â”‚ [ ] ë¯¸í• ë‹¹ë§Œ  [ ] ë¯¸ì¶”ì •ë§Œ   ì •ë ¬: [ìˆœì„œâ–¼/ì§„í–‰ë¥ â–¼]  â”‚ v2.0â”‚
â”‚  â”‚                          â† FilterSpec í‚¤ì™€ 1:1 ë§¤í•‘ â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€ queryMode: TREE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ (SEARCH ëª¨ë“œì¼ ë•ŒëŠ” "Nê±´ ë§¤ì¹­ / ì „ì²´ Mê±´" í‘œì‹œ)           â”‚â”‚
â”‚  â”œâ”€ Epic Tree â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚                                       â”‚ panelMode:       â”‚â”‚â”‚
â”‚  â”‚ â–¼ ğŸŸ¦ E-01  ì‚¬ê¸°íƒì§€ AI ëª¨ë¸          â”‚ "context"        â”‚â”‚â”‚
â”‚  â”‚   â”‚  CRITICAL â”‚ IN_PROGRESS â”‚ 67%    â”‚                  â”‚â”‚â”‚
â”‚  â”‚   â”‚  120/180 SP                       â”‚ â”€â”€ Epic ìš”ì•½ â”€â”€ â”‚â”‚â”‚
â”‚  â”‚   â”‚                                   â”‚ ëª©í‘œ: ...        â”‚â”‚â”‚
â”‚  â”‚   â”œâ”€ ğŸ“ F-01  ì‹¤ì‹œê°„ íƒì§€ ê¸°ëŠ¥        â”‚ Phase: Step2     â”‚â”‚â”‚
â”‚  â”‚   â”‚   â”œâ”€ ğŸ“‹ S-01 íƒì§€ë£° ê´€ë¦¬         â”‚ Part: AIëª¨ë¸êµ¬ì¶• â”‚â”‚â”‚
â”‚  â”‚   â”‚   â”‚   READY â”‚ 5sp â”‚ ë¯¸í• ë‹¹        â”‚                  â”‚â”‚â”‚
â”‚  â”‚   â”‚   â”œâ”€ ğŸ“‹ S-02 ì‹¤ì‹œê°„ ìŠ¤ì½”ì–´ë§     â”‚ â”€â”€ Story í˜„í™© â”€â”€ â”‚â”‚â”‚
â”‚  â”‚   â”‚   â”‚   IN_SPRINT â”‚ 8sp â”‚ ê¹€â—‹â—‹     â”‚ ì „ì²´: 8          â”‚â”‚â”‚
â”‚  â”‚   â”‚   â””â”€ ğŸ“‹ S-03 ì•Œë¦¼ ì²˜ë¦¬           â”‚ In Sprint: 3     â”‚â”‚â”‚
â”‚  â”‚   â”‚       IN_PROGRESS â”‚ 3sp â”‚ ì´â—‹â—‹   â”‚ Done: 2          â”‚â”‚â”‚
â”‚  â”‚   â”‚                                   â”‚ Blocked: 1       â”‚â”‚â”‚
â”‚  â”‚   â””â”€ ğŸ“ F-02  ëª¨ë¸ í•™ìŠµ íŒŒì´í”„ë¼ì¸    â”‚                  â”‚â”‚â”‚
â”‚  â”‚       â”œâ”€ ğŸ“‹ S-04 í•™ìŠµ ë°ì´í„° ì „ì²˜ë¦¬  â”‚ â”€â”€ SP ìš”ì•½ â”€â”€â”€â”€ â”‚â”‚â”‚
â”‚  â”‚       â”‚   DONE â”‚ 5sp â”‚ ë°•â—‹â—‹          â”‚ Total: 120sp     â”‚â”‚â”‚
â”‚  â”‚       â””â”€ ğŸ“‹ S-05 ìë™ ì¬í•™ìŠµ         â”‚ Completed: 80sp  â”‚â”‚â”‚
â”‚  â”‚           IDEA â”‚ 13sp â”‚ -            â”‚                  â”‚â”‚â”‚
â”‚  â”‚                                       â”‚ â”€â”€ ì¶”ì²œ ì•¡ì…˜ â”€â”€ â”‚â”‚â”‚
â”‚  â”‚ â–¼ ğŸŸ¨ E-02  ë°˜ì¶œì… ê´€ë¦¬               â”‚ [+ Story ì¶”ê°€]   â”‚â”‚â”‚
â”‚  â”‚   â”‚  HIGH â”‚ IN_PROGRESS â”‚ 45%        â”‚ [Sprint í• ë‹¹]    â”‚â”‚â”‚
â”‚  â”‚   â”‚  60/130 SP                        â”‚ [ì¹¸ë°˜ì—ì„œ ë³´ê¸°]  â”‚â”‚â”‚
â”‚  â”‚   â”œâ”€ ...                              â”‚                  â”‚â”‚â”‚
â”‚  â”‚                                       â”‚                  â”‚â”‚â”‚
â”‚  â”‚ â–¶ ğŸŸ© E-03  ê²°ì¬ ì›Œí¬í”Œë¡œìš° (ì ‘í˜)     â”‚                  â”‚â”‚â”‚
â”‚  â”‚   â”‚  MEDIUM â”‚ BACKLOG â”‚ 0%           â”‚                  â”‚â”‚â”‚
â”‚  â”‚                                       â”‚                  â”‚â”‚â”‚
â”‚  â”‚ â–¶ ğŸŸ¥ E-04  ë³´í—˜ê¸ˆ ì‚°ì¶œ ì—”ì§„ (ì ‘í˜)    â”‚                  â”‚â”‚â”‚
â”‚  â”‚   â”‚  CRITICAL â”‚ IN_PROGRESS â”‚ 82%    â”‚                  â”‚â”‚â”‚
â”‚  â”‚                                       â”‚                  â”‚â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚                                                              â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
```

### 3.3 Epic ìƒì„¸ (`/backlog/epics/:epicId`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Page Header                                                  â”‚
â”‚  â† ë°±ë¡œê·¸  E-01  ì‚¬ê¸°íƒì§€ AI ëª¨ë¸                              â”‚
â”‚                          [ í¸ì§‘ ] [ Story ì¶”ê°€ ] [ ë³€ê²½ì´ë ¥ ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€ Epic ê¸°ë³¸ ì •ë³´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ panelMode: "detail" â”€â”â”‚
â”‚  â”‚                                   â”‚                       â”‚â”‚
â”‚  â”‚  Epic ID: E-01                   â”‚  â”€â”€ Feature/Story â”€â”€â”€ â”‚â”‚
â”‚  â”‚  ì´ë¦„: ì‚¬ê¸°íƒì§€ AI ëª¨ë¸           â”‚                       â”‚â”‚
â”‚  â”‚  ì„¤ëª…: ì‹¤ì‹œê°„ ë³´í—˜ ì‚¬ê¸° íƒì§€      â”‚  Feature: 3ê°œ         â”‚â”‚
â”‚  â”‚        AI ëª¨ë¸ ê°œë°œ ë° ìš´ì˜       â”‚  Story: 8ê°œ           â”‚â”‚
â”‚  â”‚  ëª©í‘œ: Q2ê¹Œì§€ ì •í™•ë„ 95% ë‹¬ì„±     â”‚  Task: 22ê°œ           â”‚â”‚
â”‚  â”‚                                   â”‚                       â”‚â”‚
â”‚  â”‚  ìƒíƒœ: IN_PROGRESS               â”‚  â”€â”€ Progress â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚  ìš°ì„ ìˆœìœ„: CRITICAL              â”‚  ì „ì²´ ì§„í–‰ë¥ : 67%     â”‚â”‚
â”‚  â”‚  Phase: Step2 (AI ëª¨ë¸ êµ¬ì¶•)      â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 67%   â”‚â”‚
â”‚  â”‚  Part: AIëª¨ë¸êµ¬ì¶•                 â”‚                       â”‚â”‚
â”‚  â”‚  Owner: í™â—‹â—‹                     â”‚  â”€â”€ Story Points â”€â”€â”€ â”‚â”‚
â”‚  â”‚  ëª©í‘œì¼: 2026-06-30              â”‚  Total: 180 SP        â”‚â”‚
â”‚  â”‚  Business Value: 85              â”‚  Completed: 120 SP    â”‚â”‚
â”‚  â”‚  â˜‘ ì™„ë£Œ ê°€ëŠ¥ (ì„œë²„ ê²€ì¦)  â† v2.0â”‚  Remaining: 60 SP    â”‚â”‚
â”‚  â”‚                                   â”‚                       â”‚â”‚
â”‚  â”œâ”€ Feature / Story íŠ¸ë¦¬ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”€â”€ Trace (ì—­ì¶”ì ) â”€â”€ â”‚â”‚
â”‚  â”‚                                   â”‚                       â”‚â”‚
â”‚  â”‚  â–¼ ğŸ“ F-01  ì‹¤ì‹œê°„ íƒì§€ ê¸°ëŠ¥     â”‚  ì—°ê²°ëœ Requirement:  â”‚â”‚
â”‚  â”‚    â”‚  Part: AIëª¨ë¸êµ¬ì¶•            â”‚  REQ-012 ì‹¤ì‹œê°„íƒì§€   â”‚â”‚
â”‚  â”‚    â”‚                              â”‚    ìˆ˜ìš©: Y            â”‚â”‚
â”‚  â”‚    â”œâ”€ ğŸ“‹ S-01 íƒì§€ë£° ê´€ë¦¬        â”‚    ì—­ì¶”ì :            â”‚â”‚
â”‚  â”‚    â”‚   ìƒíƒœ: READY â”‚ 5sp          â”‚    linked âœ…          â”‚â”‚
â”‚  â”‚    â”‚   ë‹´ë‹¹: ë¯¸í• ë‹¹               â”‚  REQ-015 ìŠ¤ì½”ì–´ë§     â”‚â”‚
â”‚  â”‚    â”‚   AC: 3ê±´                    â”‚    ìˆ˜ìš©: Y            â”‚â”‚
â”‚  â”‚    â”‚   [ Sprint í• ë‹¹ â–¼ ]         â”‚    ì—­ì¶”ì :            â”‚â”‚
â”‚  â”‚    â”‚                              â”‚    trace_incomplete âš  â”‚â”‚
â”‚  â”‚    â”œâ”€ ğŸ“‹ S-02 ì‹¤ì‹œê°„ ìŠ¤ì½”ì–´ë§    â”‚    (TC ë¯¸ì—°ê²°)        â”‚â”‚
â”‚  â”‚    â”‚   ìƒíƒœ: IN_SPRINT â”‚ 8sp      â”‚                       â”‚â”‚
â”‚  â”‚    â”‚   Sprint: Sprint-5           â”‚  [ìš”êµ¬ì‚¬í•­ì—ì„œ ë³´ê¸°â†’] â”‚â”‚
â”‚  â”‚    â”‚   ë‹´ë‹¹: ê¹€â—‹â—‹                â”‚                       â”‚â”‚
â”‚  â”‚    â”‚   Task: 4ê±´ (2 done)         â”‚  â”€â”€ Sprint í˜„í™© â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚    â”‚                              â”‚  Sprint 5:            â”‚â”‚
â”‚  â”‚    â”œâ”€ ğŸ“‹ S-03 ì•Œë¦¼ ì²˜ë¦¬          â”‚    Story: 3ê±´         â”‚â”‚
â”‚  â”‚    â”‚   ìƒíƒœ: IN_PROGRESS â”‚ 3sp    â”‚    Points: 16sp       â”‚â”‚
â”‚  â”‚    â”‚   Sprint: Sprint-5           â”‚                       â”‚â”‚
â”‚  â”‚    â”‚   ë‹´ë‹¹: ì´â—‹â—‹                â”‚  â”€â”€ ì¶”ì²œ ì•¡ì…˜ â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚  â”‚    â”‚   Task: 3ê±´ (1 blocked)      â”‚  âš  S-01 ë‹´ë‹¹ ë¯¸í• ë‹¹  â”‚â”‚
â”‚  â”‚    â”‚       âš  TSK-089 BLOCKED     â”‚  â†’ [ë‹´ë‹¹ì ì§€ì •]      â”‚â”‚
â”‚  â”‚    â”‚                              â”‚                       â”‚â”‚
â”‚  â”‚  â–¼ ğŸ“ F-02  ëª¨ë¸ í•™ìŠµ íŒŒì´í”„ë¼ì¸ â”‚  âš  S-05 IDEA ìƒíƒœ    â”‚â”‚
â”‚  â”‚    â”œâ”€ ğŸ“‹ S-04 í•™ìŠµë°ì´í„° ì „ì²˜ë¦¬  â”‚  â†’ [Story ì •ì œ]       â”‚â”‚
â”‚  â”‚    â”‚   ìƒíƒœ: DONE â”‚ 5sp           â”‚                       â”‚â”‚
â”‚  â”‚    â””â”€ ğŸ“‹ S-05 ìë™ ì¬í•™ìŠµ        â”‚  â„¹ Epic ì§„í–‰ë¥  67%   â”‚â”‚
â”‚  â”‚        ìƒíƒœ: IDEA â”‚ 13sp          â”‚  â†’ [ë¦¬í¬íŠ¸ ë³´ê¸°]      â”‚â”‚
â”‚  â”‚        User Story:                â”‚                       â”‚â”‚
â”‚  â”‚        "AI ì—”ì§€ë‹ˆì–´ë¡œì„œ,          â”‚                       â”‚â”‚
â”‚  â”‚         ëª¨ë¸ì„ ìë™ ì¬í•™ìŠµí•˜ì—¬     â”‚                       â”‚â”‚
â”‚  â”‚         ì •í™•ë„ë¥¼ ìœ ì§€í•˜ê³  ì‹¶ë‹¤"    â”‚                       â”‚â”‚
â”‚  â”‚                                   â”‚                       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Presetë³„ ì°¨ì´

### 4.1 EXEC_SUMMARY (Sponsor)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | Epic ìˆ˜, ì „ì²´ SP, ì™„ë£Œ SP, ì „ì²´ ì§„í–‰ë¥ ë§Œ í‘œì‹œ |
| íŠ¸ë¦¬ | Epic ë ˆë²¨ë§Œ (Feature/Story ì ‘í˜, í™•ì¥ ë¶ˆê°€) |
| Right Panel | panelMode: `"none"` (ìˆ¨ê¹€) |
| CTA | ì—†ìŒ (ì½ê¸° ì „ìš©) |

### 4.2 PMO_CONTROL (PMO)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | Epic ìˆ˜, Story í˜„í™© (Backlog/Sprint/Done), Velocity, Blocked, **ë¯¸ì¶”ì • Story ìˆ˜** (v2.0) |
| íŠ¸ë¦¬ | Epic + Feature ë ˆë²¨ (Story ì ‘í˜, í™•ì¥ ê°€ëŠ¥) |
| Right Panel | panelMode: `"context"` (Epic ìš”ì•½ + Story í˜„í™© + SP ìš”ì•½) |
| CTA | `ë°±ë¡œê·¸ Export` â†’ targetNodeId: `reports`, `ìŠ¤í”„ë¦°íŠ¸ í˜„í™©` â†’ targetNodeId: `sprints` |

### 4.3 PM_WORK (PM)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | ì „ì²´ ê±´ìˆ˜, SP í˜„í™©, Velocity, Blocked, **ë¯¸ì¶”ì •Â·READYë¯¸í• ë‹¹Â·ë¯¸í• ë‹¹READY** 3ì¢… (v2.0) |
| íŠ¸ë¦¬ | **ì „ì²´ 4ê³„ì¸µ** (Epic â†’ Feature â†’ Story â†’ Task) í™•ì¥ ê°€ëŠ¥ |
| Right Panel | panelMode: `"context"` + ì¶”ì²œ ì•¡ì…˜ |
| CTA | `Epic ìƒì„±` (cap: `manage_backlog_epic`), `Story ìƒì„±` (cap: `manage_backlog_story`), `Sprint í• ë‹¹` (cap: `assign_story_sprint`), `ì¹¸ë°˜ ë³´ë“œ` â†’ targetNodeId: `kanban` |

**PM_WORK íŠ¸ë¦¬ ì¸ë¼ì¸ CTA**:

| ì»¨í…ìŠ¤íŠ¸ | CTA | Capability |
|---------|-----|-----------|
| Epic í–‰ | `[+ Feature ì¶”ê°€]` | `manage_backlog_epic` |
| Feature í–‰ | `[+ Story ì¶”ê°€]` | `manage_backlog_story` |
| Story í–‰ | `[+ Task ì¶”ê°€]` | **`manage_backlog_task`** (v2.0 ë¶„ë¦¬) |
| Story í–‰ | `[Sprint í• ë‹¹ â–¼]` | `assign_story_sprint` |
| Story í–‰ (READY) | `[Sprint í• ë‹¹ â–¼]` ê°•ì¡° í‘œì‹œ | `assign_story_sprint` |

### 4.4 DEV_EXECUTION (DEV / DevReader)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | Story ìˆ˜, ë‚´ íŒŒíŠ¸ SP í˜„í™© |
| íŠ¸ë¦¬ | Epic â†’ Feature â†’ Story (ì½ê¸° ì „ìš©, DevReaderëŠ” íŒŒíŠ¸ ë²”ìœ„ í•œì •) |
| Right Panel | panelMode: `"context"` (ì½ê¸° ì „ìš©) |
| CTA | `ë‚´ ì‘ì—…` â†’ targetNodeId: `my-work`, `ì¹¸ë°˜ ë³´ë“œ` â†’ targetNodeId: `kanban` |
| ê¸°ë³¸ í•„í„° | `partId: "í˜„ì¬ì‚¬ìš©ìíŒŒíŠ¸ID"` (**ì„œë²„ ê°•ì œ**, Â§6 ì°¸ì¡°) |

**DEV vs DevReader ì°¨ì´**:

| í•­ëª© | DEV | DevReader(íŒŒíŠ¸ì¥) |
|------|-----|-----------------|
| íŠ¸ë¦¬ ë²”ìœ„ | ì „ì²´ (ì½ê¸° ì „ìš©) | Part ë²”ìœ„ (ì„œë²„ ê°•ì œ í•„í„°) |
| Story í™•ì¥ | ê°€ëŠ¥ (Task ë ˆë²¨ê¹Œì§€) | ê°€ëŠ¥ (Task ë ˆë²¨ê¹Œì§€) |
| Task CTA | `[+ Task ì¶”ê°€]` (cap: `manage_backlog_task`) | `[+ Task ì¶”ê°€]` (cap: `manage_backlog_task`) |
| ì¸ë¼ì¸ CTA | Task ìƒì„±ë§Œ | Task ìƒì„±ë§Œ (Drill-down ì£¼ ëª©ì ) |
| Task ìƒì„¸ | ë‚´ í• ë‹¹ Taskë§Œ í•˜ì´ë¼ì´íŠ¸ | íŒŒíŠ¸ ì „ì²´ Task í‘œì‹œ |

> **v2.0 ë³€ê²½**: DEV/DevReaderì—ê²Œ `manage_backlog_task` Capabilityë¥¼ ë¶€ì—¬í•˜ë©´
> StoryëŠ” PMì´ ì ê·¸ê³  **Taskë§Œ ê°œë°œì/íŒŒíŠ¸ì¥ì´ ìƒì„±/í¸ì§‘**í•  ìˆ˜ ìˆë‹¤.

### 4.5 CUSTOMER_APPROVAL (Customer PM)

| ì˜ì—­ | í‘œì‹œ ë‚´ìš© |
|------|---------|
| KPI Row | Epic ìˆ˜, ì „ì²´ SP, ì™„ë£Œ SP (ìš”ì•½) |
| íŠ¸ë¦¬ | Epic ë ˆë²¨ë§Œ + ì§„í–‰ë¥  ë°” (Feature/Story ìˆ¨ê¹€) |
| Right Panel | panelMode: `"none"` (ìˆ¨ê¹€) |
| CTA | ì—†ìŒ (ì½ê¸° ì „ìš©, ìš”ì•½ ëª©ì ) |

---

## 5. 4ê³„ì¸µ íŠ¸ë¦¬ ìƒì„¸

### 5.1 ê³„ì¸µ êµ¬ì¡° ë° ìƒíƒœ íë¦„

```
Level 1: Epic (ëŒ€ê·œëª¨ ëª©í‘œ)
  â”‚  Status: BACKLOG â†’ IN_PROGRESS â†’ COMPLETED / CANCELLED
  â”‚  Owner: PM / Product Owner
  â”‚
  â”œâ”€ Level 2: Feature (ê¸°ëŠ¥ ë‹¨ìœ„)
  â”‚    â”‚  Status: OPEN â†’ IN_PROGRESS â†’ DONE / BLOCKED / CANCELLED
  â”‚    â”‚  Owner: Part Leader / Tech Lead
  â”‚    â”‚
  â”‚    â”œâ”€ Level 3: User Story (ì‚¬ìš©ì ê´€ì )
  â”‚    â”‚    â”‚  Status: IDEA â†’ REFINED â†’ READY â†’ IN_SPRINT â†’ IN_PROGRESS â†’ REVIEW â†’ DONE
  â”‚    â”‚    â”‚  Owner: Scrum Master / PM (í• ë‹¹: Developer)
  â”‚    â”‚    â”‚  Sprint í• ë‹¹ ë‹¨ìœ„
  â”‚    â”‚    â”‚
  â”‚    â”‚    â””â”€ Level 4: Task (ê°œë°œ ì‘ì—…)
  â”‚    â”‚         Status: TODO â†’ IN_PROGRESS â†’ IN_REVIEW â†’ DONE / BLOCKED
  â”‚    â”‚         Owner: Developer
  â”‚    â”‚         Kanban ì¹´ë“œ ë‹¨ìœ„
```

### 5.2 ìƒíƒœ ì „ì´ ê·œì¹™ â€” ì„œë²„ íŠ¸ëœì­ì…˜ í•„ìˆ˜

> **v2.0 í•µì‹¬ ì›ì¹™**: ìë™ ì „ì´ëŠ” í”„ë¡ íŠ¸ ì„ì˜ ë³€ê²½ ë¶ˆê°€.
> ëª¨ë“  ìë™ ì „ì´ëŠ” **ì„œë²„ íŠ¸ëœì­ì…˜**ìœ¼ë¡œë§Œ ì²˜ë¦¬í•œë‹¤.

#### 5.2.1 Epic ìë™ ì „ì´ â€” ì„œë²„ íŠ¸ëœì­ì…˜

```
BACKLOG â”€â”€â†’ IN_PROGRESS â”€â”€â†’ COMPLETED
                          â””â”€â”€â†’ CANCELLED

ì„œë²„ íŠ¸ëœì­ì…˜ (R2DBC reactive transaction):

[Sprint í• ë‹¹ ìš”ì²­] PATCH /stories/:id/sprint
  â”œâ”€ Story.status: READY â†’ IN_SPRINT (story sprint í• ë‹¹ ì „ì´)
  â”œâ”€ Epic.status: BACKLOG â†’ IN_PROGRESS (ì²« Storyê°€ IN_SPRINTì´ë©´)
  â””â”€ í•œ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì›ìì„± ë³´ì¥

[Epic ì™„ë£Œ í›„ë³´] â€” ì„œë²„ê°€ íŒì •í•˜ì—¬ í”Œë˜ê·¸ ì œê³µ
  â”œâ”€ EpicDetailResponse.stats.completable: boolean  â† v2.0 ì‹ ê·œ
  â”œâ”€ ì¡°ê±´: ëª¨ë“  Storyê°€ DONE | CANCELLED
  â”œâ”€ í”„ë¡ íŠ¸ëŠ” "ì™„ë£Œ ê°€ëŠ¥" ë°°ì§€ë§Œ í‘œì‹œ
  â””â”€ ì™„ë£Œ ë²„íŠ¼ í´ë¦­ ì‹œ ì„œë²„ê°€ ì¬ê²€ì¦ í›„ ì „ì´

â€» lazy-load íŠ¸ë¦¬ì—ì„œ "ëª¨ë“  story done"ì€ í”„ë¡ íŠ¸ê°€ íŒë‹¨í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ
  ë°˜ë“œì‹œ ì„œë²„ê°€ EpicDetailResponseì—ì„œ completable í”Œë˜ê·¸ë¥¼ ë‚´ë ¤ì¤€ë‹¤.
```

#### 5.2.2 Feature ìë™ ì „ì´ â€” ì„œë²„ íŠ¸ëœì­ì…˜

> **v2.1 ì‹ ê·œ**: Â§5.1ì—ì„œ Feature ìƒíƒœ(OPENâ†’IN_PROGRESSâ†’DONE)ë¥¼ ì •ì˜í–ˆìœ¼ë‚˜,
> ì „ì´ íŠ¸ë¦¬ê±°ê°€ ëˆ„ë½ë˜ì–´ ìˆì—ˆë‹¤. FeatureëŠ” í•˜ìœ„ Story ìƒíƒœ ë³€í™”ì— ì—°ë™ë˜ì–´ ìë™ ì „ì´í•œë‹¤.

```
OPEN â”€â”€â†’ IN_PROGRESS â”€â”€â†’ DONE
  â”‚                      â””â”€â”€â†’ BLOCKED
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ CANCELLED

ì„œë²„ íŠ¸ëœì­ì…˜ (Story ìƒíƒœ ë³€ê²½ ì‹œ ì—°ì‡„ í‰ê°€):

[Storyê°€ IN_SPRINT/IN_PROGRESSë¡œ ì „ì´ ì‹œ]
  â”œâ”€ Feature í•˜ìœ„ Story ì¤‘ 1ê±´ì´ë¼ë„ IN_SPRINT ì´ìƒì´ë©´
  â”œâ”€ Feature.status: OPEN â†’ IN_PROGRESS (ìë™)
  â””â”€ ì´ë¯¸ IN_PROGRESSë©´ ë³€í™” ì—†ìŒ

[Featureì˜ ëª¨ë“  Storyê°€ DONE|CANCELLED ì‹œ]
  â”œâ”€ Feature.status: IN_PROGRESS â†’ DONE (ìë™)
  â”œâ”€ ì„œë²„ê°€ featureCompletable í”Œë˜ê·¸ ê³„ì‚°
  â””â”€ í”„ë¡ íŠ¸ëŠ” ë°°ì§€ í‘œì‹œë§Œ (Epic completableê³¼ ë™ì¼ íŒ¨í„´)

[Feature í•˜ìœ„ Task ì¤‘ 1ê±´ì´ë¼ë„ BLOCKED ì‹œ]
  â”œâ”€ Feature.status â†’ BLOCKED ì „ì´ ì•„ë‹˜ (Featureì—ëŠ” BLOCKED ë°°ì§€ë§Œ í‘œì‹œ)
  â””â”€ Feature.blockedTaskCount > 0 â†’ UI ê²½ê³  ë°°ì§€

â€» Feature ìƒíƒœëŠ” í”„ë¡ íŠ¸ê°€ ì§ì ‘ ë³€ê²½ ë¶ˆê°€ â€” Story/Task ë³€ê²½ì˜ ë¶€ìˆ˜ íš¨ê³¼ë¡œë§Œ ì „ì´
â€» CANCELLEDì€ PMì´ ìˆ˜ë™ìœ¼ë¡œë§Œ ê°€ëŠ¥ (cap: manage_backlog_epic)
```

#### 5.2.3 Story ìƒíƒœ ì „ì´

```
IDEA â”€â”€â†’ REFINED â”€â”€â†’ READY â”€â”€â†’ IN_SPRINT â”€â”€â†’ IN_PROGRESS â”€â”€â†’ REVIEW â”€â”€â†’ DONE
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CANCELLED (ì–´ë””ì„œë“  ì·¨ì†Œ ê°€ëŠ¥) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                               â””â”€â”€â†’ DONE â†’ REVIEW (ì¬ì˜¤í”ˆ ê°€ëŠ¥)

í•µì‹¬ ê²Œì´íŠ¸ (ì„œë²„ì—ì„œ ê²€ì¦):
  - IDEA â†’ REFINED: Acceptance Criteria ìµœì†Œ 1ê±´ í•„ìˆ˜
  - REFINED â†’ READY: Story Point ì¶”ì •ì¹˜ í•„ìˆ˜
  - READY â†’ IN_SPRINT: Sprint í• ë‹¹ í•„ìˆ˜ (cap: assign_story_sprint)
  - REVIEW â†’ DONE: ì—°ê²°ëœ Task ì „ì²´ DONE í•„ìˆ˜ (ì„œë²„ê°€ Task ìƒíƒœ ê²€ì¦)
```

#### 5.2.4 Task ìƒíƒœ

```
TODO â”€â”€â†’ IN_PROGRESS â”€â”€â†’ IN_REVIEW â”€â”€â†’ DONE
  â”‚                         â”‚
  â””â”€â”€ BLOCKED â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ (ì–´ë””ì„œë“  BLOCKED ê°€ëŠ¥, í•´ì œ ì‹œ ì´ì „ ìƒíƒœë¡œ)
```

### 5.3 Story í˜•ì‹ â€” User Story Template

```
As a [ì‚¬ìš©ì ìœ í˜•],
I want [ëª©í‘œ/í–‰ë™],
So that [ì´ìœ /ê°€ì¹˜].

Acceptance Criteria:
  - [ ] AC-1: ...
  - [ ] AC-2: ...
  - [ ] AC-3: ...
```

### 5.4 ì§„í–‰ë¥  ìë™ ê³„ì‚°

```typescript
interface ProgressCalculation {
  /** Epic ì§„í–‰ë¥  = ì™„ë£Œëœ Story Point / ì „ì²´ Story Point Ã— 100 */
  epicProgress: (epic: EpicWithChildren) => number;
  /** Feature ì§„í–‰ë¥  = ì™„ë£Œëœ Story ìˆ˜ / ì „ì²´ Story ìˆ˜ Ã— 100 */
  featureProgress: (feature: FeatureWithChildren) => number;
  /** Story ì§„í–‰ë¥  = ì™„ë£Œëœ Task ìˆ˜ / ì „ì²´ Task ìˆ˜ Ã— 100 */
  storyProgress: (story: UserStoryWithTasks) => number;
}

function calculateEpicProgress(epic: EpicWithChildren): number {
  if (epic.totalPoints === 0) return 0;
  return Math.round((epic.completedPoints / epic.totalPoints) * 100);
}
```

> **ì§„í–‰ë¥  ì™œê³¡ ê²½ê³ **: SP ë¯¸ì¶”ì •(storyPoints = null/0) Storyê°€ ìŒ“ì´ë©´
> Epic ì§„í–‰ë¥ ì´ ì™œê³¡ëœë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ KPIì—
> `unestimated_stories_count`ë¥¼ í‘œì‹œí•˜ê³ , PMì—ê²Œ ì¶”ì • ì™„ë£Œë¥¼ ìœ ë„í•œë‹¤ (Â§2.3 metrics).

### 5.5 ì •ë ¬ ì •ì±… â€” Order vs Status ë¶„ë¦¬

> **v2.0 ì‹ ê·œ**: íŠ¸ë¦¬ì—ì„œ ì •ë ¬ê³¼ ìƒíƒœë¥¼ í˜¼í•©í•˜ë©´ UXê°€ ë¬´ë„ˆì§„ë‹¤ (í•­ëª©ì´ ê³„ì† ì í”„).

| í•­ëª© | ì •ì˜ | ìš©ë„ |
|------|------|------|
| `order` (= `orderNum`) | **í‘œì‹œ ìˆœì„œ** â€” ì‚¬ìš©ì ì˜ë„ (D&Dë¡œ ë³€ê²½) | ê¸°ë³¸ ì •ë ¬ |
| `status` | **ìš´ì˜ ìƒíƒœ** â€” í•„í„°/ë°°ì§€/í•˜ì´ë¼ì´íŠ¸ | í•„í„°ë§, ë°°ì§€ |

**í—ˆìš©ë˜ëŠ” ì •ë ¬ 2ì¢…ë§Œ**:

| ì •ë ¬ í‚¤ | ì˜ë¯¸ | ë™ì‘ |
|---------|------|------|
| `order` (ê¸°ë³¸) | ì‚¬ìš©ìê°€ ë°°ì¹˜í•œ ìˆœì„œ | `orderNum ASC` |
| `progress` | ì§„í–‰ë¥  ë‚®ì€ ê²ƒ ë¨¼ì € | `progress ASC` (Epic), `status ì—­ìˆœ` (Story) |

> **ë‹¤ë¥¸ ì •ë ¬ ì—†ìŒ**: ì •ë ¬ì´ ë§ì•„ì§€ë©´ íŠ¸ë¦¬ UXê°€ ë¬´ë„ˆì§„ë‹¤.
> íŠ¹ì • ìƒíƒœì˜ í•­ëª©ì„ ë³´ë ¤ë©´ **ì •ë ¬ì´ ì•„ë‹Œ í•„í„°**ë¥¼ ì‚¬ìš©í•œë‹¤.

---

## 6. Part Scope ì„œë²„ ê°•ì œ

### 6.1 ê°œë…

> **v2.0 í•µì‹¬**: Part ê¸°ë°˜ ìŠ¤ì½”í”„ëŠ” UI defaultFiltersë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•˜ë‹¤.
> AIë‚˜ URL ì¡°ì‘ìœ¼ë¡œ partIdë¥¼ ë¹¼ë©´ ì „ì²´ê°€ ë³´ì¼ ìˆ˜ ìˆë‹¤.

### 6.2 ì„œë²„ ê°•ì œ ê·œì¹™

```typescript
/** ì„œë²„ì—ì„œ Part scope ê°•ì œ ë¡œì§ (ì˜ì‚¬ì½”ë“œ) */
function enforcePartScope(
  userId: string,
  role: ProjectRole,
  requestedPartId?: string
): { appliedPartIds: string[] } {

  // 1. ì‚¬ìš©ìì˜ allowedPartIds ê³„ì‚°
  const allowedPartIds = computeAllowedParts(userId, role);

  // 2. PM/PMO/Sponsor/Admin â†’ ì „ì²´ ì ‘ê·¼ ê°€ëŠ¥
  if (["PM", "PMO", "SPONSOR", "ADMIN"].includes(role)) {
    return { appliedPartIds: requestedPartId ? [requestedPartId] : [] }; // ë¹ˆ ë°°ì—´ = ì „ì²´
  }

  // 3. DevReader/DEV â†’ allowedPartIdsë¡œ ì œí•œ
  if (!requestedPartId) {
    // partId ì—†ì´ ìš”ì²­ â†’ ìë™ìœ¼ë¡œ allowedPartIds ì ìš©
    return { appliedPartIds: allowedPartIds };
  }

  if (!allowedPartIds.includes(requestedPartId)) {
    // í—ˆìš©ë˜ì§€ ì•ŠëŠ” partId â†’ 403 ë˜ëŠ” ë¹ˆ ê²°ê³¼
    throw new ForbiddenError("Part access denied");
  }

  return { appliedPartIds: [requestedPartId] };
}
```

### 6.3 Scope Echo â€” ì‘ë‹µì— ì ìš©ëœ ë²”ìœ„ í¬í•¨

ëª¨ë“  ë°±ë¡œê·¸ API ì‘ë‹µì— **scope echo**ë¥¼ í¬í•¨í•œë‹¤.
ì´ë¥¼ í†µí•´ "ì™œ ë‚´ê² ì¼ë¶€ë§Œ ë³´ì´ì§€?"ë¥¼ ì‚¬ìš©ìì—ê²Œ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.

```typescript
/** ëª¨ë“  ë°±ë¡œê·¸ API ì‘ë‹µì— í¬í•¨ */
interface BacklogScopeEcho {
  projectId: string;
  /** ì‹¤ì œ ì ìš©ëœ Part ID ëª©ë¡ (ë¹ˆ ë°°ì—´ = ì „ì²´) */
  appliedPartIds: string[];
  /** Part ì´ë¦„ ëª©ë¡ (UI í‘œì‹œìš©) */
  appliedPartNames: string[];
  /** ë²”ìœ„ ì œí•œ ì›ì¸ */
  scopeReason: "full_access" | "role_restricted" | "explicit_filter";
}
```

> UIì—ì„œ `scopeReason === "role_restricted"`ì´ë©´
> "ë‚´ íŒŒíŠ¸ ë²”ìœ„ë§Œ í‘œì‹œë©ë‹ˆë‹¤" ì•ˆë‚´ ë°°ë„ˆë¥¼ í‘œì‹œí•œë‹¤.

---

## 7. ë°ì´í„° êµ¬ì¡° / API

### 7.1 ê¸°ì¡´ íƒ€ì… ì°¸ì¡°

ë°±ë¡œê·¸ì˜ í•µì‹¬ íƒ€ì…ì€ `PMS_IC_FrontEnd_v1.2/src/types/backlog.ts`ì— ì´ë¯¸ ì •ì˜ë˜ì–´ ìˆë‹¤.
ë³¸ ì„¤ê³„ì—ì„œëŠ” í•´ë‹¹ íƒ€ì…ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©°, ì¶”ê°€ë˜ëŠ” API ì‘ë‹µ íƒ€ì…ë§Œ ë³„ë„ ì •ì˜í•œë‹¤.

| íƒ€ì… | ì¶œì²˜ | ìš©ë„ |
|------|------|------|
| `Epic`, `EpicFormData` | backlog.ts | Epic CRUD |
| `Feature`, `FeatureFormData` | backlog.ts | Feature CRUD |
| `UserStory`, `UserStoryFormData` | backlog.ts | Story CRUD |
| `Task`, `TaskFormData` | backlog.ts | Task CRUD |
| `Sprint`, `SprintFormData` | backlog.ts | Sprint ê´€ë¦¬ |
| `EpicWithChildren` | backlog.ts | íŠ¸ë¦¬ ë Œë”ë§ |
| `FeatureWithChildren` | backlog.ts | Feature í•˜ìœ„ íŠ¸ë¦¬ |
| `UserStoryWithTasks` | backlog.ts | Story í•˜ìœ„ Task |
| `BacklogStats` | backlog.ts | KPI Row ë°ì´í„° |

### 7.2 Backlog List API â€” queryMode ë„ì…

> **v2.0 í•µì‹¬**: íŠ¸ë¦¬ + lazy-loadì™€ í•„í„°ê°€ ê²°í•©ë  ë•Œ "í•„í„° ì˜ë¯¸ê°€ ê¹¨ì§€ëŠ”" ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.

```
GET /api/backlog?projectId={projectId}
    &epicStatus={BACKLOG|IN_PROGRESS|COMPLETED|CANCELLED}
    &priority={CRITICAL|HIGH|MEDIUM|LOW}
    &phaseId={phaseId}
    &partId={partId}
    &sprintId={sprintId}
    &storyStatus={IDEA|REFINED|...|CANCELLED}
    &taskStatus={TODO|IN_PROGRESS|IN_REVIEW|DONE|BLOCKED}
    &assigneeId={assigneeId}
    &unassigned={true}
    &unestimated={true}
    &sortBy={order|progress}
    &q={searchText}
```

> **ì°¸ê³ **: ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ëŠ” Â§2.2 FilterSpec í‚¤ì™€ **1:1 ë§¤í•‘**ëœë‹¤.

```typescript
/** v2.0: queryMode íŒì • ê·œì¹™ */
export type BacklogQueryMode = "TREE" | "SEARCH";

function determineQueryMode(filter: BacklogFilterSpec): BacklogQueryMode {
  const searchKeys: (keyof BacklogFilterSpec)[] = [
    "storyStatus", "taskStatus", "assigneeId", "sprintId",
    "unassigned", "unestimated", "q",
  ];
  const hasSearchFilter = searchKeys.some(k => filter[k] !== undefined);
  return hasSearchFilter ? "SEARCH" : "TREE";
}
```

```typescript
interface BacklogListResponse {
  /** Epic íŠ¸ë¦¬ (Feature/Story/Task ì¤‘ì²©) */
  items: EpicWithChildren[];
  stats: BacklogStatsV2;

  // â”€â”€â”€ v2.0: queryMode â”€â”€â”€
  /** í˜„ì¬ ì‘ë‹µì˜ ì¿¼ë¦¬ ëª¨ë“œ */
  queryMode: "TREE" | "SEARCH";
  /** SEARCH ëª¨ë“œ: ë§¤ì¹­ëœ Story/Task ID ëª©ë¡ */
  matchedNodes?: {
    storyIds: string[];
    taskIds: string[];
    totalMatched: number;
    totalAll: number;
  };
  /** SEARCH ëª¨ë“œ: ìë™ í™•ì¥í•´ì•¼ í•˜ëŠ” ìƒìœ„ ê²½ë¡œ ID */
  expandedPathIds?: string[];   // ["E-01", "F-01", "S-03"] ë“±

  // â”€â”€â”€ v2.0: scope echo â”€â”€â”€
  scope: BacklogScopeEcho;

  // â”€â”€â”€ ì‹ ë¢°ë„ 3-tuple (v2.0: completeness ì„¸ë¶„í™”) â”€â”€â”€
  asOf: string;
  completeness: {
    epics: number;       // 0~1
    features: number;
    stories: number;
    tasks: number;
    overall: number;     // ê°€ì¤‘ í‰ê· 
  };
  warnings: string[];
}
```

**queryModeë³„ ë™ì‘ ì°¨ì´**:

| í•­ëª© | TREE ëª¨ë“œ | SEARCH ëª¨ë“œ |
|------|----------|------------|
| **ì‘ë‹µ êµ¬ì¡°** | Epic + Feature ë ˆë²¨ë§Œ | Epic + Feature + ë§¤ì¹­ Story/Taskê¹Œì§€ í¬í•¨ |
| **lazy-load** | í™œì„± (expand ì‹œ í•˜ìœ„ ë¡œë“œ) | ë¹„í™œì„± (ë§¤ì¹­ ê²°ê³¼ ì´ë¯¸ í¬í•¨) |
| **íŠ¸ë¦¬ í™•ì¥** | ì‚¬ìš©ì ìˆ˜ë™ | `expandedPathIds` ê¸°ë°˜ ìë™ í™•ì¥ |
| **ë§¤ì¹­ í‘œì‹œ** | ì—†ìŒ | "Nê±´ ë§¤ì¹­ / ì „ì²´ Mê±´" + í•˜ì´ë¼ì´íŠ¸ |
| **ë¯¸ë§¤ì¹­ ë…¸ë“œ** | ì „ì²´ í‘œì‹œ | íšŒìƒ‰ ì²˜ë¦¬ (context ìœ ì§€, ì‚­ì œ ì•„ë‹˜) |

### 7.3 BacklogStatsV2 â€” ìš´ì˜ KPI ì¶”ê°€

```typescript
interface BacklogStatsV2 extends BacklogStats {
  // â”€â”€â”€ v2.0: ìš´ì˜ KPI 3ì¢… â”€â”€â”€
  /** SP ë¯¸ì¶”ì • Story ìˆ˜ (IDEA/REFINEDì—ì„œ storyPoints = null/0) */
  unestimatedStoriesCount: number;
  /** READYì¸ë° Sprint ë¯¸í• ë‹¹ Story ìˆ˜ */
  readyWithoutSprintCount: number;
  /** READYì¸ë° ë‹´ë‹¹ ë¯¸í• ë‹¹ Story ìˆ˜ */
  unassignedReadyStoriesCount: number;
}
```

> **PM ë‹¤ìŒ í–‰ë™ ì—°ê²°**: ì´ 3ê°œ KPI ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ ê°ê°
> `{ unestimated: true }`, `{ storyStatus: "READY", sprintId: undefined }`,
> `{ unassigned: true, storyStatus: "READY" }` FilterSpecìœ¼ë¡œ SEARCH ëª¨ë“œ ì „í™˜.

### 7.4 Epic Detail API

```
GET /api/backlog/epics/:epicId
```

```typescript
interface EpicDetailResponse {
  epic: Epic;
  features: FeatureWithChildren[];
  stats: {
    totalFeatures: number;
    totalStories: number;
    totalTasks: number;
    completedStories: number;
    completedTasks: number;
    totalPoints: number;
    completedPoints: number;
    blockedTasks: number;
    unassignedStories: number;
    unestimatedStories: number;         // v2.0

    // â”€â”€â”€ v2.0: Epic ì™„ë£Œ í›„ë³´ íŒì • â”€â”€â”€
    /** ì„œë²„ê°€ ê³„ì‚°í•œ "ì™„ë£Œ ê°€ëŠ¥" ì—¬ë¶€ */
    completable: boolean;
    /** ì™„ë£Œ ë¶ˆê°€ ì‚¬ìœ  (completable=falseì¸ ê²½ìš°) */
    completableBlockers?: string[];     // ["S-05: IDEA ìƒíƒœ", "S-03: Task ë¯¸ì™„ë£Œ"]
  };

  // ì—°ê²°ëœ Sprint ì •ë³´
  relatedSprints: {
    id: string;
    name: string;
    status: "PLANNING" | "ACTIVE" | "COMPLETED" | "CANCELLED";
    storyCount: number;
    pointCount: number;
  }[];

  // â”€â”€â”€ v2.0: scope echo â”€â”€â”€
  scope: BacklogScopeEcho;

  // ì‹ ë¢°ë„ 3-tuple (v2.0: ì„¸ë¶„í™”)
  asOf: string;
  completeness: {
    epics: number;
    features: number;
    stories: number;
    tasks: number;
    overall: number;
  };
  warnings: string[];
}
```

### 7.5 Feature Stories API (Lazy Load)

```
GET /api/backlog/features/:featureId/stories
```

```typescript
interface FeatureStoriesResponse {
  featureId: string;
  stories: UserStoryWithTasks[];
  stats: {
    totalStories: number;
    completedStories: number;
    totalPoints: number;
    completedPoints: number;
  };
}
```

### 7.6 Story Tasks API (Lazy Load)

```
GET /api/backlog/stories/:storyId/tasks
```

```typescript
interface StoryTasksResponse {
  storyId: string;
  tasks: Task[];
  stats: {
    totalTasks: number;
    completedTasks: number;
    blockedTasks: number;
    estimatedHours: number;
    actualHours: number;
  };
}
```

### 7.7 Epic CRUD API

```
POST   /api/backlog/epics                    // Epic ìƒì„± (cap: manage_backlog_epic)
GET    /api/backlog/epics/:epicId            // Epic ìƒì„¸ (cap: view_backlog)
PATCH  /api/backlog/epics/:epicId            // Epic ìˆ˜ì • (cap: manage_backlog_epic)
DELETE /api/backlog/epics/:epicId            // Epic ì‚­ì œ (cap: manage_backlog_epic)

POST   /api/backlog/epics/:epicId/features   // Feature ìƒì„± (cap: manage_backlog_epic)
POST   /api/backlog/features/:featureId/stories  // Story ìƒì„± (cap: manage_backlog_story)
POST   /api/backlog/stories/:storyId/tasks   // Task ìƒì„± (cap: manage_backlog_task) â† v2.0 ë¶„ë¦¬
```

### 7.8 Story Sprint í• ë‹¹ API â€” ì„œë²„ íŠ¸ëœì­ì…˜

```
PATCH  /api/backlog/stories/:storyId/sprint
```

```typescript
interface AssignSprintRequest {
  sprintId: string | null;    // nullì´ë©´ í• ë‹¹ í•´ì œ
}

interface AssignSprintResponse {
  story: UserStory;           // ì—…ë°ì´íŠ¸ëœ Story (status í¬í•¨)
  epicTransition?: {          // v2.0: Epic ìë™ ì „ì´ ë°œìƒ ì‹œ
    epicId: string;
    previousStatus: EpicStatus;
    newStatus: EpicStatus;
    reason: string;           // "ì²« ë²ˆì§¸ Story IN_SPRINT â†’ Epic IN_PROGRESS"
  };
}

// ì„œë²„ íŠ¸ëœì­ì…˜ ë‚´ë¶€ ë¡œì§:
// 1. Story.status: READY â†’ IN_SPRINT (Sprint í• ë‹¹ ì‹œ)
// 2. Epic.status: BACKLOG â†’ IN_PROGRESS (ì²« Storyê°€ IN_SPRINTì´ë©´)
// 3. Feature.status: OPEN â†’ IN_PROGRESS (ì²« Storyê°€ IN_SPRINTì´ë©´) â† v2.1
// 4. í•œ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì›ìì„± ë³´ì¥
```

**Sprint í• ë‹¹ ì—ëŸ¬ ê³„ì•½ (v2.1)**:

> ì„œë²„ëŠ” ì•„ë˜ ì¡°ê±´ì„ ê²€ì¦í•˜ê³ , ì‹¤íŒ¨ ì‹œ íŠ¸ëœì­ì…˜ ì „ì²´ë¥¼ ë¡¤ë°±í•œë‹¤.

```typescript
/** Sprint í• ë‹¹ ì‹¤íŒ¨ ì‘ë‹µ */
interface AssignSprintErrorResponse {
  error: {
    code: AssignSprintErrorCode;
    message: string;
    /** ì‹¤íŒ¨ ì›ì¸ì´ ë˜ëŠ” ì—”í‹°í‹° */
    entityId?: string;
    /** í˜„ì¬ ìƒíƒœ (ê¸°ëŒ€ì™€ ë‹¤ë¥¸ ê²½ìš°) */
    currentStatus?: string;
  };
}

type AssignSprintErrorCode =
  | "STORY_NOT_READY"           // Story ìƒíƒœê°€ READYê°€ ì•„ë‹˜
  | "SPRINT_NOT_ASSIGNABLE"     // Sprint ìƒíƒœê°€ PLANNING|ACTIVEê°€ ì•„ë‹˜
  | "SPRINT_CAPACITY_EXCEEDED"  // Sprint SP ìƒí•œ ì´ˆê³¼ (ì„¤ì • ì‹œ)
  | "PART_ACCESS_DENIED"        // Storyì˜ Partì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ
  | "STORY_ALREADY_IN_SPRINT"   // ì´ë¯¸ ë‹¤ë¥¸ Sprintì— í• ë‹¹ë¨
  | "CONCURRENT_MODIFICATION";  // ë™ì‹œ ìˆ˜ì • ê°ì§€ (optimistic lock)
```

| ì—ëŸ¬ ì½”ë“œ | HTTP | ì›ì¸ | í”„ë¡ íŠ¸ ëŒ€ì‘ |
| ---------- | ------ | ------ | ----------- |
| `STORY_NOT_READY` | 409 | Storyê°€ IDEA/REFINED ìƒíƒœ | "Storyë¥¼ ë¨¼ì € READYë¡œ ì „ì´í•˜ì„¸ìš”" ì•ˆë‚´ |
| `SPRINT_NOT_ASSIGNABLE` | 409 | Sprintê°€ COMPLETED/CANCELLED | Sprint ì„ íƒ ë“œë¡­ë‹¤ìš´ ìƒˆë¡œê³ ì¹¨ |
| `SPRINT_CAPACITY_EXCEEDED` | 409 | Sprint SP ìƒí•œ ì´ˆê³¼ | í˜„ì¬ SP / ìƒí•œ SP í‘œì‹œ |
| `PART_ACCESS_DENIED` | 403 | Part scope ìœ„ë°˜ | "ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤" |
| `STORY_ALREADY_IN_SPRINT` | 409 | ì´ë¯¸ í• ë‹¹ë¨ | "Sprint-Nì— ì´ë¯¸ í• ë‹¹ë¨. ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?" í™•ì¸ |
| `CONCURRENT_MODIFICATION` | 409 | ë™ì‹œ ìˆ˜ì • | ë°ì´í„° ìƒˆë¡œê³ ì¹¨ í›„ ì¬ì‹œë„ ì•ˆë‚´ |

> **í”„ë¡ íŠ¸ ì›ì¹™**: 409 ì—ëŸ¬ëŠ” ì‚¬ìš©ìì—ê²Œ **ì›ì¸ + ë‹¤ìŒ í–‰ë™**ì„ ì•ˆë‚´í•œë‹¤.
> 403 ì—ëŸ¬ëŠ” ê¶Œí•œ ë¶€ì¡± ë©”ì‹œì§€ë§Œ í‘œì‹œí•˜ê³  ì¬ì‹œë„ë¥¼ ìœ ë„í•˜ì§€ ì•ŠëŠ”ë‹¤.

### 7.9 ìˆœì„œ ë³€ê²½ API

```
PATCH  /api/backlog/reorder                  // (cap: reorder_backlog) â† v2.0 ë¶„ë¦¬
```

```typescript
interface ReorderRequest {
  entityType: "epic" | "story";
  entityId: string;
  newOrder: number;
  /** Storyì˜ Feature ê°„ ì´ë™ ì‹œ */
  newParentId?: string;
}
```

### 7.10 Backlog Stats API

```
GET /api/backlog/stats?projectId={projectId}&partId={partId}
```

```typescript
interface BacklogStatsResponseV2 {
  stats: BacklogStatsV2;

  // Epic ìƒíƒœë³„ ë¶„í¬
  epicsByStatus: {
    status: EpicStatus;
    count: number;
    totalPoints: number;
  }[];

  // Story ìƒíƒœë³„ ë¶„í¬
  storiesByStatus: {
    status: StoryStatus;
    count: number;
    totalPoints: number;
  }[];

  // Partë³„ ë¶„í¬
  byPart: {
    partId: string;
    partName: string;
    epicCount: number;
    storyCount: number;
    totalPoints: number;
    completedPoints: number;
  }[];

  // v2.0: scope echo
  scope: BacklogScopeEcho;

  // ì‹ ë¢°ë„ (v2.0: ì„¸ë¶„í™”)
  asOf: string;
  completeness: {
    epics: number;
    features: number;
    stories: number;
    tasks: number;
    overall: number;
  };
  warnings: string[];
}
```

---

## 8. Trace ì—­ì¶”ì  (Epic â†’ Requirement)

### 8.1 ê°œë…

ìš”êµ¬ì‚¬í•­ê´€ë¦¬(02_ìš”êµ¬ì‚¬í•­ê´€ë¦¬ Â§5)ì—ì„œëŠ” Requirement â†’ Epic â†’ Story ë°©í–¥ì˜ **ìˆœì¶”ì **ì´ì—ˆë‹¤ë©´,
ë°±ë¡œê·¸ì—ì„œëŠ” **Epic â†’ ì—°ê²°ëœ Requirement** ë°©í–¥ì˜ **ì—­ì¶”ì **ì„ ì œê³µí•œë‹¤.
ì´ë¥¼ í†µí•´ "ì´ Epicì´ ì–´ë–¤ ê³ ê° ìš”êµ¬ì‚¬í•­ì—ì„œ ë¹„ë¡¯ë˜ì—ˆëŠ”ê°€?"ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### 8.2 ì—­ì¶”ì  ìƒíƒœ â€” ì›ì¸ ê¸°ë°˜ ì„¸ë¶„í™”

> **v2.0 ë³€ê²½**: ë‹¨ìˆœ `linked | unlinked | breakpoint` 3ê°’ ëŒ€ì‹ ,
> **"ì™œ ëŠì–´ì¡ŒëŠ”ê°€"**ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ì›ì¸ ê¸°ë°˜ enumì„ ì‚¬ìš©í•œë‹¤.

```typescript
/** v2.0: Trace ì—­ì¶”ì  ìƒíƒœ â€” ì›ì¸ ê¸°ë°˜ ì„¸ë¶„í™” */
export type EpicTraceStatus =
  | "linked"                   // ì •ìƒ â€” Requirementì™€ ì™„ì „ ì—°ê²°
  | "missing_requirement"      // Epicì— Requirement ì—°ê²° ìì²´ê°€ ì—†ìŒ
  | "requirement_rejected"     // ì—°ê²°ëœ Requirementì˜ acceptance = X
  | "requirement_pending"      // ì—°ê²°ëœ Requirementì˜ acceptance = pending
  | "trace_incomplete";        // RequirementëŠ” ìˆìœ¼ë‚˜ í•˜ìœ„ ì²´ì¸(Storyâ†’TCâ†’ì‚°ì¶œë¬¼) ë¶ˆì™„ì „
```

> **ì •í•©ì„±**: ì´ ìƒíƒœ ëª¨ë¸ì€ 02_ìš”êµ¬ì‚¬í•­ê´€ë¦¬ì˜ ìˆœì¶”ì  `TraceStatus` (linked/unlinked/breakpoint)ì™€
> **ê°™ì€ ê¸°ì € ë°ì´í„°(requirement_trace_links)**ë¥¼ ê³µìœ í•œë‹¤.
> ìˆœì¶”ì ì˜ `breakpoint`ëŠ” ì—­ì¶”ì ì—ì„œ `trace_incomplete`ì— í•´ë‹¹í•œë‹¤.

| ìˆœì¶”ì  (02_ìš”êµ¬ì‚¬í•­) | ì—­ì¶”ì  (03_ë°±ë¡œê·¸) | ì„¤ëª… |
|-------------------|-----------------|------|
| `linked` | `linked` | ì–‘ë°©í–¥ ì™„ì „ ì—°ê²° |
| `unlinked` | `missing_requirement` | Epicì—ì„œ ë³´ë©´ Req ì—†ìŒ |
| `breakpoint` | `trace_incomplete` | ì¤‘ê°„ ì²´ì¸ ë‹¨ì ˆ |
| â€” (Req ê´€ì  ì—†ìŒ) | `requirement_rejected` | Req ê±°ë¶€ë¨ |
| â€” (Req ê´€ì  ì—†ìŒ) | `requirement_pending` | Req ë¯¸ì • |

### 8.3 Epic Detail Right Panel ë‚´ Trace í‘œì‹œ

```
â”€â”€ Trace (ì—­ì¶”ì ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì—°ê²°ëœ Requirement:
  REQ-012  ì‹¤ì‹œê°„ ì‚¬ê¸°íƒì§€ ì‹œìŠ¤í…œ êµ¬ì¶•
    ìˆ˜ìš©: Y â”‚ ìƒíƒœ: linked âœ…
  REQ-015  ì‹¤ì‹œê°„ ìŠ¤ì½”ì–´ë§ API
    ìˆ˜ìš©: Y â”‚ ìƒíƒœ: trace_incomplete âš 
    (Storyâ†’TC ì—°ê²° ë¶€ì¡±)

ë¯¸ì—°ê²° Epic:
  âš  ì´ Epicì— ì—°ê²°ëœ Requirementê°€ ì—†ìŠµë‹ˆë‹¤
    â†’ [ìš”êµ¬ì‚¬í•­ì—ì„œ ì—°ê²°]  â† targetNodeId: "requirements"

[ìš”êµ¬ì‚¬í•­ ê´€ë¦¬ì—ì„œ ë³´ê¸° â†’]  â† targetNodeId: "requirements"
```

### 8.4 Trace ì—­ì¶”ì  API

```
GET /api/epics/:epicId/trace-requirements
```

```typescript
interface EpicTraceRequirements {
  epicId: string;
  /** ì „ì²´ ì—­ì¶”ì  ìƒíƒœ (Epic ë ˆë²¨ ìš”ì•½) */
  overallTraceStatus: EpicTraceStatus;
  requirements: {
    id: string;            // REQ-012
    title: string;
    acceptance: "Y" | "X" | "pending";
    /** v2.0: ì›ì¸ ê¸°ë°˜ ì„¸ë¶„í™” */
    traceStatus: EpicTraceStatus;
    /** trace_incompleteì¸ ê²½ìš° êµ¬ì²´ì  ëŠì–´ì§„ êµ¬ê°„ */
    incompleteDetails?: {
      from: string;        // "Story S-91"
      expectedNext: string;// "TestCase"
      description: string; // "S-91ì— TCê°€ ì—°ê²°ë˜ì§€ ì•ŠìŒ"
    }[];
  }[];

  // ì‹ ë¢°ë„ 3-tuple (v2.0: ì„¸ë¶„í™”)
  asOf: string;
  completeness: {
    epics: number;
    features: number;
    stories: number;
    tasks: number;
    overall: number;
  };
  warnings: string[];
}
```

---

## 9. ì»´í¬ë„ŒíŠ¸ ë¶„í•´

### 9.1 í´ë” êµ¬ì¡°

```
features/
  backlog/
    pages/
      BacklogPage.tsx                â† ëª©ë¡ (ViewMode ë¶„ê¸°, Epic Tree)
      EpicDetailPage.tsx             â† Epic ìƒì„¸ (Feature/Story/Task íŠ¸ë¦¬)
    components/
      // íŠ¸ë¦¬
      EpicTree.tsx                   â† ë©”ì¸ íŠ¸ë¦¬ ì»¨í…Œì´ë„ˆ
      EpicTreeRow.tsx                â† Epic í–‰ (ì ‘ê¸°/í¼ì¹˜ê¸°, ì§„í–‰ë¥  ë°”)
      FeatureRow.tsx                 â† Feature í–‰ (Part í‘œì‹œ)
      StoryRow.tsx                   â† Story í–‰ (SP, ë‹´ë‹¹, Sprint, ìƒíƒœ)
      TaskRow.tsx                    â† Task í–‰ (Kanban ìƒíƒœ, ë‹´ë‹¹)
      SearchMatchHighlight.tsx       â† v2.0: SEARCH ëª¨ë“œ ë§¤ì¹­ í•˜ì´ë¼ì´íŠ¸

      // íˆ´ë°” & í•„í„°
      BacklogToolbar.tsx             â† ìƒë‹¨ íˆ´ë°” (ìƒì„± CTA, ê²€ìƒ‰)
      BacklogFilters.tsx             â† í•„í„° ë°” (FilterSpec ê¸°ë°˜)
      BacklogKpiRow.tsx              â† ìƒë‹¨ KPI ì¹´ë“œ Row
      QueryModeBanner.tsx            â† v2.0: "Nê±´ ë§¤ì¹­ / ì „ì²´ Mê±´" ë°°ë„ˆ

      // Right Panel
      BacklogContextPanel.tsx        â† panelMode: "context" (Epic ìš”ì•½)
      StoryDetailPanel.tsx           â† panelMode: "story-detail"
      EpicTracePanel.tsx             â† panelMode: "trace" (ì—­ì¶”ì )
      BacklogRightPanel.tsx          â† panelMode ë¶„ê¸° ë Œë”ë§
      ScopeRestrictionBanner.tsx     â† v2.0: Part ë²”ìœ„ ì œí•œ ì•ˆë‚´

      // ìƒì„¸
      EpicBasicInfo.tsx              â† Epic ê¸°ë³¸ ì •ë³´ ì¹´ë“œ
      EpicCompletableBadge.tsx       â† v2.0: "ì™„ë£Œ ê°€ëŠ¥" ë°°ì§€ (ì„œë²„ íŒì •)
      EpicProgressChart.tsx          â† Epic ì§„í–‰ë¥  ì°¨íŠ¸ (Burndown mini)
      FeatureStoryTree.tsx           â† Feature â†’ Story â†’ Task ì¤‘ì²© íŠ¸ë¦¬

      // Story
      StoryCard.tsx                  â† Story ì¹´ë“œ (User Story í˜•ì‹ í‘œì‹œ)
      StoryForm.tsx                  â† Story ìƒì„±/í¸ì§‘ í¼
      StorySprintAssign.tsx          â† Sprint í• ë‹¹ ë“œë¡­ë‹¤ìš´

      // ëª¨ë‹¬ & ë‹¤ì´ì–¼ë¡œê·¸
      EpicCreateModal.tsx            â† Epic ìƒì„± ëª¨ë‹¬
      EpicEditModal.tsx              â† Epic í¸ì§‘ ëª¨ë‹¬
      FeatureCreateModal.tsx         â† Feature ìƒì„± ëª¨ë‹¬
      TaskCreateModal.tsx            â† Task ìƒì„± ëª¨ë‹¬
      SprintAssignDialog.tsx         â† Sprint í• ë‹¹ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
      EpicCompleteDialog.tsx         â† v2.0: Epic ì™„ë£Œ í™•ì¸ (ì„œë²„ ì¬ê²€ì¦)

      // ìƒíƒœ í‘œì‹œ
      EpicStatusBadge.tsx            â† Epic ìƒíƒœ ë°°ì§€
      StoryStatusBadge.tsx           â† Story ìƒíƒœ ë°°ì§€ (8ê°’)
      TaskStatusBadge.tsx            â† Task ìƒíƒœ ë°°ì§€
      EpicTraceBadge.tsx             â† v2.0: ì—­ì¶”ì  ìƒíƒœ ë°°ì§€ (5ê°’)
      PriorityBadge.tsx              â† ìš°ì„ ìˆœìœ„ ë°°ì§€ (ê³µí†µ)
      ProgressBar.tsx                â† ì§„í–‰ë¥  ë°” (ê³µí†µ)

    api/
      backlogApi.ts                  â† Backlog API í˜¸ì¶œ
    hooks/
      useBacklogList.ts              â† ëª©ë¡ TanStack Query (queryMode í¬í•¨)
      useEpicDetail.ts               â† Epic ìƒì„¸ TanStack Query
      useFeatureStories.ts           â† Feature Stories lazy-load Query
      useStoryTasks.ts               â† Story Tasks lazy-load Query
      useBacklogStats.ts             â† í†µê³„ Query (ì‹ ë¢°ë„ í¬í•¨)
      useEpicTraceRequirements.ts    â† Trace ì—­ì¶”ì  Query
      useBacklogPanelMode.ts         â† Right Panel ëª¨ë“œ ìƒíƒœ ê´€ë¦¬
      useTreeExpansion.ts            â† íŠ¸ë¦¬ ì ‘ê¸°/í¼ì¹˜ê¸° ìƒíƒœ ê´€ë¦¬
      useQueryMode.ts                â† v2.0: queryMode íŒì • + SEARCH ìƒíƒœ
```

### 9.2 BacklogPage.tsx ViewMode ë¶„ê¸°

```typescript
function BacklogPage() {
  const { viewMode } = useAccessContext();
  const { panelMode, setPanelMode } = useBacklogPanelMode(viewMode);
  const { expandedNodes, toggleNode, setExpandedNodes } = useTreeExpansion();
  const { queryMode, matchedNodes } = useQueryMode();

  // SEARCH ëª¨ë“œ: ë§¤ì¹­ ê²½ë¡œ ìë™ í™•ì¥
  useEffect(() => {
    if (queryMode === "SEARCH" && data?.expandedPathIds) {
      setExpandedNodes(new Set(data.expandedPathIds));
    }
  }, [queryMode, data?.expandedPathIds]);

  // panelModeì— ë”°ë¥¸ Right Panel ì»´í¬ë„ŒíŠ¸ ê²°ì •
  const rightPanelContent = useMemo(() => {
    switch (panelMode) {
      case "none":          return undefined;
      case "context":       return <BacklogContextPanel />;
      case "story-detail":  return <StoryDetailPanel />;
      case "trace":         return <EpicTracePanel />;
      default:              return undefined;
    }
  }, [panelMode]);

  return (
    <PageLayout
      header={<BacklogToolbar viewMode={viewMode} />}
      rightPanel={rightPanelContent}
      rightPanelDefault={PRESET_POLICIES[viewMode].ui.defaultRightPanel}
    >
      {/* v2.0: Part ë²”ìœ„ ì œí•œ ì•ˆë‚´ */}
      {data?.scope.scopeReason === "role_restricted" && (
        <ScopeRestrictionBanner partNames={data.scope.appliedPartNames} />
      )}

      <BacklogKpiRow viewMode={viewMode} />
      <BacklogFilters
        viewMode={viewMode}
        filterSpec={backlogNode.filterSpec}
      />

      {/* v2.0: SEARCH ëª¨ë“œ ë§¤ì¹­ ë°°ë„ˆ */}
      {queryMode === "SEARCH" && matchedNodes && (
        <QueryModeBanner
          matched={matchedNodes.totalMatched}
          total={matchedNodes.totalAll}
        />
      )}

      <EpicTree
        viewMode={viewMode}
        queryMode={queryMode}
        matchedNodes={matchedNodes}
        expandedNodes={expandedNodes}
        onToggle={toggleNode}
        onEpicSelect={(epic) => {
          if (["PM_WORK", "PMO_CONTROL", "DEV_EXECUTION"].includes(viewMode)) {
            setPanelMode("context");
          }
        }}
        onStorySelect={(story) => {
          if (viewMode === "PM_WORK") setPanelMode("story-detail");
        }}
      />
    </PageLayout>
  );
}
```

### 9.3 EpicTree.tsx â€” íŠ¸ë¦¬ ë Œë”ë§ ì „ëµ (v2.0 queryMode ë°˜ì˜)

```typescript
interface EpicTreeProps {
  viewMode: ViewModePreset;
  queryMode: BacklogQueryMode;         // v2.0
  matchedNodes?: BacklogMatchedNodes;  // v2.0
  expandedNodes: Set<string>;
  onToggle: (nodeId: string) => void;
  onEpicSelect: (epic: Epic) => void;
  onStorySelect: (story: UserStory) => void;
}

/**
 * íŠ¸ë¦¬ ë Œë”ë§ ì „ëµ (v2.0):
 * 1. TREE ëª¨ë“œ: í•„í„°ë§ì€ ì„œë²„ API, íŠ¸ë¦¬ëŠ” ìˆœìˆ˜ ë Œë”ë§, expand ì‹œ lazy-load
 * 2. SEARCH ëª¨ë“œ: ë§¤ì¹­ ê²°ê³¼ í¬í•¨, ìë™ í™•ì¥, ë¯¸ë§¤ì¹­ ë…¸ë“œ íšŒìƒ‰ ì²˜ë¦¬
 * 3. Presetì— ë”°ë¼ í‘œì‹œ ê¹Šì´ ì œí•œ
 */
function EpicTree(props: EpicTreeProps) {
  const maxDepth = getMaxDepthForPreset(props.viewMode);
  const isMatched = (nodeId: string) =>
    props.queryMode === "TREE" || props.matchedNodes?.storyIds.includes(nodeId)
    || props.matchedNodes?.taskIds.includes(nodeId);
  // ... rendering logic with dimming for non-matched
}

function getMaxDepthForPreset(viewMode: ViewModePreset): number {
  switch (viewMode) {
    case "EXEC_SUMMARY":
    case "CUSTOMER_APPROVAL":
      return 1;  // Epic only
    case "PMO_CONTROL":
      return 2;  // Epic + Feature
    case "DEV_EXECUTION":
      return 3;  // Epic + Feature + Story
    case "PM_WORK":
    default:
      return 4;  // Full tree
  }
}
```

---

## 10. AI Navigation ì—°ë™

### 10.1 virtualNode ìš°ì„  ë°˜í™˜ ì •ì±…

> **v2.0 í•µì‹¬**: AIëŠ” ê°€ëŠ¥í•œ ê²½ìš° raw filter ëŒ€ì‹  **virtualIdë¥¼ ìš°ì„  ë°˜í™˜**í•œë‹¤.
> virtualId ê¸°ë°˜ ë”¥ë§í¬ëŠ” íŒŒë¼ë¯¸í„° ì˜¤ë¥˜ ê°€ëŠ¥ì„±ì´ ë‚®ê³ , ì‚¬ìš©ìì—ê²Œ "ì˜ë¯¸ìˆëŠ” ì—…ë¬´ ê°œë…"ìœ¼ë¡œ ì•ˆë‚´ëœë‹¤.

```typescript
/** AI virtualNode ë§¤ì¹­ ìš°ì„ ìˆœìœ„ */
const VIRTUAL_NODE_PRIORITY: { virtualId: string; matchFilter: Partial<BacklogFilterSpec> }[] = [
  { virtualId: "backlog.ready-stories",  matchFilter: { storyStatus: "READY" } },
  { virtualId: "backlog.blocked",        matchFilter: { taskStatus: "BLOCKED" } },
  { virtualId: "backlog.unassigned",     matchFilter: { unassigned: true } },
  { virtualId: "backlog.in-sprint",      matchFilter: { storyStatus: "IN_SPRINT" } },
  { virtualId: "backlog.my-part",        matchFilter: { partId: "{{currentUserPartId}}" } },
];

function resolveBacklogNavigation(filter: BacklogFilterSpec): AiBacklogNavigation {
  // 1. virtualNode ë§¤ì¹­ ì‹œë„ (ìš°ì„ )
  for (const vn of VIRTUAL_NODE_PRIORITY) {
    if (isSubsetMatch(vn.matchFilter, filter)) {
      return { targetNodeId: "backlog", virtualId: vn.virtualId, filter, reason: "..." };
    }
  }
  // 2. ë§¤ì¹­ ì‹¤íŒ¨ ì‹œ raw filter ë°˜í™˜
  return { targetNodeId: "backlog", filter, reason: "..." };
}
```

### 10.2 AI ì§ˆë¬¸ â†’ í™”ë©´ ì´ë™ (FilterSpec + virtualId)

```typescript
/** AIê°€ ë°˜í™˜í•˜ëŠ” ë„¤ë¹„ê²Œì´ì…˜ ì¶”ì²œ (v2.0) */
interface AiBacklogNavigation {
  targetNodeId: "backlog";
  /** v2.0: virtualNode ìš°ì„  ë°˜í™˜ */
  virtualId?: string;                  // "backlog.ready-stories" ë“±
  /** FilterSpec ê¸°ë°˜ í•„í„° ê°ì²´ */
  filter: BacklogFilterSpec;
  /** íŠ¹ì • Epic/Story ì§ì ‘ ì´ë™ ì‹œ */
  entityId?: string;                   // "E-12" or "S-88"
  reason: string;                      // "BLOCKED Task 3ê±´ í™•ì¸ í•„ìš”"
}
```

| ì§ˆë¬¸ | AI ë°˜í™˜ | virtualId? | ì„¤ëª… |
|------|--------|-----------|------|
| "READY Story ë³´ì—¬ì¤˜" | `{ storyStatus: "READY" }` | `backlog.ready-stories` | virtualId ìš°ì„  |
| "BLOCKED ëœ ê±´ ìˆì–´?" | `{ taskStatus: "BLOCKED" }` | `backlog.blocked` | virtualId ìš°ì„  |
| "ë¯¸í• ë‹¹ Story ìˆì–´?" | `{ unassigned: true }` | `backlog.unassigned` | virtualId ìš°ì„  |
| "ì´ë²ˆ ìŠ¤í”„ë¦°íŠ¸ Story" | `{ storyStatus: "IN_SPRINT" }` | `backlog.in-sprint` | virtualId ìš°ì„  |
| "Epic E-12 ìƒì„¸" | `entityId: "E-12"` | â€” | ì§ì ‘ ì´ë™ |
| "CRITICAL Epicì€?" | `{ priority: "CRITICAL" }` | â€” | raw filter |
| "Sprint-5 Story" | `{ sprintId: "sprint-5" }` | â€” | raw filter |

### 10.3 Presetë³„ do intent AI ë¼ìš°íŒ…

AIëŠ” ì¡°ì¹˜(do) ì§ˆë¬¸ ì‹œ Â§1.3ì˜ `DO_INTENT_ROUTING`ì— ë”°ë¼ targetNodeIdë¥¼ ê²°ì •í•œë‹¤.

```
PMì´ "Sprint í• ë‹¹í•´ì¤˜" â†’ targetNodeId: "backlog" (READY í’€ì—ì„œ)
PMOê°€ "Sprint í• ë‹¹í•´ì¤˜" â†’ targetNodeId: "sprints" (Sprint êµ¬ì„± í†µì œ)
DEVê°€ "Sprint í• ë‹¹í•´ì¤˜" â†’ targetNodeId: "kanban" (ì‹¤í–‰ ê´€ì )
```

### 10.4 Context Panelì—ì„œì˜ AI ì¶”ì²œ

```
â”€â”€ ì¶”ì²œ ì•¡ì…˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš  S-01 íƒì§€ë£°ê´€ë¦¬ ë‹´ë‹¹ ë¯¸í• ë‹¹
  â†’ [ë‹´ë‹¹ì ì§€ì •]             â† virtualId: "backlog.unassigned"

âš  TSK-089 APIì—°ë™ BLOCKED
  â†’ [ì´ìŠˆ ê´€ë¦¬ì—ì„œ í™•ì¸]      â† targetNodeId: "issues"

â„¹ S-05 ìë™ì¬í•™ìŠµ ì•„ì§ IDEA ìƒíƒœ, SP ë¯¸ì¶”ì •
  â†’ [Story ì •ì œ]              â† targetNodeId: "backlog", entityId: "S-05"

â„¹ Epic ì§„í–‰ë¥  67%, Sprint-5 ì¢…ë£Œ 3ì¼ ì „
  â†’ [ìŠ¤í”„ë¦°íŠ¸ì—ì„œ í™•ì¸]       â† targetNodeId: "sprints", entityId: "sprint-5"
```

---

## 11. ì¸í„°ë™ì…˜ ìƒì„¸

### 11.1 íŠ¸ë¦¬ ì ‘ê¸°/í¼ì¹˜ê¸°

```
Epic í–‰ â–¶ í´ë¦­ â†’ Feature ë ˆë²¨ í™•ì¥ (TREE: lazy-load / SEARCH: ì´ë¯¸ ë¡œë“œë¨)
Feature í–‰ â–¶ í´ë¦­ â†’ Story ë ˆë²¨ í™•ì¥ (TREE: lazy-load / SEARCH: ì´ë¯¸ ë¡œë“œë¨)
Story í–‰ â–¶ í´ë¦­ â†’ Task ë ˆë²¨ í™•ì¥ (TREE: lazy-load / SEARCH: ì´ë¯¸ ë¡œë“œë¨)

â€» Presetì— ë”°ë¼ ìµœëŒ€ í™•ì¥ ê¹Šì´ ì œí•œ (Â§9.3 getMaxDepthForPreset)
â€» SEARCH ëª¨ë“œ: expandedPathIds ê¸°ë°˜ ìë™ í™•ì¥, ë¯¸ë§¤ì¹­ ë…¸ë“œ íšŒìƒ‰ ì²˜ë¦¬
```

### 11.2 Epic í–‰ í´ë¦­

```
ë‹¨ì¼ í´ë¦­ â†’ panelModeì— ë”°ë¼ Right Panel ë‚´ìš© ë³€ê²½
  EXEC_SUMMARY / CUSTOMER_APPROVAL: ë³€í™” ì—†ìŒ
  PM_WORK / PMO_CONTROL / DEV_EXECUTION: Context Panel í‘œì‹œ

ë”ë¸” í´ë¦­ â†’ /backlog/epics/:epicId ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
```

### 11.3 Story í–‰ í´ë¦­

```
ë‹¨ì¼ í´ë¦­ (PM_WORK):
  â†’ panelMode="story-detail" â†’ Story ìƒì„¸ íŒ¨ë„ (User Story í˜•ì‹, AC, SP, ë‹´ë‹¹)

ë‹¨ì¼ í´ë¦­ (DEV_EXECUTION):
  â†’ panelMode="context" â†’ Story ì½ê¸° ì „ìš© ì •ë³´

ë‹¨ì¼ í´ë¦­ (PMO_CONTROL):
  â†’ panelMode="context" â†’ Story ìš”ì•½ ì •ë³´
```

### 11.4 ì¸ë¼ì¸ CTA

```
PM_WORK Presetì—ì„œ:
  [+ Feature ì¶”ê°€] â†’ FeatureCreateModal (cap: manage_backlog_epic)
  [+ Story ì¶”ê°€] â†’ StoryForm (cap: manage_backlog_story)
  [+ Task ì¶”ê°€] â†’ TaskCreateModal (cap: manage_backlog_task)  â† v2.0 ë¶„ë¦¬
  [Sprint í• ë‹¹ â–¼] â†’ SprintAssignDialog (cap: assign_story_sprint)
    â†’ Sprint ëª©ë¡ ë“œë¡­ë‹¤ìš´ (PLANNING | ACTIVE Sprintë§Œ í‘œì‹œ)
    â†’ ì„ íƒ ì‹œ ì„œë²„ íŠ¸ëœì­ì…˜: Story READYâ†’IN_SPRINT + Epic BACKLOGâ†’IN_PROGRESS

DEV_EXECUTION Presetì—ì„œ (v2.0):
  [+ Task ì¶”ê°€] â†’ TaskCreateModal (cap: manage_backlog_task)
  â€» Story/Feature ìƒì„± CTAëŠ” í‘œì‹œë˜ì§€ ì•ŠìŒ
```

### 11.5 Drag & Drop â€” `reorder_backlog` Capability ë¶„ë¦¬

> **v2.0 ë³€ê²½**: D&DëŠ” ë‹¨ìˆœ í¸ì§‘ì´ ì•„ë‹ˆë¼ "ìš°ì„ ìˆœìœ„/ê³„íšì˜ ì˜ì‚¬ê²°ì •"ì´ë¯€ë¡œ
> `reorder_backlog` Capabilityë¡œ ë¶„ë¦¬í•œë‹¤. ê°ì‚¬/í†µì œ ìš”êµ¬ì— ëŒ€ì‘ ê°€ëŠ¥.

```
D&D ê°€ëŠ¥ ì¡°ê±´: Preset=PM_WORK AND cap=reorder_backlog

Epic í–‰ D&D â†’ PATCH /api/backlog/reorder { entityType: "epic", entityId, newOrder }
Story í–‰ D&D (ê°™ì€ Feature) â†’ PATCH /api/backlog/reorder { entityType: "story", entityId, newOrder }
Story í–‰ D&D (Feature ê°„) â†’ PATCH /api/backlog/reorder { entityType: "story", entityId, newOrder, newParentId }
  â†’ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ

â€» reorder_backlog Capability ì—†ìœ¼ë©´ D&D í•¸ë“¤ëŸ¬ ë¹„í™œì„±í™”
â€» TREE ëª¨ë“œì—ì„œë§Œ D&D ê°€ëŠ¥ (SEARCH ëª¨ë“œì—ì„œëŠ” ë¹„í™œì„±í™” â€” ì •ë ¬ ê¸°ì¤€ ì¶©ëŒ ë°©ì§€)
```

### 11.6 ë°ì´í„° ìƒˆë¡œê³ ì¹¨

| í•­ëª© | ì£¼ê¸° |
|------|------|
| Epic íŠ¸ë¦¬ | í˜ì´ì§€ ì§„ì… ì‹œ + í•„í„° ë³€ê²½ ì‹œ |
| Feature/Story/Task | TREE: íŠ¸ë¦¬ ë…¸ë“œ í™•ì¥ ì‹œ (lazy-load) / SEARCH: í•„í„° ë³€ê²½ ì‹œ |
| í†µê³„ | í˜ì´ì§€ ì§„ì… ì‹œ (ìºì‹œ 5ë¶„) |
| Epic ìƒì„¸ | í˜ì´ì§€ ì§„ì… ì‹œ |
| Trace ì—­ì¶”ì  | panelMode="trace" ì§„ì… ì‹œ (ì‹¤ì‹œê°„) |

### 11.7 KPI ì¹´ë“œ í´ë¦­ â†’ í•„í„° í™œì„±í™”

> **v2.1 ì‹ ê·œ**: Â§7.3ì—ì„œ "KPI ì¹´ë“œ í´ë¦­ ì‹œ FilterSpecìœ¼ë¡œ SEARCH ëª¨ë“œ ì „í™˜"ì„ ì–¸ê¸‰í–ˆìœ¼ë‚˜,
> ì¸í„°ë™ì…˜ ì„¸ë¶€ê°€ ëˆ„ë½ë˜ì–´ ìˆì—ˆë‹¤. KPI ì¹´ë“œëŠ” **í´ë¦­ ê°€ëŠ¥í•œ í•„í„° ë‹¨ì¶•í‚¤**ë‹¤.

```typescript
/** KPI ì¹´ë“œ í´ë¦­ ì‹œ í™œì„±í™”ë˜ëŠ” í•„í„° ë§¤í•‘ */
const KPI_CARD_FILTER_MAP: Record<string, {
  filter: Partial<BacklogFilterSpec>;
  virtualId?: string;
  queryMode: BacklogQueryMode;
}> = {
  // Row 1: ê±´ìˆ˜ ì¹´ë“œ â†’ TREE ëª¨ë“œ ìœ ì§€ (í•„í„° ì—†ìŒ, ì „ì²´ í‘œì‹œ)
  KPI_EPICS:    { filter: {}, queryMode: "TREE" },
  KPI_FEATURES: { filter: {}, queryMode: "TREE" },
  KPI_STORIES:  { filter: {}, queryMode: "TREE" },
  KPI_TASKS:    { filter: {}, queryMode: "TREE" },

  // Row 2: ìš´ì˜ ì¹´ë“œ â†’ SEARCH ëª¨ë“œ ì „í™˜
  KPI_POINTS:   { filter: {}, queryMode: "TREE" },
  KPI_SPRINT:   { filter: { storyStatus: "IN_SPRINT" }, virtualId: "backlog.in-sprint", queryMode: "SEARCH" },
  KPI_VELOCITY: { filter: {}, queryMode: "TREE" },  // velocityëŠ” í•„í„° ì•„ë‹Œ ì •ë³´
  KPI_BLOCKED:  { filter: { taskStatus: "BLOCKED" }, virtualId: "backlog.blocked", queryMode: "SEARCH" },

  // Row 3 (v2.0): ìš´ì˜ KPI â†’ SEARCH ëª¨ë“œ ì „í™˜
  KPI_UNESTIMATED:         { filter: { unestimated: true }, queryMode: "SEARCH" },
  KPI_READY_NO_SPRINT:     { filter: { storyStatus: "READY" }, virtualId: "backlog.ready-stories", queryMode: "SEARCH" },
  KPI_UNASSIGNED_READY:    { filter: { unassigned: true, storyStatus: "READY" }, virtualId: "backlog.unassigned", queryMode: "SEARCH" },
};
```

**ì¸í„°ë™ì…˜ íë¦„**:

```
1. KPI ì¹´ë“œ í´ë¦­
2. KPI_CARD_FILTER_MAPì—ì„œ filter ê°ì²´ ì¡°íšŒ
3. í˜„ì¬ í•„í„° ë°” ìƒíƒœì— merge (ê¸°ì¡´ í•„í„° ì´ˆê¸°í™” â†’ ìƒˆ í•„í„° ì ìš©)
4. queryMode ì „í™˜ (TREEâ†’SEARCH ì‹œ ë§¤ì¹­ ë°°ë„ˆ í‘œì‹œ)
5. URL ì—…ë°ì´íŠ¸ (Â§2.4 serializeBacklogFilter)
6. ë™ì¼ ì¹´ë“œ ì¬í´ë¦­ ì‹œ í•„í„° í•´ì œ (toggle ë™ì‘)
```

> **toggle ì›ì¹™**: í™œì„± ìƒíƒœì˜ KPI ì¹´ë“œë¥¼ ë‹¤ì‹œ í´ë¦­í•˜ë©´ í•´ë‹¹ í•„í„°ê°€ í•´ì œë˜ê³ 
> queryModeê°€ TREEë¡œ ë³µê·€í•œë‹¤. í™œì„± ì¹´ë“œëŠ” **í…Œë‘ë¦¬ ê°•ì¡° + í•„í„° í™œì„± ì•„ì´ì½˜**ìœ¼ë¡œ í‘œì‹œ.

### 11.8 ë™ì‹œ í¸ì§‘ ì¶©ëŒ ëŒ€ì‘

> **v2.1 ì‹ ê·œ**: ì—¬ëŸ¬ PMì´ ê°™ì€ Epic/Storyë¥¼ í¸ì§‘í•  ë•Œì˜ ì¶©ëŒ ëŒ€ì‘.

```text
ë‚™ê´€ì  ì ê¸ˆ (Optimistic Locking):
  â”œâ”€ ëª¨ë“  PATCH ìš”ì²­ì— If-Match: {version} í—¤ë” í¬í•¨
  â”œâ”€ ì„œë²„ëŠ” í˜„ì¬ versionê³¼ ë¹„êµ
  â”œâ”€ ë¶ˆì¼ì¹˜ ì‹œ 409 Conflict + í˜„ì¬ ë°ì´í„° ë°˜í™˜
  â””â”€ í”„ë¡ íŠ¸ëŠ” "ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤" ì•ˆë‚´ + ë³‘í•© ì˜µì…˜ ì œê³µ

ì ìš© ë²”ìœ„:
  â”œâ”€ Epic/Feature/Story/Task PATCH â†’ ë‚™ê´€ì  ì ê¸ˆ ì ìš©
  â”œâ”€ Sprint í• ë‹¹ (Â§7.8) â†’ CONCURRENT_MODIFICATION ì—ëŸ¬
  â””â”€ Reorder (Â§7.9) â†’ ìˆœì„œ ì¶©ëŒ ì‹œ ì„œë²„ê°€ ì¬ì •ë ¬ í›„ ìµœì‹  ìˆœì„œ ë°˜í™˜
```

---

## 12. ë°˜ì‘í˜• ëŒ€ì‘

| ë„ˆë¹„ | íŠ¸ë¦¬ | Right Panel | í•„í„° |
|------|------|------------|------|
| â‰¥1440px | ì „ì²´ 4ê³„ì¸µ + SP/ë‹´ë‹¹ ì¸ë¼ì¸ í‘œì‹œ | Right Panel (30%) | ì¸ë¼ì¸ |
| 1280px | ì „ì²´ 4ê³„ì¸µ (SP/ë‹´ë‹¹ ì¶•ì•½) | Drawer (toggle) | ì¸ë¼ì¸ |
| â‰¤1024px | Epic + Feature + Story (Task ìˆ¨ê¹€) | Drawer (overlay) | ì ‘ì´ì‹ |
| â‰¤768px | Epic + Story (Feature í†µí•© í‘œì‹œ) | Full Modal | ì ‘ì´ì‹ |

---

## 13. ê¹¨ì§€ê¸° ì‰¬ìš´ 5ê³³ ì²´í¬ë¦¬ìŠ¤íŠ¸

> **v2.0 ì‹ ê·œ / v2.1 í™•ì¥**: ì´ 5ê³³ì„ ë§‰ìœ¼ë©´ ì•ˆì •í™”ê°€ ë¹¨ë¼ì§„ë‹¤.

| # | ìœ„í—˜ ì§€ì  | í•´ê²°ì±… | ê²€ì¦ ë°©ë²• |
| --- | --------- | ------ | --------- |
| 1 | **í•„í„° + lazy-load ì¶©ëŒ** | `queryMode: TREE/SEARCH` ë¶„ë¦¬, SEARCH ì‹œ `matchedNodes` + `expandedPathIds` í•„ìˆ˜ ë°˜í™˜ | SEARCH ëª¨ë“œì—ì„œ "Nê±´ ë§¤ì¹­ / ì „ì²´ Mê±´" í‘œì‹œ í™•ì¸, ë§¤ì¹­ Story ê²½ë¡œ ìë™ í™•ì¥ í™•ì¸ |
| 2 | **ìƒíƒœ ìë™ ì „ì´ì˜ ìœ„ì¹˜** | ì„œë²„ íŠ¸ëœì­ì…˜ì—ì„œë§Œ ì „ì´ (`PATCH /stories/:id/sprint` â†’ Story IN_SPRINT + Feature IN_PROGRESS + Epic IN_PROGRESS ì›ìì„± ë³´ì¥). Epic ì™„ë£ŒëŠ” ì„œë²„ `completable` í”Œë˜ê·¸ ê¸°ë°˜ | Sprint í• ë‹¹ ì‹œ Epic/Feature ìƒíƒœ ìë™ ë³€ê²½ í™•ì¸, í”„ë¡ íŠ¸ ë‹¨ë… ìƒíƒœ ë³€ê²½ ì‹œë„ ì‹œ ì„œë²„ ê±°ë¶€ í™•ì¸ |
| 3 | **Part scope ê°•ì œ** | ì„œë²„ì—ì„œ `allowedPartIds` ê³„ì‚° + `scope echo` ì‘ë‹µ. URL/AI ìš°íšŒ ì‹œ 403 ë˜ëŠ” ë¹ˆ ê²°ê³¼ | DevReaderê°€ ë‹¤ë¥¸ Partì˜ partIdë¥¼ URLì— ì§ì ‘ ì…ë ¥í–ˆì„ ë•Œ 403 ë°˜í™˜ í™•ì¸ |
| 4 | **ë™ì‹œ í¸ì§‘ ì¶©ëŒ** (v2.1) | ë‚™ê´€ì  ì ê¸ˆ(`If-Match` + version). 409 ì‹œ í˜„ì¬ ë°ì´í„° ë°˜í™˜ + ë³‘í•© ì•ˆë‚´. ReorderëŠ” ì„œë²„ ì¬ì •ë ¬ í›„ ìµœì‹  ìˆœì„œ ë°˜í™˜ | ë‘ ë¸Œë¼ìš°ì €ì—ì„œ ê°™ì€ Storyë¥¼ ë™ì‹œ PATCH â†’ í›„ìê°€ 409 ìˆ˜ì‹  í™•ì¸, ìƒˆë¡œê³ ì¹¨ í›„ ìµœì‹  ë°ì´í„° í‘œì‹œ í™•ì¸ |
| 5 | **SEARCH ëª¨ë“œ ì„±ëŠ¥ í•œê³„** (v2.1) | SEARCH ì‘ë‹µì€ **ìµœëŒ€ 200 Story + 500 Task** ì œí•œ. ì´ˆê³¼ ì‹œ `warnings: ["ê²°ê³¼ê°€ ì˜ë ¤ì¡ŒìŠµë‹ˆë‹¤. í•„í„°ë¥¼ êµ¬ì²´í™”í•˜ì„¸ìš”"]` í¬í•¨. í”„ë¡ íŠ¸ëŠ” ê²½ê³  ë°°ë„ˆ í‘œì‹œ | `q=a` ê°™ì€ ê´‘ë²”ìœ„ ê²€ìƒ‰ â†’ ê²°ê³¼ ì œí•œ + ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ í™•ì¸, í•„í„° ì¶”ê°€ ì‹œ ì „ì²´ ê²°ê³¼ ë°˜í™˜ í™•ì¸ |

---

## 14. Capability ë§¤í•‘ ì´ê´„

> **v2.0 í™•ì •**: 5ê°œ + 1ê°œ(export) = 6ê°œ Capability

| Capability | í–‰ìœ„ | ëŒ€í‘œ ì—­í•  |
|-----------|------|---------|
| `view_backlog` | ë°±ë¡œê·¸ ì¡°íšŒ, íŠ¸ë¦¬ íƒìƒ‰ | ALL (ì—­í• ë³„ ë²”ìœ„ ì œí•œ) |
| `manage_backlog_epic` | EpicÂ·Feature ìƒì„±/í¸ì§‘/ì‚­ì œ | PM |
| `manage_backlog_story` | Story ìƒì„±/í¸ì§‘/ì‚­ì œ | PM |
| `manage_backlog_task` | **Task ìƒì„±/í¸ì§‘/ì‚­ì œ** (v2.0 ë¶„ë¦¬) | PM, DevReader, DEV(QA) |
| `assign_story_sprint` | Storyë¥¼ Sprintì— í• ë‹¹ | PM |
| `reorder_backlog` | **Drag & Drop ìˆœì„œ ë³€ê²½** (v2.0 ë¶„ë¦¬) | PM |
| `export_reports` | ë°±ë¡œê·¸ Export | PMO |

> **DevReaderì—ê²Œ Taskë§Œ ì—´ê¸°**: `manage_backlog_task`ë§Œ ë¶€ì—¬í•˜ë©´
> StoryëŠ” PMì´ ì ê·¸ê³  Taskë§Œ íŒŒíŠ¸ì¥/ê°œë°œìê°€ ìƒì„±Â·í¸ì§‘í•  ìˆ˜ ìˆë‹¤.

---

## 15. ê¸°ì¡´ í™”ë©´ vs ê°œì„  í™”ë©´ ë¹„êµ

| í•­ëª© | ê¸°ì¡´ (ìŠ¤í”„ë ˆë“œì‹œíŠ¸) | ê°œì„  (ë³¸ ì„¤ê³„) |
|------|----------------|-------------|
| **ì €ì¥ í˜•ì‹** | ì—‘ì…€ ì‹œíŠ¸ / ê°œì¸ ë…¸íŠ¸ | DB ì—”í‹°í‹° (ID ê¸°ë°˜ 4ê³„ì¸µ FK) |
| **êµ¬ì¡°** | í”Œë« ëª©ë¡ | **4ê³„ì¸µ íŠ¸ë¦¬** (Epic â†’ Feature â†’ Story â†’ Task) |
| **ì§„í–‰ë¥ ** | ìˆ˜ë™ ì…ë ¥ | **ìë™ ê³„ì‚°** (SP ê¸°ë°˜) + ë¯¸ì¶”ì • ê²½ê³  |
| **Sprint í• ë‹¹** | êµ¬ë‘ í•©ì˜ | **ì„œë²„ íŠ¸ëœì­ì…˜** (READY â†’ IN_SPRINT + Epic ìë™ ì „ì´) |
| **ìƒíƒœ ì¶”ì ** | ìƒ‰ìƒ ë ˆì´ë¸” | **8ë‹¨ê³„ Story ìƒíƒœ** + 5ë‹¨ê³„ Task ìƒíƒœ |
| **íŒŒíŠ¸ë³„ ê´€ë¦¬** | ë³„ë„ ì‹œíŠ¸ | **Part scope ì„œë²„ ê°•ì œ** + scope echo |
| **ìš”êµ¬ì‚¬í•­ ì—°ê²°** | ìˆ˜ë™ ë©”ëª¨ | **ID ê¸°ë°˜ Trace ì—°ê²°** (ì›ì¸ ê¸°ë°˜ 5ê°’ ì—­ì¶”ì ) |
| **í•„í„°/ê²€ìƒ‰** | Ctrl+F | **queryMode(TREE/SEARCH)** + FilterSpec + matchedNodes |
| **AI ì—°ë™** | ì—†ìŒ | **virtualNode ìš°ì„  ë”¥ë§í¬** + Presetë³„ do intent ë¼ìš°íŒ… |
| **ê¶Œí•œ** | ì „ì²´ ì—´ê¸°/ë‹«ê¸° | **6ê°œ Capability** (TaskÂ·ìˆœì„œë³€ê²½ ë¶„ë¦¬) |

---

## 16. DoD (ë³¸ í™”ë©´ ì™„ë£Œ ê¸°ì¤€)

- [ ] `/backlog` ëª©ë¡ì—ì„œ Presetë³„ íŠ¸ë¦¬ ê¹Šì´ ë¶„ê¸° ë™ì‘
- [ ] FilterSpec ê¸°ë°˜ ë‹¤ì°¨ì› í•„í„° (epicStatus/priority/phaseId/partId/sprintId/storyStatus/taskStatus/assigneeId/unassigned/unestimated/sortBy/q) ë™ì‘
- [ ] **queryMode TREE/SEARCH ë¶„ê¸°**: SEARCH ì‹œ matchedNodes + expandedPathIds ê¸°ë°˜ ìë™ í™•ì¥ + ë§¤ì¹­ ë°°ë„ˆ
- [ ] KPI Row: Epic/Feature/Story/Task ê±´ìˆ˜, SP í˜„í™©, Velocity, Blocked, **ë¯¸ì¶”ì •/READYë¯¸í• ë‹¹/ë¯¸í• ë‹¹READY** 3ì¢… í‘œì‹œ
- [ ] 4ê³„ì¸µ íŠ¸ë¦¬: Epic â†’ Feature â†’ Story â†’ Task í™•ì¥/ì ‘ê¸° ë™ì‘
- [ ] Feature/Story/Task lazy-load ë™ì‘ (TREE ëª¨ë“œ)
- [ ] panelMode ê¸°ë°˜ Right Panel ë¶„ê¸° (none/context/detail/story-detail/trace)
- [ ] Epic í–‰ í´ë¦­ â†’ Context Panel í‘œì‹œ
- [ ] Story í–‰ í´ë¦­ â†’ Story Detail Panel í‘œì‹œ (PM_WORK)
- [ ] `/backlog/epics/:epicId` ìƒì„¸ í˜ì´ì§€ í‘œì‹œ
- [ ] Epic ì§„í–‰ë¥  ìë™ ê³„ì‚° (SP ê¸°ë°˜) + **ë¯¸ì¶”ì • Story ê²½ê³ **
- [ ] **ì„œë²„ íŠ¸ëœì­ì…˜**: Sprint í• ë‹¹ ì‹œ Story READYâ†’IN_SPRINT + Epic BACKLOGâ†’IN_PROGRESS ì›ìì„±
- [ ] **ì„œë²„ íŠ¸ëœì­ì…˜**: Epic ì™„ë£Œ ì‹œ `completable` í”Œë˜ê·¸ ê¸°ë°˜ ì„œë²„ ì¬ê²€ì¦
- [ ] Story ìƒíƒœ ì „ì´ ê²Œì´íŠ¸ ì„œë²„ ê²€ì¦ (IDEAâ†’REFINED: AC, REFINEDâ†’READY: SP, REVIEWâ†’DONE: Task)
- [ ] Epic ìƒì„±/í¸ì§‘ (cap: `manage_backlog_epic`)
- [ ] Feature ìƒì„±/í¸ì§‘ (cap: `manage_backlog_epic`)
- [ ] Story ìƒì„±/í¸ì§‘ (cap: `manage_backlog_story`)
- [ ] **Task ìƒì„±/í¸ì§‘** (cap: `manage_backlog_task`) â€” Storyì™€ ë¶„ë¦¬
- [ ] Sprint í• ë‹¹ (cap: `assign_story_sprint`)
- [ ] PM_WORK ì¸ë¼ì¸ CTA (+Feature, +Story, +Task, Sprint í• ë‹¹)
- [ ] **DEV_EXECUTION: Task CTAë§Œ í‘œì‹œ** (cap: manage_backlog_task)
- [ ] **Part scope ì„œë²„ ê°•ì œ**: allowedPartIds ê³„ì‚° + 403/ë¹ˆê²°ê³¼ + scope echo ì‘ë‹µ
- [ ] **ScopeRestrictionBanner**: role_restrictedì¼ ë•Œ "ë‚´ íŒŒíŠ¸ ë²”ìœ„ë§Œ í‘œì‹œ" ì•ˆë‚´
- [ ] CUSTOMER_APPROVAL: Epic ë ˆë²¨ ìš”ì•½ ì½ê¸° ì „ìš©
- [ ] Trace ì—­ì¶”ì : Epic â†’ Requirement (ì›ì¸ ê¸°ë°˜ 5ê°’: linked/missing/rejected/pending/incomplete)
- [ ] Trace ì—­ì¶”ì  API ì‹ ë¢°ë„ (completeness ì„¸ë¶„í™”: epics/features/stories/tasks/overall)
- [ ] **virtualNode ìš°ì„  ë°˜í™˜**: READY/BLOCKED/UNASSIGNED/IN_SPRINT 4ê°œ virtualId AI ìš°ì„ 
- [ ] **Presetë³„ do intent ë¼ìš°íŒ…** (PMâ†’backlog, PMOâ†’sprints, DEVâ†’kanban)
- [ ] AI ì¶”ì²œ ì•¡ì…˜: FilterSpec + virtualId ë”¥ë§í¬ + ë¯¸í• ë‹¹/BLOCKED/IDEA/ë¯¸ì¶”ì • ì•Œë¦¼
- [ ] Drag & Drop: Epic/Story ìˆœì„œ ì¬ë°°ì¹˜ (cap: `reorder_backlog`, PM_WORK + TREE ëª¨ë“œë§Œ)
- [ ] **ì •ë ¬ 2ì¢…ë§Œ**: order ASC (ê¸°ë³¸) / progress ASC
- [ ] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (â‰¥1440 / 1280 / â‰¤1024 / â‰¤768)
- [ ] **FilterSpec URL ì§ë ¬í™”** (v2.1): serialize/deserialize ì™•ë³µ ë³´ì¥, boolean "true"ë§Œ ì „ì†¡, enum í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦, ë¯¸ì§€ í‚¤ silent drop
- [ ] **Feature ìë™ ì „ì´** (v2.1): Story IN_SPRINT ì‹œ Feature OPENâ†’IN_PROGRESS, ëª¨ë“  Story DONE ì‹œ Featureâ†’DONE (ì„œë²„ íŠ¸ëœì­ì…˜)
- [ ] **Sprint í• ë‹¹ ì—ëŸ¬ ê³„ì•½** (v2.1): 6ì¢… ì—ëŸ¬ ì½”ë“œë³„ HTTP ìƒíƒœ + í”„ë¡ íŠ¸ ëŒ€ì‘ (409 ì›ì¸+ë‹¤ìŒí–‰ë™, 403 ê¶Œí•œë¶€ì¡±)
- [ ] **KPI ì¹´ë“œ í´ë¦­ â†’ í•„í„° í™œì„±í™”** (v2.1): KPI_CARD_FILTER_MAP ê¸°ë°˜ toggle ë™ì‘ + queryMode ì „í™˜
- [ ] **ë™ì‹œ í¸ì§‘ ì¶©ëŒ** (v2.1): ë‚™ê´€ì  ì ê¸ˆ(If-Match + version) + 409 ë³‘í•© ì•ˆë‚´
- [ ] **SEARCH ëª¨ë“œ ì„±ëŠ¥ í•œê³„** (v2.1): ìµœëŒ€ 200 Story + 500 Task ì œí•œ, ì´ˆê³¼ ì‹œ ê²½ê³  ë°°ë„ˆ í‘œì‹œ

---

## ë¶€ë¡ A. ë³€ê²½ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
| ------ | ------ | --------- |
| v1.0 | 2026-02-08 | ì´ˆì•ˆ ì‘ì„± â€” 4ê³„ì¸µ íŠ¸ë¦¬ êµ¬ì¡°, FilterSpec ë‚´ì¥, Presetë³„ ë¶„ê¸°, Trace ì—­ì¶”ì , AI Navigation ì—°ë™, ì»´í¬ë„ŒíŠ¸ ë¶„í•´, ë°ì´í„° ëª¨ë¸/API |
| v2.0 | 2026-02-08 | 11ê°œ ì˜ì—­ í”¼ë“œë°± ë°˜ì˜: (1) AI ë¼ìš°íŒ… ì •ì±… per Preset â€” backlog=ê³„íší™ˆ/kanban=ì‹¤í–‰í™ˆ/sprints=ìš´ì˜í™ˆ + DO_INTENT_ROUTING, (2) queryMode(TREE/SEARCH) ë„ì… â€” matchedNodes + expandedPathIds + ë¯¸ë§¤ì¹­ íšŒìƒ‰ ì²˜ë¦¬, (3) ì •ë ¬ ì •ì±… â€” order ASC(ê¸°ë³¸) + progress ASC(ë³´ì¡°) 2ì¢…ë§Œ, (4) ìƒíƒœ ìë™ ì „ì´ ì„œë²„ íŠ¸ëœì­ì…˜ í™•ì • â€” Sprint í• ë‹¹ ì‹œ Epic ì „ì´ ì›ìì„± + completable í”Œë˜ê·¸, (5) Capability ì„¸ë¶„í™” â€” manage_backlog_task + reorder_backlog ë¶„ë¦¬, (6) Part scope ì„œë²„ ê°•ì œ â€” allowedPartIds + 403 + scope echo, (7) Trace ì—­ì¶”ì  breakpoint ì›ì¸ ê¸°ë°˜ ì„¸ë¶„í™” â€” 5ê°’(linked/missing_requirement/requirement_rejected/requirement_pending/trace_incomplete), (8) virtualNode AI ìš°ì„  ë°˜í™˜ + backlog.unassigned ì¶”ê°€, (9) ìš´ì˜ KPI 3ì¢… ì¶”ê°€(unestimated/ready_without_sprint/unassigned_ready), (10) ê¹¨ì§€ê¸° ì‰¬ìš´ 3ê³³ ì²´í¬ë¦¬ìŠ¤íŠ¸, (11) completeness ì„¸ë¶„í™”(epics/features/stories/tasks/overall) |
| v2.1 | 2026-02-08 | 6ê°œ ì˜ì—­ ë³´ê°•: (1) Â§2.4 FilterSpec URL ì§ë ¬í™” ê·œì¹™ â€” serialize/deserialize ì™•ë³µ ë³´ì¥ + boolean/enum í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦ + ë¯¸ì§€ í‚¤ silent drop, (2) Â§5.2.2 Feature ìë™ ì „ì´ ê·œì¹™ â€” Story ìƒíƒœ ë³€í™”ì— ì—°ë™ë˜ëŠ” OPENâ†’IN_PROGRESSâ†’DONE ì„œë²„ íŠ¸ëœì­ì…˜ ì¶”ê°€, (3) Â§7.8 Sprint í• ë‹¹ ì—ëŸ¬ ê³„ì•½ â€” 6ì¢… ì—ëŸ¬ ì½”ë“œ(STORY_NOT_READY/SPRINT_NOT_ASSIGNABLE/SPRINT_CAPACITY_EXCEEDED/PART_ACCESS_DENIED/STORY_ALREADY_IN_SPRINT/CONCURRENT_MODIFICATION) + HTTP ìƒíƒœ + í”„ë¡ íŠ¸ ëŒ€ì‘, (4) Â§11.7 KPI ì¹´ë“œ í´ë¦­ â†’ í•„í„° í™œì„±í™” â€” KPI_CARD_FILTER_MAP + toggle ë™ì‘ + queryMode ì „í™˜, (5) Â§11.8 ë™ì‹œ í¸ì§‘ ì¶©ëŒ â€” ë‚™ê´€ì  ì ê¸ˆ(If-Match + version) + 409 ë³‘í•© ì•ˆë‚´, (6) Â§13 ê¹¨ì§€ê¸° ì‰¬ìš´ ê³³ 3â†’5 í™•ì¥ â€” ë™ì‹œ í¸ì§‘ ì¶©ëŒ + SEARCH ëª¨ë“œ ì„±ëŠ¥ í•œê³„(200 Story/500 Task ì œí•œ) ì¶”ê°€ |
